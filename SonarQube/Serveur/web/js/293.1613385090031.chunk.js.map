{"version":3,"sources":["webpack:///./node_modules/sonar-ui-common/components/ui/NavBarTabs.js","webpack:///./node_modules/sonar-ui-common/components/ui/NavBarTabs.css?3f12","webpack:///./node_modules/sonar-ui-common/components/ui/NavBarTabs.css","webpack:///./src/main/js/app/components/AdminContext.tsx","webpack:///./node_modules/sonar-ui-common/components/ui/ContextNavBar.js","webpack:///./node_modules/sonar-ui-common/components/ui/ContextNavBar.css?544d","webpack:///./node_modules/sonar-ui-common/components/ui/ContextNavBar.css","webpack:///./src/main/js/components/common/RestartButton.tsx","webpack:///./src/main/js/app/components/nav/settings/PendingPluginsActionNotif.tsx","webpack:///./src/main/js/app/components/nav/settings/SystemRestartNotif.tsx","webpack:///./src/main/js/app/components/nav/settings/SettingsNav.tsx","webpack:///./src/main/js/app/components/AdminContainer.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/SimpleModal.js","webpack:///./node_modules/sonar-ui-common/components/controls/ConfirmModal.js","webpack:///./node_modules/lodash/toFinite.js","webpack:///./node_modules/lodash/toInteger.js","webpack:///./node_modules/sonar-ui-common/components/controls/ConfirmButton.js","webpack:///./node_modules/sonar-ui-common/components/controls/ModalButton.js","webpack:///./node_modules/lodash/_baseFindIndex.js","webpack:///./src/main/js/api/system.ts","webpack:///./src/main/js/api/nav.ts","webpack:///./node_modules/lodash/findLastIndex.js","webpack:///./src/main/js/types/plugins.ts","webpack:///./src/main/js/app/utils/handleRequiredAuthorization.ts","webpack:///./src/main/js/api/plugins.ts"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","defineProperty","exports","value","classNames","React","default","_a","children","className","other","createElement","api","content","__esModule","module","options","exported","locals","___CSS_LOADER_API_IMPORT___","push","defaultPendingPlugins","installing","removing","updating","defaultSystemStatus","AdminContext","fetchSystemStatus","fetchPendingPlugins","pendingPlugins","systemStatus","NavBar_1","handleConfirm","then","props","render","confirmButtonText","modalBody","modalHeader","onConfirm","onClick","disabled","handleRevert","refreshPending","pending","Alert","display","variant","InstanceMessage","message","msg","filter","map","idx","key","defaultMessage","id","values","nb","RestartButton","SystemRestartNotif","instance","link","to","pathname","renderExtension","name","activeClassName","isSomethingActive","urls","path","window","location","some","url","isSecurityActive","isProjectsActive","isSystemActive","isMarketplace","renderConfigurationTab","extensionsWithoutSupport","extensions","extension","overlay","tagName","onToggleClick","open","role","active","href","renderProjectsTab","renderSecurityTab","notifComponent","hasSupportExtension","find","totalPendingPlugins","contextNavHeight","contextNavHeightRaw","height","notif","defaultProps","mounted","state","fetchNavigationSettings","r","setAdminPages","setState","status","waitRestartingDone","document","reload","componentDidMount","appState","canAdmin","handleRequiredAuthorization","componentWillUnmount","adminPages","defaultTitle","defer","titleTemplate","Provider","mapDispatchToProps","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","__","constructor","create","Modal_1","SimpleModal","_super","_this","submitting","stopSubmitting","handleCloseClick","event","preventDefault","currentTarget","blur","onClose","handleFormSubmit","submit","handleSubmitClick","result","onSubmit","header","modalProps","contentLabel","onRequestClose","onCloseClick","onFormSubmit","onSubmitClick","Component","l10n_1","DeferredSpinner_1","buttons_1","ClickEventBoundary_1","SimpleModal_1","ConfirmModal","handleSubmit","confirmData","renderModalContent","_b","confirmDisable","headerDescription","isDestructive","_c","cancelButtonText","translate","loading","SubmitButton","autoFocus","undefined","ResetButtonLink","noBackdrop","size","PureComponent","toNumber","toFinite","remainder","ConfirmModal_1","ModalButton_1","ConfirmButton","renderConfirmModal","modalHeaderDescription","confirmModalProps","modal","ModalButton","handleButtonClick","handleCloseModal","Fragment","array","predicate","fromIndex","fromRight","index","setLogLevel","level","catch","getSystemInfo","getSystemStatus","getSystemUpgrades","getMigrationStatus","migrateDatabase","restart","waitSystemUPStatus","max","slowThreshold","getComponentNavigation","data","getMarketplaceNavigation","getSettingsNavigation","baseFindIndex","baseIteratee","toInteger","nativeMax","Math","nativeMin","min","PluginType","isAvailablePlugin","plugin","release","isInstalledPlugin","version","isPendingPlugin","updatedAt","store","history","returnTo","search","hash","dispatch","replace","query","return_to","getAvailablePlugins","getPendingPlugins","getLastUpdates","updates","update","addChangelog","previousUpdates","slice","getInstalledPluginApi","type","External","f","getUpdatesPluginApi","getInstalledPlugins","getInstalledPluginsWithUpdates","Promise","all","installed","plugins","updatePlugin","getPluginUpdates","installPlugin","uninstallPlugin","cancelPendingPlugins"],"mappings":"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","file":"js/293.1613385090031.chunk.js","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nrequire(\"./NavBarTabs.css\");\nfunction NavBarTabs(_a) {\n    var children = _a.children, className = _a.className, other = __rest(_a, [\"children\", \"className\"]);\n    return (React.createElement(\"ul\", __assign({}, other, { className: classNames('navbar-tabs', className) }), children));\n}\nexports.default = NavBarTabs;\n//# sourceMappingURL=NavBarTabs.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./NavBarTabs.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".navbar-tabs{display:flex;align-items:center;clear:left;height:24px;margin-top:8px}.navbar-tabs>li+li{margin-left:20px}.navbar-tabs>li>a{display:block;height:24px;line-height:16px;padding-top:2px;border-bottom:3px solid transparent;box-sizing:border-box;color:#444;transition:none}.navbar-tabs>li>a.active,.navbar-tabs>li>a:focus,.navbar-tabs>li>a:hover{border-bottom-color:#4b9fd5}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { PendingPluginResult } from '../../types/plugins';\n\nexport interface AdminContextInterface {\n  fetchSystemStatus: () => void;\n  fetchPendingPlugins: () => void;\n  pendingPlugins: PendingPluginResult;\n  systemStatus: T.SysStatus;\n}\n\nexport const defaultPendingPlugins = { installing: [], removing: [], updating: [] };\nexport const defaultSystemStatus = 'UP';\n\nconst AdminContext = React.createContext<AdminContextInterface>({\n  fetchSystemStatus: () => {},\n  fetchPendingPlugins: () => {},\n  pendingPlugins: defaultPendingPlugins,\n  systemStatus: defaultSystemStatus\n});\nexport default AdminContext;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nrequire(\"./ContextNavBar.css\");\nvar NavBar_1 = require(\"./NavBar\");\nfunction ContextNavBar(_a) {\n    var className = _a.className, other = __rest(_a, [\"className\"]);\n    return React.createElement(NavBar_1.default, __assign({ className: classNames('navbar-context', className) }, other));\n}\nexports.default = ContextNavBar;\n//# sourceMappingURL=ContextNavBar.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./ContextNavBar.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".navbar-context,.navbar-context .navbar-inner{background-color:#fff;z-index:420}.navbar-context .navbar-inner{padding-top:8px;border-bottom:1px solid #e6e6e6}.navbar-context .navbar-inner-with-notif{border-bottom:none}.navbar-context-justified{display:flex;justify-content:space-between}.navbar-context-header{display:flex;align-items:center;min-width:0;height:32px;font-size:16px}.navbar-context-header>:not(.navbar-context-header-breadcrumb-link){flex-shrink:0}.navbar-context-header-breadcrumb-link{min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.navbar-context-header .slash-separator{margin-left:8px;margin-right:8px;font-size:24px}.navbar-context-header .slash-separator:after{color:rgba(68,68,68,.2)}.navbar-context-meta{display:flex;align-items:center;height:32px;padding-left:20px;color:#777;font-size:12px;text-align:right}.navbar-context-meta-secondary{position:absolute;top:34px;right:0;padding:0 20px;white-space:nowrap}.navbar-context-description{display:inline-block;line-height:24px;margin-left:8px;padding-top:4px;color:#777;font-size:12px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport ConfirmButton from 'sonar-ui-common/components/controls/ConfirmButton';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { restart } from '../../api/system';\n\ninterface Props {\n  className?: string;\n  fetchSystemStatus: () => void;\n  systemStatus: T.SysStatus;\n}\n\nexport default class RestartButton extends React.PureComponent<Props> {\n  handleConfirm = () => {\n    return restart().then(this.props.fetchSystemStatus);\n  };\n\n  render() {\n    const { className, systemStatus } = this.props;\n    return (\n      <ConfirmButton\n        confirmButtonText={translate('restart')}\n        modalBody={\n          <>\n            <p className=\"spacer-top spacer-bottom\">\n              {translate('system.are_you_sure_to_restart')}\n            </p>\n            <p>{translate('system.forcing_shutdown_not_recommended')}</p>\n          </>\n        }\n        modalHeader={translate('system.restart_server')}\n        onConfirm={this.handleConfirm}>\n        {({ onClick }) => (\n          <Button\n            className={classNames('button-red', className)}\n            disabled={systemStatus !== 'UP'}\n            onClick={onClick}>\n            {systemStatus === 'RESTARTING'\n              ? translate('system.restart_in_progress')\n              : translate('system.restart_server')}\n          </Button>\n        )}\n      </ConfirmButton>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { cancelPendingPlugins } from '../../../../api/plugins';\nimport InstanceMessage from '../../../../components/common/InstanceMessage';\nimport RestartButton from '../../../../components/common/RestartButton';\nimport { PendingPluginResult } from '../../../../types/plugins';\n\ninterface Props {\n  fetchSystemStatus: () => void;\n  pending: PendingPluginResult;\n  refreshPending: () => void;\n  systemStatus: T.SysStatus;\n}\n\nexport default class PendingPluginsActionNotif extends React.PureComponent<Props> {\n  handleRevert = () => {\n    cancelPendingPlugins().then(this.props.refreshPending, () => {});\n  };\n\n  render() {\n    const { installing, updating, removing } = this.props.pending;\n    const hasPendingActions = installing.length || updating.length || removing.length;\n    if (!hasPendingActions) {\n      return null;\n    }\n\n    return (\n      <Alert className=\"js-pending\" display=\"banner\" variant=\"info\">\n        <div className=\"display-flex-center\">\n          <span className=\"little-spacer-right\">\n            <InstanceMessage message={translate('marketplace.instance_needs_to_be_restarted_to')} />\n          </span>\n          {[\n            { length: installing.length, msg: 'marketplace.install_x_plugins' },\n            { length: updating.length, msg: 'marketplace.update_x_plugins' },\n            { length: removing.length, msg: 'marketplace.uninstall_x_plugins' }\n          ]\n            .filter(({ length }) => length > 0)\n            .map(({ length, msg }, idx) => (\n              <span key={msg}>\n                {idx > 0 && '; '}\n                <FormattedMessage\n                  defaultMessage={translate(msg)}\n                  id={msg}\n                  values={{ nb: <strong>{length}</strong> }}\n                />\n              </span>\n            ))}\n\n          <RestartButton\n            className=\"spacer-left\"\n            fetchSystemStatus={this.props.fetchSystemStatus}\n            systemStatus={this.props.systemStatus}\n          />\n          <Button className=\"spacer-left js-cancel-all\" onClick={this.handleRevert}>\n            {translate('marketplace.revert')}\n          </Button>\n        </div>\n      </Alert>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getInstance } from '../../../../helpers/system';\n\nexport default function SystemRestartNotif() {\n  return (\n    <Alert display=\"banner\" variant=\"info\">\n      <FormattedMessage\n        defaultMessage={translate('system.instance_restarting')}\n        id=\"system.instance_restarting\"\n        values={{\n          instance: getInstance(),\n          link: (\n            <Link to={{ pathname: '/admin/background_tasks' }}>\n              {translate('background_tasks.page')}\n            </Link>\n          )\n        }}\n      />\n    </Alert>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { IndexLink, Link } from 'react-router';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport ContextNavBar from 'sonar-ui-common/components/ui/ContextNavBar';\nimport NavBarTabs from 'sonar-ui-common/components/ui/NavBarTabs';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport { PendingPluginResult } from '../../../../types/plugins';\nimport { rawSizes } from '../../../theme';\nimport PendingPluginsActionNotif from './PendingPluginsActionNotif';\nimport SystemRestartNotif from './SystemRestartNotif';\n\ninterface Props {\n  extensions: T.Extension[];\n  fetchPendingPlugins: () => void;\n  fetchSystemStatus: () => void;\n  location: {};\n  pendingPlugins: PendingPluginResult;\n  systemStatus: T.SysStatus;\n}\n\nexport default class SettingsNav extends React.PureComponent<Props> {\n  static defaultProps = {\n    extensions: []\n  };\n\n  isSomethingActive(urls: string[]): boolean {\n    const path = window.location.pathname;\n    return urls.some((url: string) => path.indexOf(getBaseUrl() + url) === 0);\n  }\n\n  isSecurityActive() {\n    const urls = [\n      '/admin/users',\n      '/admin/groups',\n      '/admin/permissions',\n      '/admin/permission_templates'\n    ];\n    return this.isSomethingActive(urls);\n  }\n\n  isProjectsActive() {\n    const urls = ['/admin/projects_management', '/admin/background_tasks'];\n    return this.isSomethingActive(urls);\n  }\n\n  isSystemActive() {\n    const urls = ['/admin/system'];\n    return this.isSomethingActive(urls);\n  }\n\n  isMarketplace() {\n    const urls = ['/admin/marketplace'];\n    return this.isSomethingActive(urls);\n  }\n\n  renderExtension = ({ key, name }: T.Extension) => {\n    return (\n      <li key={key}>\n        <Link activeClassName=\"active\" to={`/admin/extension/${key}`}>\n          {name}\n        </Link>\n      </li>\n    );\n  };\n\n  renderConfigurationTab() {\n    const extensionsWithoutSupport = this.props.extensions.filter(\n      extension => extension.key !== 'license/support'\n    );\n    return (\n      <Dropdown\n        overlay={\n          <ul className=\"menu\">\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/settings\">\n                {translate('settings.page')}\n              </IndexLink>\n            </li>\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/settings/encryption\">\n                {translate('property.category.security.encryption')}\n              </IndexLink>\n            </li>\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/custom_metrics\">\n                {translate('custom_metrics.page')}\n              </IndexLink>\n            </li>\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/webhooks\">\n                {translate('webhooks.page')}\n              </IndexLink>\n            </li>\n            {extensionsWithoutSupport.map(this.renderExtension)}\n          </ul>\n        }\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"menu\"\n            role=\"button\"\n            className={classNames('dropdown-toggle', {\n              active:\n                open ||\n                (!this.isSecurityActive() &&\n                  !this.isProjectsActive() &&\n                  !this.isSystemActive() &&\n                  !this.isSomethingActive(['/admin/extension/license/support']) &&\n                  !this.isMarketplace())\n            })}\n            href=\"#\"\n            id=\"settings-navigation-configuration\"\n            onClick={onToggleClick}>\n            {translate('sidebar.project_settings')}\n            <DropdownIcon className=\"little-spacer-left\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  }\n\n  renderProjectsTab() {\n    return (\n      <Dropdown\n        overlay={\n          <ul className=\"menu\">\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/projects_management\">\n                {translate('management')}\n              </IndexLink>\n            </li>\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/background_tasks\">\n                {translate('background_tasks.page')}\n              </IndexLink>\n            </li>\n          </ul>\n        }\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"menu\"\n            role=\"button\"\n            className={classNames('dropdown-toggle', { active: open || this.isProjectsActive() })}\n            href=\"#\"\n            onClick={onToggleClick}>\n            {translate('sidebar.projects')}\n            <DropdownIcon className=\"little-spacer-left\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  }\n\n  renderSecurityTab() {\n    return (\n      <Dropdown\n        overlay={\n          <ul className=\"menu\">\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/users\">\n                {translate('users.page')}\n              </IndexLink>\n            </li>\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/groups\">\n                {translate('user_groups.page')}\n              </IndexLink>\n            </li>\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/permissions\">\n                {translate('global_permissions.page')}\n              </IndexLink>\n            </li>\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/permission_templates\">\n                {translate('permission_templates')}\n              </IndexLink>\n            </li>\n          </ul>\n        }\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"menu\"\n            role=\"button\"\n            className={classNames('dropdown-toggle', { active: open || this.isSecurityActive() })}\n            href=\"#\"\n            onClick={onToggleClick}>\n            {translate('sidebar.security')}\n            <DropdownIcon className=\"little-spacer-left\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  }\n\n  render() {\n    const { extensions, pendingPlugins } = this.props;\n    const hasSupportExtension = extensions.find(extension => extension.key === 'license/support');\n    const totalPendingPlugins =\n      pendingPlugins.installing.length +\n      pendingPlugins.removing.length +\n      pendingPlugins.updating.length;\n    const contextNavHeight = rawSizes.contextNavHeightRaw;\n    let notifComponent;\n    if (this.props.systemStatus === 'RESTARTING') {\n      notifComponent = <SystemRestartNotif />;\n    } else if (totalPendingPlugins > 0) {\n      notifComponent = (\n        <PendingPluginsActionNotif\n          fetchSystemStatus={this.props.fetchSystemStatus}\n          pending={pendingPlugins}\n          refreshPending={this.props.fetchPendingPlugins}\n          systemStatus={this.props.systemStatus}\n        />\n      );\n    }\n\n    return (\n      <ContextNavBar\n        height={notifComponent ? contextNavHeight + 30 : contextNavHeight}\n        id=\"context-navigation\"\n        notif={notifComponent}>\n        <header className=\"navbar-context-header\">\n          <h1>{translate('layout.settings')}</h1>\n        </header>\n\n        <NavBarTabs>\n          {this.renderConfigurationTab()}\n          {this.renderSecurityTab()}\n          {this.renderProjectsTab()}\n\n          <li>\n            <IndexLink activeClassName=\"active\" to=\"/admin/system\">\n              {translate('sidebar.system')}\n            </IndexLink>\n          </li>\n\n          <li>\n            <IndexLink activeClassName=\"active\" to=\"/admin/marketplace\">\n              {translate('marketplace.page')}\n            </IndexLink>\n          </li>\n\n          {hasSupportExtension && (\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/extension/license/support\">\n                {translate('support')}\n              </IndexLink>\n            </li>\n          )}\n        </NavBarTabs>\n      </ContextNavBar>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { connect } from 'react-redux';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getSettingsNavigation } from '../../api/nav';\nimport { getPendingPlugins } from '../../api/plugins';\nimport { getSystemStatus, waitSystemUPStatus } from '../../api/system';\nimport handleRequiredAuthorization from '../../app/utils/handleRequiredAuthorization';\nimport { setAdminPages } from '../../store/appState';\nimport { getAppState, Store } from '../../store/rootReducer';\nimport { PendingPluginResult } from '../../types/plugins';\nimport AdminContext, { defaultPendingPlugins, defaultSystemStatus } from './AdminContext';\nimport SettingsNav from './nav/settings/SettingsNav';\n\ninterface Props {\n  appState: Pick<T.AppState, 'adminPages' | 'canAdmin'>;\n  location: {};\n  setAdminPages: (adminPages: T.Extension[]) => void;\n}\n\ninterface State {\n  pendingPlugins: PendingPluginResult;\n  systemStatus: T.SysStatus;\n}\n\nexport class AdminContainer extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    pendingPlugins: defaultPendingPlugins,\n    systemStatus: defaultSystemStatus\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    if (!this.props.appState.canAdmin) {\n      handleRequiredAuthorization();\n    } else {\n      this.fetchNavigationSettings();\n      this.fetchPendingPlugins();\n      this.fetchSystemStatus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchNavigationSettings = () => {\n    getSettingsNavigation().then(\n      r => this.props.setAdminPages(r.extensions),\n      () => {}\n    );\n  };\n\n  fetchPendingPlugins = () => {\n    getPendingPlugins().then(\n      pendingPlugins => {\n        if (this.mounted) {\n          this.setState({ pendingPlugins });\n        }\n      },\n      () => {}\n    );\n  };\n\n  fetchSystemStatus = () => {\n    getSystemStatus().then(\n      ({ status }) => {\n        if (this.mounted) {\n          this.setState({ systemStatus: status });\n          if (status === 'RESTARTING') {\n            this.waitRestartingDone();\n          }\n        }\n      },\n      () => {}\n    );\n  };\n\n  waitRestartingDone = () => {\n    waitSystemUPStatus().then(\n      ({ status }) => {\n        if (this.mounted) {\n          this.setState({ systemStatus: status });\n          document.location.reload();\n        }\n      },\n      () => {}\n    );\n  };\n\n  render() {\n    const { adminPages } = this.props.appState;\n\n    // Check that the adminPages are loaded\n    if (!adminPages) {\n      return null;\n    }\n\n    const { pendingPlugins, systemStatus } = this.state;\n    const defaultTitle = translate('layout.settings');\n\n    return (\n      <div>\n        <Helmet defaultTitle={defaultTitle} defer={false} titleTemplate={`%s - ${defaultTitle}`} />\n        <SettingsNav\n          extensions={adminPages}\n          fetchPendingPlugins={this.fetchPendingPlugins}\n          fetchSystemStatus={this.fetchSystemStatus}\n          location={this.props.location}\n          pendingPlugins={pendingPlugins}\n          systemStatus={systemStatus}\n        />\n        <AdminContext.Provider\n          value={{\n            fetchSystemStatus: this.fetchSystemStatus,\n            fetchPendingPlugins: this.fetchPendingPlugins,\n            pendingPlugins,\n            systemStatus\n          }}>\n          {this.props.children}\n        </AdminContext.Provider>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({ appState: getAppState(state) });\n\nconst mapDispatchToProps = { setAdminPages };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AdminContainer);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Modal_1 = require(\"./Modal\");\nvar SimpleModal = (function (_super) {\n    __extends(SimpleModal, _super);\n    function SimpleModal() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = false;\n        _this.state = { submitting: false };\n        _this.stopSubmitting = function () {\n            if (_this.mounted) {\n                _this.setState({ submitting: false });\n            }\n        };\n        _this.handleCloseClick = function (event) {\n            if (event) {\n                event.preventDefault();\n                event.currentTarget.blur();\n            }\n            _this.props.onClose();\n        };\n        _this.handleFormSubmit = function (event) {\n            event.preventDefault();\n            _this.submit();\n        };\n        _this.handleSubmitClick = function (event) {\n            if (event) {\n                event.preventDefault();\n                event.currentTarget.blur();\n            }\n            _this.submit();\n        };\n        _this.submit = function () {\n            var result = _this.props.onSubmit();\n            if (result) {\n                _this.setState({ submitting: true });\n                result.then(_this.stopSubmitting, _this.stopSubmitting);\n            }\n        };\n        return _this;\n    }\n    SimpleModal.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    SimpleModal.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    SimpleModal.prototype.render = function () {\n        var _a = this.props, children = _a.children, header = _a.header, onClose = _a.onClose, onSubmit = _a.onSubmit, modalProps = __rest(_a, [\"children\", \"header\", \"onClose\", \"onSubmit\"]);\n        return (React.createElement(Modal_1.default, __assign({ contentLabel: header, onRequestClose: onClose }, modalProps), children({\n            onCloseClick: this.handleCloseClick,\n            onFormSubmit: this.handleFormSubmit,\n            onSubmitClick: this.handleSubmitClick,\n            submitting: this.state.submitting,\n        })));\n    };\n    return SimpleModal;\n}(React.Component));\nexports.default = SimpleModal;\n//# sourceMappingURL=SimpleModal.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar DeferredSpinner_1 = require(\"../ui/DeferredSpinner\");\nvar buttons_1 = require(\"./buttons\");\nvar ClickEventBoundary_1 = require(\"./ClickEventBoundary\");\nvar SimpleModal_1 = require(\"./SimpleModal\");\nvar ConfirmModal = (function (_super) {\n    __extends(ConfirmModal, _super);\n    function ConfirmModal() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = false;\n        _this.handleSubmit = function () {\n            var result = _this.props.onConfirm(_this.props.confirmData);\n            if (result) {\n                return result.then(_this.props.onClose, function () { });\n            }\n            else {\n                _this.props.onClose();\n                return undefined;\n            }\n        };\n        _this.renderModalContent = function (_a) {\n            var onCloseClick = _a.onCloseClick, onFormSubmit = _a.onFormSubmit, submitting = _a.submitting;\n            var _b = _this.props, children = _b.children, confirmButtonText = _b.confirmButtonText, confirmDisable = _b.confirmDisable, header = _b.header, headerDescription = _b.headerDescription, isDestructive = _b.isDestructive, _c = _b.cancelButtonText, cancelButtonText = _c === void 0 ? l10n_1.translate('cancel') : _c;\n            return (React.createElement(ClickEventBoundary_1.default, null,\n                React.createElement(\"form\", { onSubmit: onFormSubmit },\n                    React.createElement(\"header\", { className: \"modal-head\" },\n                        React.createElement(\"h2\", null, header),\n                        headerDescription),\n                    React.createElement(\"div\", { className: \"modal-body\" }, children),\n                    React.createElement(\"footer\", { className: \"modal-foot\" },\n                        React.createElement(DeferredSpinner_1.default, { className: \"spacer-right\", loading: submitting }),\n                        React.createElement(buttons_1.SubmitButton, { autoFocus: true, className: isDestructive ? 'button-red' : undefined, disabled: submitting || confirmDisable }, confirmButtonText),\n                        React.createElement(buttons_1.ResetButtonLink, { disabled: submitting, onClick: onCloseClick }, cancelButtonText)))));\n        };\n        return _this;\n    }\n    ConfirmModal.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    ConfirmModal.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    ConfirmModal.prototype.render = function () {\n        var _a = this.props, header = _a.header, onClose = _a.onClose, noBackdrop = _a.noBackdrop, size = _a.size;\n        var modalProps = { header: header, onClose: onClose, noBackdrop: noBackdrop, size: size };\n        return (React.createElement(SimpleModal_1.default, __assign({ onSubmit: this.handleSubmit }, modalProps), this.renderModalContent));\n    };\n    return ConfirmModal;\n}(React.PureComponent));\nexports.default = ConfirmModal;\n//# sourceMappingURL=ConfirmModal.js.map","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ConfirmModal_1 = require(\"./ConfirmModal\");\nvar ModalButton_1 = require(\"./ModalButton\");\nvar ConfirmButton = (function (_super) {\n    __extends(ConfirmButton, _super);\n    function ConfirmButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderConfirmModal = function (_a) {\n            var onClose = _a.onClose;\n            var _b = _this.props, children = _b.children, modalBody = _b.modalBody, modalHeader = _b.modalHeader, modalHeaderDescription = _b.modalHeaderDescription, confirmModalProps = __rest(_b, [\"children\", \"modalBody\", \"modalHeader\", \"modalHeaderDescription\"]);\n            return (React.createElement(ConfirmModal_1.default, __assign({ header: modalHeader, headerDescription: modalHeaderDescription, onClose: onClose }, confirmModalProps), modalBody));\n        };\n        return _this;\n    }\n    ConfirmButton.prototype.render = function () {\n        return React.createElement(ModalButton_1.default, { modal: this.renderConfirmModal }, this.props.children);\n    };\n    return ConfirmButton;\n}(React.PureComponent));\nexports.default = ConfirmButton;\n//# sourceMappingURL=ConfirmButton.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ModalButton = (function (_super) {\n    __extends(ModalButton, _super);\n    function ModalButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = false;\n        _this.state = { modal: false };\n        _this.handleButtonClick = function () {\n            _this.setState({ modal: true });\n        };\n        _this.handleFormSubmit = function (event) {\n            if (event) {\n                event.preventDefault();\n            }\n            _this.setState({ modal: true });\n        };\n        _this.handleCloseModal = function () {\n            if (_this.mounted) {\n                _this.setState({ modal: false });\n            }\n        };\n        return _this;\n    }\n    ModalButton.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    ModalButton.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    ModalButton.prototype.render = function () {\n        return (React.createElement(React.Fragment, null,\n            this.props.children({\n                onClick: this.handleButtonClick,\n                onFormSubmit: this.handleFormSubmit,\n            }),\n            this.state.modal && this.props.modal({ onClose: this.handleCloseModal })));\n    };\n    return ModalButton;\n}(React.PureComponent));\nexports.default = ModalButton;\n//# sourceMappingURL=ModalButton.js.map","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON, requestTryAndRepeatUntil } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { SystemUpgrade } from '../types/system';\n\nexport function setLogLevel(level: string): Promise<void | Response> {\n  return post('/api/system/change_log_level', { level }).catch(throwGlobalError);\n}\n\nexport function getSystemInfo(): Promise<T.SysInfoCluster | T.SysInfoStandalone> {\n  return getJSON('/api/system/info').catch(throwGlobalError);\n}\n\nexport function getSystemStatus(): Promise<{ id: string; version: string; status: T.SysStatus }> {\n  return getJSON('/api/system/status');\n}\n\nexport function getSystemUpgrades(): Promise<{\n  upgrades: SystemUpgrade[];\n  updateCenterRefresh: string;\n}> {\n  return getJSON('/api/system/upgrades');\n}\n\nexport function getMigrationStatus(): Promise<{\n  message?: string;\n  startedAt?: string;\n  state: string;\n}> {\n  return getJSON('/api/system/db_migration_status');\n}\n\nexport function migrateDatabase(): Promise<{\n  message?: string;\n  startedAt?: string;\n  state: string;\n}> {\n  return postJSON('/api/system/migrate_db');\n}\n\nexport function restart(): Promise<void | Response> {\n  return post('/api/system/restart').catch(throwGlobalError);\n}\n\nexport function waitSystemUPStatus(): Promise<{\n  id: string;\n  version: string;\n  status: T.SysStatus;\n}> {\n  return requestTryAndRepeatUntil(\n    getSystemStatus,\n    { max: -1, slowThreshold: -15 },\n    ({ status }) => status === 'UP'\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { BranchParameters } from '../types/branch-like';\n\ntype NavComponent = T.Omit<T.Component, 'alm' | 'qualifier' | 'leakPeriodDate' | 'path' | 'tags'>;\n\nexport function getComponentNavigation(\n  data: { component: string } & BranchParameters\n): Promise<NavComponent> {\n  return getJSON('/api/navigation/component', data).catch(throwGlobalError);\n}\n\nexport function getMarketplaceNavigation(): Promise<{ serverId: string; ncloc: number }> {\n  return getJSON('/api/navigation/marketplace').catch(throwGlobalError);\n}\n\nexport function getSettingsNavigation(): Promise<any> {\n  return getJSON('/api/navigation/settings').catch(throwGlobalError);\n}\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * This method is like `_.findIndex` except that it iterates over elements\n * of `collection` from right to left.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=array.length-1] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': true },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': false }\n * ];\n *\n * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n * // => 2\n *\n * // The `_.matches` iteratee shorthand.\n * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n * // => 0\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findLastIndex(users, ['active', false]);\n * // => 2\n *\n * // The `_.property` iteratee shorthand.\n * _.findLastIndex(users, 'active');\n * // => 0\n */\nfunction findLastIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = length - 1;\n  if (fromIndex !== undefined) {\n    index = toInteger(fromIndex);\n    index = fromIndex < 0\n      ? nativeMax(length + index, 0)\n      : nativeMin(index, length - 1);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index, true);\n}\n\nmodule.exports = findLastIndex;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport interface Plugin {\n  key: string;\n  name: string;\n  category?: string;\n  description?: string;\n  editionBundled?: boolean;\n  license?: string;\n  organizationName?: string;\n  homepageUrl?: string;\n  organizationUrl?: string;\n  issueTrackerUrl?: string;\n  termsAndConditionsUrl?: string;\n}\n\nexport interface PendingPluginResult {\n  installing: PendingPlugin[];\n  updating: PendingPlugin[];\n  removing: PendingPlugin[];\n}\n\nexport interface AvailablePlugin extends Plugin {\n  release: Release;\n  update: Update;\n}\n\nexport interface PendingPlugin extends Plugin {\n  version: string;\n  implementationBuild: string;\n}\n\nexport interface InstalledPlugin extends PendingPlugin {\n  documentationPath?: string;\n  issueTrackerUrl?: string;\n  filename: string;\n  hash: string;\n  sonarLintSupported: boolean;\n  updatedAt: number;\n  updates?: Update[];\n}\n\nexport interface Release {\n  version: string;\n  date: string;\n  description?: string;\n  changeLogUrl?: string;\n}\n\nexport interface Update {\n  status: string;\n  release?: Release;\n  requires: Plugin[];\n  previousUpdates?: Update[];\n}\n\nexport enum PluginType {\n  Bundled = 'BUNDLED',\n  External = 'EXTERNAL'\n}\n\nexport function isAvailablePlugin(plugin: Plugin): plugin is AvailablePlugin {\n  return (plugin as any).release !== undefined;\n}\n\nexport function isInstalledPlugin(plugin: Plugin): plugin is InstalledPlugin {\n  return isPendingPlugin(plugin) && (plugin as any).updatedAt !== undefined;\n}\n\nexport function isPendingPlugin(plugin: Plugin): plugin is PendingPlugin {\n  return (plugin as any).version !== undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport getHistory from 'sonar-ui-common/helpers/getHistory';\nimport { requireAuthorization } from '../../store/appState';\nimport getStore from './getStore';\n\nexport default function handleRequiredAuthorization() {\n  const store = getStore();\n  const history = getHistory();\n\n  const returnTo = window.location.pathname + window.location.search + window.location.hash;\n\n  store.dispatch(requireAuthorization());\n  history.replace({ pathname: '/sessions/new', query: { return_to: returnTo } });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { findLastIndex } from 'lodash';\nimport { getJSON, post } from 'sonar-ui-common/helpers/request';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport {\n  AvailablePlugin,\n  InstalledPlugin,\n  PendingPluginResult,\n  PluginType,\n  Update\n} from '../types/plugins';\n\nexport function getAvailablePlugins(): Promise<{\n  plugins: AvailablePlugin[];\n  updateCenterRefresh: string;\n}> {\n  return getJSON('/api/plugins/available').catch(throwGlobalError);\n}\n\nexport function getPendingPlugins(): Promise<PendingPluginResult> {\n  return getJSON('/api/plugins/pending').catch(throwGlobalError);\n}\n\nfunction getLastUpdates(updates: undefined | Update[]): Update[] {\n  if (!updates) {\n    return [];\n  }\n  const lastUpdate = ['COMPATIBLE', 'REQUIRES_SYSTEM_UPGRADE', 'DEPS_REQUIRE_SYSTEM_UPGRADE'].map(\n    status => {\n      const index = findLastIndex(updates, update => update.status === status);\n      return index > -1 ? updates[index] : undefined;\n    }\n  );\n  return lastUpdate.filter(isDefined);\n}\n\nfunction addChangelog(update: Update, updates?: Update[]) {\n  if (!updates) {\n    return update;\n  }\n  const index = updates.indexOf(update);\n  const previousUpdates = index > 0 ? updates.slice(0, index) : [];\n  return { ...update, previousUpdates };\n}\n\nfunction getInstalledPluginApi(type = PluginType.External) {\n  return getJSON('/api/plugins/installed', { f: 'category', type });\n}\n\nfunction getUpdatesPluginApi() {\n  return getJSON('/api/plugins/updates');\n}\n\nexport function getInstalledPlugins(\n  type: PluginType = PluginType.External\n): Promise<InstalledPlugin[]> {\n  return getInstalledPluginApi(type).then(({ plugins }) => plugins, throwGlobalError);\n}\n\nexport function getInstalledPluginsWithUpdates(): Promise<InstalledPlugin[]> {\n  return Promise.all([getInstalledPluginApi(), getUpdatesPluginApi()])\n    .then(([installed, updates]) =>\n      installed.plugins.map((plugin: InstalledPlugin) => {\n        const updatePlugin: InstalledPlugin = updates.plugins.find(\n          (p: InstalledPlugin) => p.key === plugin.key\n        );\n        if (updatePlugin) {\n          return {\n            ...updatePlugin,\n            ...plugin,\n            updates: getLastUpdates(updatePlugin.updates).map(update =>\n              addChangelog(update, updatePlugin.updates)\n            )\n          };\n        }\n        return plugin;\n      })\n    )\n    .catch(throwGlobalError);\n}\n\nexport function getPluginUpdates(): Promise<InstalledPlugin[]> {\n  return Promise.all([getUpdatesPluginApi(), getInstalledPluginApi()])\n    .then(([updates, installed]) =>\n      updates.plugins.map((updatePlugin: InstalledPlugin) => {\n        const updates = getLastUpdates(updatePlugin.updates).map(update =>\n          addChangelog(update, updatePlugin.updates)\n        );\n        const plugin = installed.plugins.find((p: InstalledPlugin) => p.key === updatePlugin.key);\n        if (plugin) {\n          return {\n            ...plugin,\n            ...updatePlugin,\n            updates\n          };\n        }\n        return { ...updatePlugin, updates };\n      })\n    )\n    .catch(throwGlobalError);\n}\n\nexport function installPlugin(data: { key: string }): Promise<void | Response> {\n  return post('/api/plugins/install', data).catch(throwGlobalError);\n}\n\nexport function uninstallPlugin(data: { key: string }): Promise<void | Response> {\n  return post('/api/plugins/uninstall', data).catch(throwGlobalError);\n}\n\nexport function updatePlugin(data: { key: string }): Promise<void | Response> {\n  return post('/api/plugins/update', data).catch(throwGlobalError);\n}\n\nexport function cancelPendingPlugins(): Promise<void | Response> {\n  return post('/api/plugins/cancel_all').catch(throwGlobalError);\n}\n"],"sourceRoot":""}