{"version":3,"sources":["webpack:///./src/main/js/components/tutorials/components/Step.tsx","webpack:///./src/main/js/components/tutorials/azure-pipelines/BranchAnalysisStepContent.tsx","webpack:///./src/main/js/components/tutorials/components/RenderOptions.tsx","webpack:///./src/main/js/components/tutorials/components/SentenceWithHighlights.tsx","webpack:///./src/main/js/components/tutorials/azure-pipelines/ExtensionInstallationStepContent.tsx","webpack:///./src/main/js/components/tutorials/azure-pipelines/SaveAndRunStepContent.tsx","webpack:///./src/main/js/components/tutorials/azure-pipelines/AzurePipelinesTutorial.tsx","webpack:///./src/main/js/components/tutorials/utils.ts","webpack:///./src/main/js/components/tutorials/components/EditTokenModal.tsx","webpack:///./src/main/js/components/tutorials/azure-pipelines/ServiceEndpointStepContent.tsx","webpack:///./src/main/js/components/tutorials/gitlabci/EnvironmentVariablesStep.tsx","webpack:///./src/main/js/components/tutorials/gitlabci/types.ts","webpack:///./src/main/js/components/tutorials/gitlabci/ProjectKeyStep.tsx","webpack:///./src/main/js/components/tutorials/gitlabci/commands/PipeCommand.tsx","webpack:///./src/main/js/components/tutorials/gitlabci/YmlFileStep.tsx","webpack:///./src/main/js/components/tutorials/gitlabci/GitLabCITutorial.tsx","webpack:///./src/main/js/components/tutorials/types.ts","webpack:///./src/main/js/components/tutorials/components/SentenceWithFilename.tsx","webpack:///./src/main/js/components/tutorials/jenkins/buildtool-steps/CreateJenkinsfileBulletPoint.tsx","webpack:///./src/main/js/components/tutorials/jenkins/JenkinsfileStep.tsx","webpack:///./src/main/js/components/tutorials/jenkins/buildtool-steps/Maven.tsx","webpack:///./src/main/js/components/tutorials/jenkins/buildtool-steps/Gradle.tsx","webpack:///./src/main/js/components/tutorials/jenkins/buildtool-steps/DotNet.tsx","webpack:///./src/main/js/components/tutorials/jenkins/buildtool-steps/Other.tsx","webpack:///./src/main/js/components/tutorials/components/LabelActionPair.tsx","webpack:///./src/main/js/components/tutorials/components/LabelValuePair.tsx","webpack:///./src/main/js/components/tutorials/jenkins/MultiBranchPipelineStep.tsx","webpack:///./src/main/js/components/tutorials/jenkins/PipelineStep.tsx","webpack:///./src/main/js/components/tutorials/jenkins/JenkinsTutorial.tsx","webpack:///./src/main/js/components/tutorials/jenkins/PreRequisitesStep.tsx","webpack:///./src/main/js/components/tutorials/jenkins/WebhookStepBitbucket.tsx","webpack:///./src/main/js/components/tutorials/jenkins/WebhookStepGithub.tsx","webpack:///./src/main/js/components/tutorials/jenkins/WebhookStep.tsx","webpack:///./src/main/js/components/tutorials/manual/BuildToolForm.tsx","webpack:///./src/main/js/components/tutorials/manual/commands/DotNet.tsx","webpack:///./src/main/js/components/tutorials/manual/commands/JavaGradle.tsx","webpack:///./src/main/js/components/tutorials/manual/commands/JavaMaven.tsx","webpack:///./src/main/js/components/tutorials/manual/commands/Other.tsx","webpack:///./src/main/js/components/tutorials/manual/commands/AnalysisCommand.tsx","webpack:///./src/main/js/components/tutorials/manual/ProjectAnalysisStep.tsx","webpack:///./src/main/js/components/tutorials/manual/ManualTutorial.tsx","webpack:///./src/main/js/components/tutorials/manual/TokenStep.tsx","webpack:///./src/main/js/components/tutorials/TutorialSelectionRenderer.tsx","webpack:///./src/main/js/components/tutorials/TutorialSelection.tsx","webpack:///./src/main/js/components/tutorials/components/Step.css?5e06","webpack:///./src/main/js/components/tutorials/components/Step.css","webpack:///./node_modules/sonar-ui-common/components/controls/SimpleModal.js","webpack:///./node_modules/sonar-ui-common/components/controls/RadioToggle.js","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.js","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css?01af","webpack:///./node_modules/sonar-ui-common/components/controls/RadioToggle.css?35f6","webpack:///./node_modules/sonar-ui-common/components/controls/RadioToggle.css","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css","webpack:///./src/main/js/components/common/CodeSnippet.tsx","webpack:///./src/main/js/api/alm-settings.ts","webpack:///./src/main/js/api/user-tokens.ts","webpack:///./src/main/js/components/common/CodeSnippet.css?463c","webpack:///./src/main/js/components/common/CodeSnippet.css"],"names":["props","finished","open","stepNumber","stepTitle","className","undefined","clickable","onOpen","onClick","event","preventDefault","role","tabIndex","renderResult","hidden","renderForm","BuildTechnology","RenderOptions","checked","name","onCheck","optionLabelKey","options","titleLabelKey","map","build","label","value","SentenceWithHighlights","highlightKeys","translationKey","values","forEach","key","defaultMessage","id","withAppState","appState","branchesEnabled","component","onStepValidationChange","buildTechnology","setBuildTechnology","MAVEN_GRADLE_PROPS_SNIPPET","Object","Alert","variant","doc_link","to","Azure","target","section","run_analysis_value","Other","DotNet","includes","button","copyValue","Maven","Gradle","CodeSnippet","snippet","link","ExtensionInstallationStepContent","href","rel","SaveAndRunStepContent","alt","width","src","Steps","getUniqueTokenName","tokens","initialTokenName","hasToken","find","token","i","buildGithubLink","almBinding","projectBinding","urlRoot","url","replace","repository","mounted","state","loading","tokenName","getTokensAndName","async","currentUser","this","login","setState","getNewToken","handleChange","handleTokenRevoke","header","onClose","onSubmit","onCloseClick","onChange","placeholder","required","type","disabled","ServiceEndpointStepContent","isModalVisible","toggleModal","AzurePipelinesTutorial","currentStep","setCurrentStep","ExtensionInstallation","isCurrentStepValid","setIsCurrentStepValid","steps","step","content","ServiceEndpoint","BranchAnalysis","isValid","checkValidity","SaveAndRun","switchCurrentStep","length","canContinue","pipelineDescriptionLinkLabel","EnvironmentVariablesStep","toggleTokenModal","fieldValueTranslation","extra","field","onDone","BuildTools","snippetForBuildTool","filenameForBuildTool","ProjectKeyStep","buildTool","setBuildTool","file","BUILD_TOOL_SPECIFIC","image","script","PipeCommand","onlyBlock","command","filename","links","GitLabCITutorial","setStep","PROJECT_KEY","ENV_VARIABLES","YML","TutorialModes","OSs","SentenceWithFilename","CreateJenkinsfileBulletPoint","alertTranslationKeyPart","overlay","BUILDTOOL_COMPONENT_MAP","LabelActionPair","LabelValuePair","MultiBranchPipelineStep","alm","slug","PipelineStep","PreRequisitesStep","skipNextTime","htmlFor","onChangeSkipNextTime","buildUrlSnippet","ownUrl","WebhookStepBitbucket","linkUrl","isOneLine","WebhookStepGithub","webhookUrl","WebhookStep","BitbucketServer","GitHub","renderAlmSpecificInstructions","mapDispatchToProps","setCurrentUserSetting","Boolean","skipPreReqs","MultiBranchPipeline","PreRequisites","skip","toString","Webhook","Jenkinsfile","super","handleBuildToolChange","config","handleOSChange","os","buildTools","tool","Linux","Windows","MacOS","host","projectKey","command1","command3","code","InstanceMessage","message","transformedMessage","JavaGradle","plugin_code","JavaMaven","q","s","quote","dir","env_var","AnalysisCommand","languageConfig","handleBuildToolSelect","onFinish","getToken","selection","existingToken","validExistingToken","match","handleTokenNameChange","handleTokenGenerate","then","stopLoading","handleContinueClick","onContinue","handleGenerateClick","handleUseExistingClick","handleModeChange","mode","handleExisingTokenChange","currentTarget","renderGenerateOption","autoFocus","renderUseExistingOption","validInput","canUseExisting","TOKEN","handleTokenDone","ANALYSIS","handleTokenOpen","TutorialSelectionRenderer","selectedTutorial","jenkinsAvailable","GitLab","onSelectTutorial","GitLabCI","height","AzurePipelines","Jenkins","Manual","forceManual","fetchAlmBindings","almDefinitions","Promise","all","catch","d","handleSelectTutorial","router","location","pathname","query","push","withRouter","api","__esModule","default","module","exported","locals","exports","___CSS_LOADER_API_IMPORT___","extendStatics","__extends","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","n","arguments","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","defineProperty","React","Modal_1","SimpleModal","_super","_this","submitting","stopSubmitting","handleCloseClick","blur","handleFormSubmit","submit","handleSubmitClick","result","componentDidMount","componentWillUnmount","render","_a","children","modalProps","createElement","contentLabel","onRequestClose","onFormSubmit","onSubmitClick","Component","classNames","Tooltip_1","RadioToggle","renderOption","option","htmlId","tooltip","defaultProps","PureComponent","Radio","handleClick","noCopy","snippetRef","finalSnippet","isArray","filter","line","join","ref","getAlmDefinitions","getAlmDefinitionsNoCatch","getAlmSettings","project","almSettings","validateAlmSettings","response","status","BadRequest","createGithubConfiguration","data","updateGithubConfiguration","createAzureConfiguration","updateAzureConfiguration","createBitbucketConfiguration","updateBitbucketConfiguration","createBitbucketCloudConfiguration","updateBitbucketCloudConfiguration","createGitlabConfiguration","updateGitlabConfiguration","deleteConfiguration","countBindedProjects","almSetting","projects","getProjectAlmBinding","deleteProjectAlmBinding","setProjectAzureBinding","setProjectBitbucketBinding","setProjectBitbucketCloudBinding","setProjectGithubBinding","setProjectGitlabBinding","getTokens","r","userTokens","generateToken","revokeToken"],"mappings":"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","file":"js/12.m.da981755.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n/* eslint-disable jsx-a11y/no-static-element-interactions, jsx-a11y/no-noninteractive-tabindex */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './Step.css';\n\ninterface Props {\n  finished?: boolean;\n  onOpen?: VoidFunction;\n  open: boolean;\n  renderForm: () => React.ReactNode;\n  renderResult?: () => React.ReactNode;\n  stepNumber?: number;\n  stepTitle: React.ReactNode;\n}\n\nexport default function Step(props: Props) {\n  const { finished, open, stepNumber, stepTitle } = props;\n  const className = classNames('boxed-group', 'onboarding-step', {\n    'is-open': open,\n    'is-finished': finished,\n    'no-step-number': stepNumber === undefined\n  });\n\n  const clickable = !open && finished && props.onOpen !== undefined;\n\n  const handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    event.preventDefault();\n    if (props.onOpen !== undefined) {\n      props.onOpen();\n    }\n  };\n\n  return (\n    <div\n      className={className}\n      onClick={clickable ? handleClick : undefined}\n      role={clickable ? 'button' : undefined}\n      tabIndex={clickable ? 0 : undefined}>\n      {stepNumber !== undefined && <div className=\"onboarding-step-number\">{stepNumber}</div>}\n      {!open && props.renderResult && props.renderResult()}\n      <div className=\"boxed-group-header\">\n        <h2>{stepTitle}</h2>\n      </div>\n      {!open && <div className=\"boxed-group-inner\" />}\n      <div className={classNames({ hidden: !open })}>{props.renderForm()}</div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { ClipboardIconButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { ALM_DOCUMENTATION_PATHS } from '../../../helpers/constants';\nimport { AlmKeys } from '../../../types/alm-settings';\nimport CodeSnippet from '../../common/CodeSnippet';\nimport { withAppState } from '../../hoc/withAppState';\nimport RenderOptions from '../components/RenderOptions';\nimport SentenceWithHighlights from '../components/SentenceWithHighlights';\n\nexport interface BranchesAnalysisStepProps {\n  appState: T.AppState;\n  component: T.Component;\n  onStepValidationChange: (isValid: boolean) => void;\n}\n\nexport enum BuildTechnology {\n  DotNet = 'dotnet',\n  Maven = 'maven',\n  Gradle = 'gradle',\n  Other = 'other'\n}\n\nexport function BranchAnalysisStepContent(props: BranchesAnalysisStepProps) {\n  const {\n    appState: { branchesEnabled },\n    component,\n    onStepValidationChange\n  } = props;\n\n  const [buildTechnology, setBuildTechnology] = React.useState<BuildTechnology | undefined>();\n\n  React.useEffect(() => {\n    if (buildTechnology) {\n      onStepValidationChange(true);\n    }\n  }, [buildTechnology, onStepValidationChange]);\n\n  const MAVEN_GRADLE_PROPS_SNIPPET = `# Additional properties that will be passed to the scanner,\n# Put one key=value per line, example:\n# sonar.exclusions=**/*.bin\nsonar.projectKey=${component.key}`;\n\n  return (\n    <>\n      <span>{translate('onboarding.build')}</span>\n      <RenderOptions\n        checked={buildTechnology}\n        name=\"buildTechnology\"\n        onCheck={value => setBuildTechnology(value as BuildTechnology)}\n        optionLabelKey=\"onboarding.build\"\n        options={Object.values(BuildTechnology)}\n      />\n      {buildTechnology && (\n        <>\n          <Alert variant=\"info\" className=\"big-spacer-top\">\n            <FormattedMessage\n              id=\"onboarding.tutorial.with.azure_pipelines.BranchAnalysis.info\"\n              defaultMessage={translate(\n                'onboarding.tutorial.with.azure_pipelines.BranchAnalysis.info'\n              )}\n              values={{\n                doc_link: (\n                  <Link to={ALM_DOCUMENTATION_PATHS[AlmKeys.Azure]} target=\"_blank\">\n                    {translate(\n                      'onboarding.tutorial.with.azure_pipelines.BranchAnalysis.info.doc_link'\n                    )}\n                  </Link>\n                )\n              }}\n            />\n          </Alert>\n          <ol className=\"list-styled big-spacer-top\">\n            <li>\n              <SentenceWithHighlights\n                translationKey=\"onboarding.tutorial.with.azure_pipelines.BranchAnalysis.prepare\"\n                highlightKeys={['pipeline', 'task', 'before']}\n              />\n            </li>\n            <ul className=\"list-styled\">\n              <li>\n                <SentenceWithHighlights\n                  translationKey=\"onboarding.tutorial.with.azure_pipelines.BranchAnalysis.prepare.endpoint\"\n                  highlightKeys={['endpoint']}\n                />\n              </li>\n              <li>\n                <FormattedMessage\n                  id=\"onboarding.tutorial.with.azure_pipelines.BranchAnalysis.prepare.run_analysis\"\n                  defaultMessage={translate(\n                    'onboarding.tutorial.with.azure_pipelines.BranchAnalysis.prepare.run_analysis'\n                  )}\n                  values={{\n                    section: (\n                      <strong>\n                        {translate(\n                          'onboarding.tutorial.with.azure_pipelines.BranchAnalysis.prepare.run_analysis.section'\n                        )}\n                      </strong>\n                    ),\n                    run_analysis_value: (\n                      <strong>\n                        {translate(\n                          'onboarding.tutorial.with.azure_pipelines.BranchAnalysis.prepare.run_analysis.values',\n                          buildTechnology\n                        )}\n                      </strong>\n                    )\n                  }}\n                />\n              </li>\n              {buildTechnology === BuildTechnology.Other && (\n                <li>\n                  <SentenceWithHighlights\n                    translationKey=\"onboarding.tutorial.with.azure_pipelines.BranchAnalysis.manual\"\n                    highlightKeys={['mode']}\n                  />\n                </li>\n              )}\n              {[BuildTechnology.DotNet, BuildTechnology.Other].includes(buildTechnology) && (\n                <li>\n                  <FormattedMessage\n                    id=\"onboarding.tutorial.with.azure_pipelines.BranchAnalysis.run.key.sentence\"\n                    defaultMessage={translate(\n                      'onboarding.tutorial.with.azure_pipelines.BranchAnalysis.run.key.sentence'\n                    )}\n                    values={{\n                      key: <code className=\"rule\">{component.key}</code>,\n                      button: <ClipboardIconButton copyValue={component.key} />\n                    }}\n                  />\n                </li>\n              )}\n              {[BuildTechnology.Maven, BuildTechnology.Gradle].includes(buildTechnology) && (\n                <li>\n                  <SentenceWithHighlights\n                    translationKey=\"onboarding.tutorial.with.azure_pipelines.BranchAnalysis.advanced_properties\"\n                    highlightKeys={['section', 'properties']}\n                  />\n                  :\n                  <CodeSnippet snippet={MAVEN_GRADLE_PROPS_SNIPPET} />\n                </li>\n              )}\n            </ul>\n            {[BuildTechnology.DotNet, BuildTechnology.Other].includes(buildTechnology) && (\n              <li>\n                <SentenceWithHighlights\n                  translationKey=\"onboarding.tutorial.with.azure_pipelines.BranchAnalysis.run\"\n                  highlightKeys={['task', 'after']}\n                />\n              </li>\n            )}\n            {[BuildTechnology.Maven, BuildTechnology.Gradle].includes(buildTechnology) && (\n              <>\n                <li>\n                  {translateWithParameters(\n                    'onboarding.tutorial.with.azure_pipelines.BranchAnalysis.java',\n                    translate('onboarding.build', buildTechnology)\n                  )}\n                </li>\n                <ul className=\"list-styled big-spacer-bottom\">\n                  <li>\n                    <SentenceWithHighlights\n                      translationKey=\"onboarding.tutorial.with.azure_pipelines.BranchAnalysis.java.settings\"\n                      highlightKeys={['section', 'option']}\n                    />\n                  </li>\n                </ul>\n              </>\n            )}\n\n            <li>\n              <SentenceWithHighlights\n                translationKey=\"onboarding.tutorial.with.azure_pipelines.BranchAnalysis.publish_qg\"\n                highlightKeys={['task']}\n              />\n              <Alert variant=\"info\" className=\"spacer-top\">\n                {translate(\n                  'onboarding.tutorial.with.azure_pipelines.BranchAnalysis.publish_qg.info.sentence1'\n                )}\n              </Alert>\n            </li>\n            <li>\n              <SentenceWithHighlights\n                translationKey={\n                  branchesEnabled\n                    ? 'onboarding.tutorial.with.azure_pipelines.BranchAnalysis.continous_integration'\n                    : 'onboarding.tutorial.with.azure_pipelines.BranchAnalysis.continous_integration.no_branches'\n                }\n                highlightKeys={['tab', 'continuous_integration']}\n              />\n            </li>\n            {branchesEnabled && (\n              <>\n                <hr />\n                <FormattedMessage\n                  id=\"onboarding.tutorial.with.azure_pipelines.BranchAnalysis.branch_protection\"\n                  defaultMessage={translate(\n                    'onboarding.tutorial.with.azure_pipelines.BranchAnalysis.branch_protection'\n                  )}\n                  values={{\n                    link: (\n                      <Link to={ALM_DOCUMENTATION_PATHS[AlmKeys.Azure]} target=\"_blank\">\n                        {translate(\n                          'onboarding.tutorial.with.azure_pipelines.BranchAnalysis.branch_protection.link'\n                        )}\n                      </Link>\n                    )\n                  }}\n                />\n              </>\n            )}\n          </ol>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default withAppState(BranchAnalysisStepContent);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RadioToggle from 'sonar-ui-common/components/controls/RadioToggle';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface RenderOptionsProps {\n  checked: string | undefined;\n  name: string;\n  onCheck: (checked: string) => void;\n  optionLabelKey: string;\n  options: string[];\n  titleLabelKey?: string;\n}\n\nexport default function RenderOptions({\n  checked,\n  name,\n  onCheck,\n  optionLabelKey,\n  options,\n  titleLabelKey\n}: RenderOptionsProps) {\n  return (\n    <div className=\"big-spacer-top\">\n      {titleLabelKey && <h4 className=\"spacer-bottom\">{translate(titleLabelKey)}</h4>}\n\n      <RadioToggle\n        name={name}\n        onCheck={onCheck}\n        options={options.map(build => ({\n          label: translate(optionLabelKey, build),\n          value: build\n        }))}\n        value={checked}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface SentenceWithHighlightsProps {\n  highlightKeys: string[];\n  translationKey: string;\n}\n\nexport default function SentenceWithHighlights({\n  highlightKeys,\n  translationKey\n}: SentenceWithHighlightsProps) {\n  const values: T.Dict<JSX.Element> = {};\n  highlightKeys.forEach(key => {\n    values[key] = <strong>{translate(translationKey, 'sentence', key)}</strong>;\n  });\n  return (\n    <FormattedMessage\n      defaultMessage={translate(translationKey, 'sentence')}\n      id={`${translationKey}.sentence`}\n      values={values}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport default function ExtensionInstallationStepContent() {\n  return (\n    <span>\n      <FormattedMessage\n        defaultMessage={translate(\n          'onboarding.tutorial.with.azure_pipelines.ExtensionInstallation.sentence'\n        )}\n        id=\"onboarding.tutorial.with.azure_pipelines.ExtensionInstallation.sentence\"\n        values={{\n          link: (\n            <a\n              href=\"https://marketplace.visualstudio.com/items?itemName=SonarSource.sonarqube\"\n              rel=\"noopener noreferrer\"\n              target=\"_blank\">\n              {translate(\n                'onboarding.tutorial.with.azure_pipelines.ExtensionInstallation.sentence.link'\n              )}\n            </a>\n          ),\n          button: (\n            <strong>\n              {translate(\n                'onboarding.tutorial.with.azure_pipelines.ExtensionInstallation.sentence.button'\n              )}\n            </strong>\n          )\n        }}\n      />\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from '../../../helpers/system';\n\nexport default function SaveAndRunStepContent() {\n  return (\n    <>\n      <div className=\"display-flex-row big-spacer-bottom\">\n        <div>\n          <img\n            alt=\"\" // Should be ignored by screen readers\n            className=\"big-spacer-right\"\n            width={30}\n            src={`${getBaseUrl()}/images/tutorials/commit.svg`}\n          />\n        </div>\n        <div>\n          <p className=\"little-spacer-bottom\">\n            <strong>\n              {translate('onboarding.tutorial.with.azure_pipelines.SaveAndRun.commit')}\n            </strong>\n          </p>\n          <p>{translate('onboarding.tutorial.with.azure_pipelines.SaveAndRun.commit.why')}</p>\n        </div>\n      </div>\n      <div className=\"display-flex-row\">\n        <div>\n          <img\n            alt=\"\" // Should be ignored by screen readers\n            className=\"big-spacer-right\"\n            width={30}\n            src={`${getBaseUrl()}/images/tutorials/refresh.svg`}\n          />\n        </div>\n        <div>\n          <p className=\"little-spacer-bottom\">\n            <strong>\n              {translate('onboarding.tutorial.with.azure_pipelines.SaveAndRun.refresh')}\n            </strong>\n          </p>\n          <p>{translate('onboarding.tutorial.with.azure_pipelines.SaveAndRun.refresh.why')}</p>\n        </div>\n      </div>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport {\n  isProjectAzureBindingResponse,\n  ProjectAlmBindingResponse\n} from '../../../types/alm-settings';\nimport Step from '../components/Step';\nimport BranchAnalysisStepContent from './BranchAnalysisStepContent';\nimport ExtensionInstallationStepContent from './ExtensionInstallationStepContent';\nimport SaveAndRunStepContent from './SaveAndRunStepContent';\nimport ServiceEndpointStepContent from './ServiceEndpointStepContent';\n\nexport interface AzurePipelinesTutorialProps {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n  projectBinding: ProjectAlmBindingResponse;\n}\n\nexport enum Steps {\n  ExtensionInstallation,\n  ServiceEndpoint,\n  BranchAnalysis,\n  SaveAndRun\n}\n\ninterface Step {\n  step: Steps;\n  content: JSX.Element;\n  checkValidity?: boolean;\n}\n\nexport default function AzurePipelinesTutorial(props: AzurePipelinesTutorialProps) {\n  const { component, currentUser, projectBinding } = props;\n\n  const [currentStep, setCurrentStep] = React.useState(Steps.ExtensionInstallation);\n  const [isCurrentStepValid, setIsCurrentStepValid] = React.useState(false);\n\n  // Failsafe; should never happen.\n  if (!isProjectAzureBindingResponse(projectBinding)) {\n    return (\n      <Alert variant=\"error\">\n        {translate('onboarding.tutorial.with.azure_pipelines.unsupported')}\n      </Alert>\n    );\n  }\n\n  const steps: Array<Step> = [\n    { step: Steps.ExtensionInstallation, content: <ExtensionInstallationStepContent /> },\n    {\n      step: Steps.ServiceEndpoint,\n      content: <ServiceEndpointStepContent component={component} currentUser={currentUser} />\n    },\n    {\n      step: Steps.BranchAnalysis,\n      content: (\n        <BranchAnalysisStepContent\n          component={component}\n          onStepValidationChange={isValid => setIsCurrentStepValid(isValid)}\n        />\n      ),\n      checkValidity: true\n    },\n    { step: Steps.SaveAndRun, content: <SaveAndRunStepContent /> }\n  ];\n\n  const switchCurrentStep = (step: Steps) => {\n    setCurrentStep(step);\n    setIsCurrentStepValid(false);\n  };\n\n  const canContinue = (step: Step, i: number) =>\n    i < steps.length - 1 && (!step.checkValidity || isCurrentStepValid);\n\n  return (\n    <>\n      <div className=\"page-header big-spacer-bottom\">\n        <h1 className=\"page-title\">\n          {translate('onboarding.tutorial.with.azure_pipelines.title')}\n        </h1>\n      </div>\n\n      {steps.map((step, i) => (\n        <Step\n          key={step.step}\n          stepNumber={i + 1}\n          stepTitle={translate(\n            `onboarding.tutorial.with.azure_pipelines.${Steps[step.step]}.title`\n          )}\n          open={step.step === currentStep}\n          finished={step.step < currentStep}\n          onOpen={() => switchCurrentStep(step.step)}\n          renderForm={() => (\n            <div className=\"boxed-group-inner\">\n              <div>{step.content}</div>\n              {canContinue(step, i) && (\n                <Button\n                  className=\"big-spacer-top spacer-bottom\"\n                  onClick={() => switchCurrentStep(step.step + 1)}>\n                  {translate('continue')}\n                </Button>\n              )}\n            </div>\n          )}\n        />\n      ))}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { GithubBindingDefinition, ProjectAlmBindingResponse } from '../../types/alm-settings';\n\nexport function quote(os: string): (s: string) => string {\n  return os === 'win' ? (s: string) => `\"${s}\"` : (s: string) => s;\n}\n\nexport function getUniqueTokenName(tokens: T.UserToken[], initialTokenName = '') {\n  const hasToken = (name: string) => tokens.find(token => token.name === name) !== undefined;\n\n  if (!hasToken(initialTokenName)) {\n    return initialTokenName;\n  }\n\n  let i = 1;\n  while (hasToken(`${initialTokenName} ${i}`)) {\n    i++;\n  }\n  return `${initialTokenName} ${i}`;\n}\n\nexport function buildGithubLink(\n  almBinding: GithubBindingDefinition,\n  projectBinding: ProjectAlmBindingResponse\n) {\n  // strip the api path:\n  const urlRoot = almBinding.url\n    .replace('/api/v3', '') // GH Enterprise\n    .replace('api.', '') // GH.com\n    .replace(/\\/$/, '');\n\n  return `${urlRoot}/${projectBinding.repository}`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { Button, DeleteButton } from 'sonar-ui-common/components/controls/buttons';\nimport { ClipboardIconButton } from 'sonar-ui-common/components/controls/clipboard';\nimport SimpleModal from 'sonar-ui-common/components/controls/SimpleModal';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { generateToken, getTokens, revokeToken } from '../../../api/user-tokens';\nimport { getUniqueTokenName } from '../utils';\n\ninterface State {\n  loading: boolean;\n  token?: string;\n  tokenName: string;\n}\n\ninterface Props {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n  onClose: (token?: string) => void;\n}\n\nexport default class EditTokenModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    loading: true,\n    tokenName: ''\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.getTokensAndName();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getTokensAndName = async () => {\n    const { component, currentUser } = this.props;\n\n    const tokens = await getTokens(currentUser.login);\n\n    if (this.mounted) {\n      this.setState({\n        loading: false,\n        tokenName: getUniqueTokenName(tokens, `Analyze \"${component.name}\"`)\n      });\n    }\n  };\n\n  getNewToken = async () => {\n    const { tokenName } = this.state;\n\n    const { token } = await generateToken({ name: tokenName });\n\n    if (this.mounted) {\n      this.setState({\n        token,\n        tokenName\n      });\n    }\n  };\n\n  handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({\n      tokenName: event.target.value\n    });\n  };\n\n  handleTokenRevoke = async () => {\n    const { tokenName } = this.state;\n\n    if (tokenName) {\n      await revokeToken({ name: tokenName });\n\n      if (this.mounted) {\n        this.setState({\n          token: '',\n          tokenName: ''\n        });\n      }\n    }\n  };\n\n  render() {\n    const { loading, token, tokenName } = this.state;\n\n    const header = translate('onboarding.token.generate_token');\n\n    return (\n      <SimpleModal header={header} onClose={this.props.onClose} onSubmit={this.props.onClose}>\n        {({ onCloseClick }) => (\n          <>\n            <div className=\"modal-head\">\n              <h2>{header}</h2>\n            </div>\n\n            <div className=\"modal-body\">\n              <p className=\"spacer-bottom\">\n                <FormattedMessage\n                  defaultMessage={translate('onboarding.token.text')}\n                  id=\"onboarding.token.text\"\n                  values={{\n                    link: (\n                      <Link target=\"_blank\" to=\"/account/security\">\n                        {translate('onboarding.token.text.user_account')}\n                      </Link>\n                    )\n                  }}\n                />\n              </p>\n\n              {token ? (\n                <>\n                  <span className=\"text-middle\">\n                    {tokenName}\n                    {': '}\n                  </span>\n                  <div className=\"display-float-center\">\n                    <code className=\"rule spacer-right\">{token}</code>\n\n                    <ClipboardIconButton copyValue={token} />\n\n                    <DeleteButton onClick={this.handleTokenRevoke} />\n                  </div>\n\n                  <Alert className=\"big-spacer-top\" variant=\"warning\">\n                    {translateWithParameters('users.tokens.new_token_created', token)}\n                  </Alert>\n                </>\n              ) : (\n                <div className=\"big-spacer-top\">\n                  {loading ? (\n                    <DeferredSpinner />\n                  ) : (\n                    <>\n                      <input\n                        className=\"input-super-large spacer-right text-middle\"\n                        onChange={this.handleChange}\n                        placeholder={translate('onboarding.token.generate_token.placeholder')}\n                        required={true}\n                        type=\"text\"\n                        value={tokenName}\n                      />\n                      <Button\n                        className=\"text-middle\"\n                        disabled={!tokenName}\n                        onClick={this.getNewToken}>\n                        {translate('onboarding.token.generate')}\n                      </Button>\n                    </>\n                  )}\n                </div>\n              )}\n            </div>\n            <div className=\"modal-foot\">\n              <Button onClick={onCloseClick}>{translate('continue')}</Button>\n            </div>\n          </>\n        )}\n      </SimpleModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { ClipboardIconButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getHostUrl } from 'sonar-ui-common/helpers/urls';\nimport EditTokenModal from '../components/EditTokenModal';\nimport SentenceWithHighlights from '../components/SentenceWithHighlights';\n\nexport interface ServiceEndpointStepProps {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n}\n\nexport default function ServiceEndpointStepContent(props: ServiceEndpointStepProps) {\n  const { component, currentUser } = props;\n\n  const [isModalVisible, toggleModal] = React.useState(false);\n\n  return (\n    <>\n      <ol className=\"list-styled\">\n        <li>\n          <SentenceWithHighlights\n            translationKey=\"onboarding.tutorial.with.azure_pipelines.ServiceEndpoint.step1\"\n            highlightKeys={['menu']}\n          />\n        </li>\n        <li>\n          <SentenceWithHighlights\n            translationKey=\"onboarding.tutorial.with.azure_pipelines.ServiceEndpoint.step2\"\n            highlightKeys={['type']}\n          />\n        </li>\n        <li>\n          {translate('onboarding.tutorial.with.azure_pipelines.ServiceEndpoint.step3.sentence')}\n        </li>\n        <li>\n          <FormattedMessage\n            defaultMessage={translate(\n              'onboarding.tutorial.with.azure_pipelines.ServiceEndpoint.step4.sentence'\n            )}\n            id=\"onboarding.tutorial.with.azure_pipelines.ServiceEndpoint.step4.sentence\"\n            values={{\n              url: <code className=\"rule\">{getHostUrl()}</code>,\n              button: <ClipboardIconButton copyValue={getHostUrl()} />\n            }}\n          />\n        </li>\n        <li>\n          <span>\n            {translate('onboarding.tutorial.with.azure_pipelines.ServiceEndpoint.step5.sentence')}:\n          </span>\n          <Button className=\"spacer-left\" onClick={() => toggleModal(true)}>\n            {translate('onboarding.token.generate_token')}\n          </Button>\n        </li>\n        <li>\n          {translate('onboarding.tutorial.with.azure_pipelines.ServiceEndpoint.step6.sentence')}\n        </li>\n      </ol>\n\n      {isModalVisible && (\n        <EditTokenModal\n          component={component}\n          currentUser={currentUser}\n          onClose={() => toggleModal(false)}\n        />\n      )}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { ClipboardIconButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getHostUrl } from 'sonar-ui-common/helpers/urls';\nimport EditTokenModal from '../components/EditTokenModal';\nimport Step from '../components/Step';\n\nexport interface EnvironmentVariablesStepProps {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n  finished: boolean;\n  onDone: () => void;\n  onOpen: () => void;\n  open: boolean;\n}\n\nconst pipelineDescriptionLinkLabel = translate(\n  'onboarding.tutorial.with.gitlab_ci.env_variables.description.link'\n);\n\nexport default function EnvironmentVariablesStep(props: EnvironmentVariablesStepProps) {\n  const { component, currentUser, finished, open } = props;\n\n  const [isModalVisible, toggleModal] = React.useState(false);\n\n  const toggleTokenModal = () => toggleModal(!isModalVisible);\n  const closeTokenModal = () => toggleModal(false);\n\n  const fieldValueTranslation = translate(\n    'onboarding.tutorial.with.gitlab_ci.env_variables.enter_field_value'\n  );\n\n  const renderForm = () => (\n    <div className=\"boxed-group-inner\">\n      <h2 className=\"spacer-bottom spacer-top\">\n        {translate('onboarding.tutorial.with.gitlab_ci.env_variables.section.title')}\n      </h2>\n\n      <FormattedMessage\n        defaultMessage={translate(\n          'onboarding.tutorial.with.gitlab_ci.env_variables.section.description'\n        )}\n        id=\"onboarding.tutorial.with.gitlab_ci.env_variables.section.description\"\n        values={{\n          /* This link will be added when the backend provides the project URL */\n          link: <strong>{pipelineDescriptionLinkLabel}</strong>\n        }}\n      />\n\n      <ol className=\"list-styled big-spacer-top\">\n        <li className=\"big-spacer-bottom\">\n          <FormattedMessage\n            defaultMessage={fieldValueTranslation}\n            id=\"onboarding.tutorial.with.gitlab_ci.env_variables.step1\"\n            values={{\n              extra: <ClipboardIconButton copyValue=\"SONAR_TOKEN\" />,\n              field: translate('onboarding.tutorial.with.gitlab_ci.env_variables.step1'),\n              value: <code className=\"rule\">SONAR_TOKEN</code>\n            }}\n          />\n        </li>\n        <li className=\"big-spacer-bottom\">\n          <FormattedMessage\n            defaultMessage={fieldValueTranslation}\n            id=\"onboarding.tutorial.with.gitlab_ci.env_variables.step2\"\n            values={{\n              extra: (\n                <Button className=\"spacer-left\" onClick={toggleTokenModal}>\n                  {translate('onboarding.token.generate_token')}\n                </Button>\n              ),\n              field: translate('onboarding.tutorial.with.gitlab_ci.env_variables.step2'),\n              value: translate(\n                'onboarding.tutorial.with.gitlab_ci.env_variables.section.step2.value'\n              )\n            }}\n          />\n        </li>\n        <li className=\"big-spacer-bottom\">\n          {translate('onboarding.tutorial.with.gitlab_ci.env_variables.step3')}\n        </li>\n        <li className=\"big-spacer-bottom\">\n          {translate('onboarding.tutorial.with.gitlab_ci.env_variables.section.step4')}\n        </li>\n      </ol>\n\n      <hr className=\"no-horizontal-margins\" />\n\n      <h2 className=\"spacer-bottom big-spacer-top\">\n        {translate('onboarding.tutorial.with.gitlab_ci.env_variables.section2.title')}\n      </h2>\n\n      <FormattedMessage\n        defaultMessage={translate(\n          'onboarding.tutorial.with.gitlab_ci.env_variables.section2.description'\n        )}\n        id=\"onboarding.tutorial.with.gitlab_ci.env_variables.section2.description\"\n        values={{\n          /* This link will be added when the backend provides the project URL */\n          link: <strong>{pipelineDescriptionLinkLabel}</strong>\n        }}\n      />\n\n      <ol className=\"list-styled big-spacer-top big-spacer-bottom\">\n        <li className=\"big-spacer-bottom\">\n          <FormattedMessage\n            defaultMessage={fieldValueTranslation}\n            id=\"onboarding.tutorial.with.gitlab_ci.env_variables.step1\"\n            values={{\n              extra: <ClipboardIconButton copyValue=\"SONAR_HOST_URL\" />,\n              field: translate('onboarding.tutorial.with.gitlab_ci.env_variables.step1'),\n              value: <code className=\"rule\">SONAR_HOST_URL</code>\n            }}\n          />\n        </li>\n        <li className=\"big-spacer-bottom\">\n          <FormattedMessage\n            defaultMessage={fieldValueTranslation}\n            id=\"onboarding.tutorial.with.gitlab_ci.env_variables.step2\"\n            values={{\n              extra: <ClipboardIconButton copyValue={getHostUrl()} />,\n              field: translate('onboarding.tutorial.with.gitlab_ci.env_variables.step2'),\n              value: <code className=\"rule\">{getHostUrl()}</code>\n            }}\n          />\n        </li>\n        <li className=\"big-spacer-bottom\">\n          {translate('onboarding.tutorial.with.gitlab_ci.env_variables.step3')}\n        </li>\n        <li className=\"big-spacer-bottom\">\n          {translate('onboarding.tutorial.with.gitlab_ci.env_variables.section2.step4')}\n        </li>\n      </ol>\n\n      <Button className=\"big-spacer-bottom\" onClick={props.onDone}>\n        {translate('continue')}\n      </Button>\n    </div>\n  );\n\n  return (\n    <>\n      {isModalVisible && (\n        <EditTokenModal component={component} currentUser={currentUser} onClose={closeTokenModal} />\n      )}\n\n      <Step\n        finished={finished}\n        onOpen={props.onOpen}\n        open={open}\n        renderForm={renderForm}\n        stepNumber={2}\n        stepTitle={translate('onboarding.tutorial.with.gitlab_ci.env_variables.title')}\n      />\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum BuildTools {\n  Maven = 'maven',\n  Gradle = 'gradle',\n  // MSBuild = 'msbuild', // Not yet supported\n  Other = 'other'\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { ClipboardIconButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport CodeSnippet from '../../common/CodeSnippet';\nimport RenderOptions from '../components/RenderOptions';\nimport Step from '../components/Step';\nimport { BuildTools } from './types';\n\nexport interface ProjectKeyStepProps {\n  buildTool?: BuildTools;\n  component: T.Component;\n  finished: boolean;\n  onDone: () => void;\n  onOpen: () => void;\n  open: boolean;\n  setBuildTool: (tool: BuildTools) => void;\n}\n\nconst mavenSnippet = (key: string) => `<properties>\n  <sonar.projectKey>${key}</sonar.projectKey>\n  <sonar.qualitygate.wait>true</sonar.qualitygate.wait>\n</properties>`;\n\nconst gradleSnippet = (key: string) => `plugins {\n  id \"org.sonarqube\" version \"3.0\"\n}\n\nsonarqube {\n  properties {\n    property \"sonar.projectKey\", \"${key}\"\n    property \"sonar.qualitygate.wait\", true \n  }\n}`;\n\nconst otherSnippet = (key: string) => `sonar.projectKey=${key}\nsonar.qualitygate.wait=true\n`;\n\nconst snippetForBuildTool = {\n  [BuildTools.Maven]: mavenSnippet,\n  [BuildTools.Gradle]: gradleSnippet,\n  [BuildTools.Other]: otherSnippet\n};\n\nconst filenameForBuildTool = {\n  [BuildTools.Maven]: 'pom.xml',\n  [BuildTools.Gradle]: 'build.gradle',\n  [BuildTools.Other]: 'sonar-project.properties'\n};\n\nexport default function ProjectKeyStep(props: ProjectKeyStepProps) {\n  const { buildTool, component, finished, open } = props;\n\n  const renderForm = () => (\n    <div className=\"boxed-group-inner\">\n      <ol className=\"list-styled\">\n        <li>\n          {translate('onboarding.build')}\n          <RenderOptions\n            checked={buildTool}\n            name=\"buildtool\"\n            onCheck={value => props.setBuildTool(value as BuildTools)}\n            optionLabelKey=\"onboarding.build\"\n            options={Object.values(BuildTools)}\n          />\n        </li>\n        {buildTool !== undefined && (\n          <li className=\"abs-width-600\">\n            <FormattedMessage\n              defaultMessage={translate(\n                `onboarding.tutorial.with.gitlab_ci.project_key.${buildTool}.step2`\n              )}\n              id={`onboarding.tutorial.with.gitlab_ci.project_key.${buildTool}.step2`}\n              values={{\n                file: (\n                  <>\n                    <code className=\"rule\">{filenameForBuildTool[buildTool]}</code>\n                    <ClipboardIconButton\n                      className=\"little-spacer-left\"\n                      copyValue={filenameForBuildTool[buildTool]}\n                    />\n                  </>\n                )\n              }}\n            />\n            <CodeSnippet snippet={snippetForBuildTool[buildTool](component.key)} />\n          </li>\n        )}\n      </ol>\n      {buildTool !== undefined && <Button onClick={props.onDone}>{translate('continue')}</Button>}\n    </div>\n  );\n\n  return (\n    <Step\n      finished={finished}\n      onOpen={props.onOpen}\n      open={open}\n      renderForm={renderForm}\n      stepNumber={1}\n      stepTitle={translate('onboarding.tutorial.with.gitlab_ci.project_key.title')}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CodeSnippet from '../../../common/CodeSnippet';\nimport { BuildTools } from '../types';\n\nexport interface PipeCommandProps {\n  branchesEnabled?: boolean;\n  buildTool: BuildTools;\n}\n\nconst BUILD_TOOL_SPECIFIC = {\n  [BuildTools.Gradle]: { image: 'gradle:jre11-slim', script: 'gradle sonarqube' },\n  [BuildTools.Maven]: {\n    image: 'maven:3.6.3-jdk-11',\n    script: `\n    - mvn verify sonar:sonar`\n  },\n  [BuildTools.Other]: {\n    image: `\n    name: sonarsource/sonar-scanner-cli:latest\n    entrypoint: [\"\"]`,\n    script: `\n    - sonar-scanner`\n  }\n};\n\nexport default function PipeCommand({ branchesEnabled, buildTool }: PipeCommandProps) {\n  const onlyBlock = branchesEnabled\n    ? `- merge_requests\n    - master\n    - develop`\n    : '- master # or the name of your main branch';\n\n  const { image, script } = BUILD_TOOL_SPECIFIC[buildTool];\n\n  const command = `sonarqube-check:\n  image: ${image}\n  variables:\n    SONAR_USER_HOME: \"\\${CI_PROJECT_DIR}/.sonar\"  # Defines the location of the analysis task cache\n    GIT_DEPTH: \"0\"  # Tells git to fetch all the branches of the project, required by the analysis task\n  cache:\n    key: \"\\${CI_JOB_NAME}\"\n    paths:\n      - .sonar/cache\n  script: ${script}\n  allow_failure: true\n  only:\n    ${onlyBlock}\n`;\n\n  return <CodeSnippet snippet={command} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { ClipboardIconButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { withAppState } from '../../hoc/withAppState';\nimport Step from '../components/Step';\nimport PipeCommand from './commands/PipeCommand';\nimport { BuildTools } from './types';\n\nexport interface YmlFileStepProps {\n  appState: T.AppState;\n  buildTool?: BuildTools;\n  open: boolean;\n}\n\nexport function YmlFileStep({ appState: { branchesEnabled }, buildTool, open }: YmlFileStepProps) {\n  const renderForm = () => (\n    <div className=\"boxed-group-inner\">\n      <div className=\"flex-columns\">\n        <div className=\"flex-column-full\">\n          {buildTool && (\n            <>\n              <div className=\"big-spacer-bottom\">\n                <FormattedMessage\n                  defaultMessage={translate('onboarding.tutorial.with.gitlab_ci.yml.description')}\n                  id=\"onboarding.tutorial.with.gitlab_ci.yml.description\"\n                  values={{\n                    filename: (\n                      <>\n                        <code className=\"rule\">\n                          {translate('onboarding.tutorial.with.gitlab_ci.yml.filename')}\n                        </code>\n                        <ClipboardIconButton\n                          className=\"little-spacer-left\"\n                          copyValue={translate('onboarding.tutorial.with.gitlab_ci.yml.filename')}\n                        />\n                      </>\n                    )\n                  }}\n                />\n              </div>\n\n              <div className=\"big-spacer-bottom\">\n                <PipeCommand buildTool={buildTool} branchesEnabled={branchesEnabled} />\n              </div>\n\n              <p className=\"little-spacer-bottom\">\n                {branchesEnabled\n                  ? translate('onboarding.tutorial.with.gitlab_ci.yml.baseconfig')\n                  : translate('onboarding.tutorial.with.gitlab_ci.yml.baseconfig.no_branches')}\n              </p>\n\n              <p className=\"huge-spacer-bottom\">\n                {translate('onboarding.tutorial.with.gitlab_ci.yml.existing')}\n              </p>\n\n              <hr className=\"no-horizontal-margins\" />\n              <div>\n                <p className=\"big-spacer-bottom\">\n                  <strong>{translate('onboarding.tutorial.with.gitlab_ci.yml.done')} </strong>{' '}\n                  <FormattedMessage\n                    defaultMessage={translate(\n                      'onboarding.tutorial.with.gitlab_ci.yml.done.description'\n                    )}\n                    id=\"onboarding.tutorial.with.gitlab_ci.yml.done.description\"\n                    values={{\n                      /* This link will be added when the backend provides the project URL */\n                      link: translate(\n                        'onboarding.tutorial.with.gitlab_ci.yml.done.description.link'\n                      )\n                    }}\n                  />\n                </p>\n                <p className=\"big-spacer-bottom\">\n                  <strong>\n                    {translate('onboarding.tutorial.with.gitlab_ci.yml.done.then-what')}\n                  </strong>{' '}\n                  {translate('onboarding.tutorial.with.gitlab_ci.yml.done.then-what.description')}\n                </p>\n\n                <p className=\"big-spacer-bottom\">\n                  <FormattedMessage\n                    defaultMessage={translate(\n                      'onboarding.tutorial.with.gitlab_ci.yml.done.links.title'\n                    )}\n                    id=\"onboarding.tutorial.with.gitlab_ci.yml.done.links.title\"\n                    values={{\n                      links: (\n                        <Link\n                          rel=\"noopener noreferrer\"\n                          target=\"_blank\"\n                          to=\"/documentation/user-guide/quality-gates/\">\n                          {translate('onboarding.tutorial.with.gitlab_ci.yml.done.links.QG')}\n                        </Link>\n                      )\n                    }}\n                  />\n                </p>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n\n  return (\n    <Step\n      finished={false}\n      open={open}\n      renderForm={renderForm}\n      stepNumber={3}\n      stepTitle={translate('onboarding.tutorial.with.gitlab_ci.yml.title')}\n    />\n  );\n}\n\nexport default withAppState(YmlFileStep);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport {\n  isProjectGitLabBindingResponse,\n  ProjectAlmBindingResponse\n} from '../../../types/alm-settings';\nimport EnvironmentVariablesStep from './EnvironmentVariablesStep';\nimport ProjectKeyStep from './ProjectKeyStep';\nimport { BuildTools } from './types';\nimport YmlFileStep from './YmlFileStep';\n\nexport enum Steps {\n  PROJECT_KEY,\n  ENV_VARIABLES,\n  YML\n}\n\nexport interface GitLabCITutorialProps {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n  projectBinding: ProjectAlmBindingResponse;\n}\n\nexport default function GitLabCITutorial(props: GitLabCITutorialProps) {\n  const { component, currentUser, projectBinding } = props;\n\n  const [step, setStep] = React.useState(Steps.PROJECT_KEY);\n  const [buildTool, setBuildTool] = React.useState<BuildTools | undefined>();\n\n  // Failsafe; should never happen.\n  if (!isProjectGitLabBindingResponse(projectBinding)) {\n    return (\n      <Alert variant=\"error\">{translate('onboarding.tutorial.with.gitlab_ci.unsupported')}</Alert>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"page-header big-spacer-bottom\">\n        <h1 className=\"page-title\">{translate('onboarding.tutorial.with.gitlab_ci.title')}</h1>\n      </div>\n\n      <ProjectKeyStep\n        buildTool={buildTool}\n        component={component}\n        finished={step > Steps.PROJECT_KEY}\n        onDone={() => setStep(Steps.ENV_VARIABLES)}\n        onOpen={() => setStep(Steps.PROJECT_KEY)}\n        open={step === Steps.PROJECT_KEY}\n        setBuildTool={setBuildTool}\n      />\n\n      <EnvironmentVariablesStep\n        component={component}\n        currentUser={currentUser}\n        finished={step > Steps.ENV_VARIABLES}\n        onDone={() => setStep(Steps.YML)}\n        onOpen={() => setStep(Steps.ENV_VARIABLES)}\n        open={step === Steps.ENV_VARIABLES}\n      />\n\n      <YmlFileStep buildTool={buildTool} open={step === Steps.YML} />\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum TutorialModes {\n  Manual = 'manual',\n  Jenkins = 'jenkins',\n  GitLabCI = 'gitlab-ci',\n  AzurePipelines = 'azure-pipelines'\n}\n\nexport enum BuildTools {\n  Maven = 'maven',\n  Gradle = 'gradle',\n  DotNet = 'dotnet',\n  Other = 'other'\n}\n\nexport enum OSs {\n  Linux = 'linux',\n  Windows = 'win',\n  MacOS = 'mac'\n}\n\nexport type ManualTutorialConfig =\n  | { buildTool?: BuildTools.Maven | BuildTools.Gradle | BuildTools.DotNet }\n  | { buildTool: BuildTools.Other; os?: OSs };\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface SentenceWithFilenameProps {\n  filename: string;\n  translationKey: string;\n}\n\nexport default function SentenceWithFilename({\n  filename,\n  translationKey\n}: SentenceWithFilenameProps) {\n  return (\n    <span className=\"markdown\">\n      <FormattedMessage\n        defaultMessage={translate(translationKey, 'sentence')}\n        id={`${translationKey}.sentence`}\n        values={{\n          file: <code>{filename}</code>\n        }}\n      />\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport CodeSnippet from '../../../common/CodeSnippet';\nimport SentenceWithFilename from '../../components/SentenceWithFilename';\nimport SentenceWithHighlights from '../../components/SentenceWithHighlights';\n\nexport interface CreateJenkinsfileBulletPointProps {\n  snippet: string;\n  alertTranslationKeyPart?: string;\n}\n\nexport default function CreateJenkinsfileBulletPoint(props: CreateJenkinsfileBulletPointProps) {\n  const { snippet, alertTranslationKeyPart } = props;\n\n  return (\n    <li className=\"abs-width-600\">\n      <SentenceWithFilename\n        filename=\"Jenkinsfile\"\n        translationKey=\"onboarding.tutorial.with.jenkins.jenkinsfile.jenkinsfile_step\"\n      />\n      {alertTranslationKeyPart !== undefined && (\n        <Alert className=\"spacer-top\" variant=\"info\">\n          <p className=\"text-middle\">\n            <SentenceWithHighlights\n              highlightKeys={['default', 'in_jenkins']}\n              translationKey={`${alertTranslationKeyPart}.replace`}\n            />\n            <HelpTooltip\n              className=\"little-spacer-left\"\n              overlay={\n                <>\n                  <p className=\"spacer-bottom\">\n                    <SentenceWithHighlights\n                      highlightKeys={['path']}\n                      translationKey={`${alertTranslationKeyPart}.help1`}\n                    />\n                  </p>\n                  <p>\n                    <SentenceWithHighlights\n                      highlightKeys={['path', 'name']}\n                      translationKey={`${alertTranslationKeyPart}.help2`}\n                    />\n                  </p>\n                </>\n              }\n            />\n          </p>\n        </Alert>\n      )}\n      <CodeSnippet snippet={snippet} />\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport { withAppState } from '../../hoc/withAppState';\nimport RenderOptions from '../components/RenderOptions';\nimport SentenceWithHighlights from '../components/SentenceWithHighlights';\nimport Step from '../components/Step';\nimport { BuildTools } from '../types';\nimport DotNet from './buildtool-steps/DotNet';\nimport Gradle from './buildtool-steps/Gradle';\nimport Maven from './buildtool-steps/Maven';\nimport Other from './buildtool-steps/Other';\n\nexport interface JenkinsfileStepProps {\n  appState: T.AppState;\n  component: T.Component;\n  open: boolean;\n}\n\nconst BUILDTOOL_COMPONENT_MAP: {\n  [x in BuildTools]: React.ComponentType<{ component: T.Component }>;\n} = {\n  [BuildTools.Maven]: Maven,\n  [BuildTools.Gradle]: Gradle,\n  [BuildTools.DotNet]: DotNet,\n  [BuildTools.Other]: Other\n};\n\nexport function JenkinsfileStep(props: JenkinsfileStepProps) {\n  const {\n    appState: { branchesEnabled },\n    component,\n    open\n  } = props;\n  const [buildTool, setBuildTool] = React.useState<BuildTools | undefined>(undefined);\n  return (\n    <Step\n      finished={false}\n      open={open}\n      renderForm={() => (\n        <div className=\"boxed-group-inner\">\n          <ol className=\"list-styled\">\n            <li>\n              {translate('onboarding.build')}\n              <RenderOptions\n                checked={buildTool}\n                name=\"buildtool\"\n                onCheck={value => setBuildTool(value as BuildTools)}\n                optionLabelKey=\"onboarding.build\"\n                options={Object.values(BuildTools)}\n              />\n            </li>\n            {buildTool !== undefined &&\n              React.createElement(BUILDTOOL_COMPONENT_MAP[buildTool], { component })}\n          </ol>\n          {buildTool !== undefined && (\n            <>\n              <hr className=\"huge-spacer-top huge-spacer-bottom\" />\n              <div className=\"abs-width-600\">\n                <p className=\"big-spacer-bottom\">\n                  <SentenceWithHighlights\n                    highlightKeys={['all_set']}\n                    translationKey=\"onboarding.tutorial.with.jenkins.all_set\"\n                  />\n                </p>\n                <div className=\"display-flex-row big-spacer-bottom\">\n                  <div>\n                    <img\n                      alt=\"\" // Should be ignored by screen readers\n                      className=\"big-spacer-right\"\n                      width={30}\n                      src={`${getBaseUrl()}/images/tutorials/commit.svg`}\n                    />\n                  </div>\n                  <div>\n                    <p className=\"little-spacer-bottom\">\n                      <strong>{translate('onboarding.tutorial.with.jenkins.commit')}</strong>\n                    </p>\n                    <p>\n                      {branchesEnabled\n                        ? translate('onboarding.tutorial.with.jenkins.commit.why')\n                        : translate('onboarding.tutorial.with.jenkins.commit.why.no_branches')}\n                    </p>\n                  </div>\n                </div>\n                <div className=\"display-flex-row huge-spacer-bottom\">\n                  <div>\n                    <img\n                      alt=\"\" // Should be ignored by screen readers\n                      className=\"big-spacer-right\"\n                      width={30}\n                      src={`${getBaseUrl()}/images/tutorials/refresh.svg`}\n                    />\n                  </div>\n                  <div>\n                    <p className=\"little-spacer-bottom\">\n                      <strong>{translate('onboarding.tutorial.with.jenkins.refresh')}</strong>\n                    </p>\n                    <p>{translate('onboarding.tutorial.with.jenkins.refresh.why')}</p>\n                  </div>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      )}\n      stepNumber={3}\n      stepTitle={translate('onboarding.tutorial.with.jenkins.jenkinsfile.title')}\n    />\n  );\n}\n\nexport default withAppState(JenkinsfileStep);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CodeSnippet from '../../../common/CodeSnippet';\nimport SentenceWithFilename from '../../components/SentenceWithFilename';\nimport CreateJenkinsfileBulletPoint from './CreateJenkinsfileBulletPoint';\n\nexport interface MavenProps {\n  component: T.Component;\n}\n\nconst pomSnippet = (key: string) => `<properties>\n  <sonar.projectKey>${key}</sonar.projectKey>\n</properties>`;\n\nconst JENKINSFILE_SNIPPET = `node {\n  stage('SCM') {\n    checkout scm\n  }\n  stage('SonarQube Analysis') {\n    def mvn = tool 'Default Maven';\n    withSonarQubeEnv() {\n      sh \"\\${mvn}/bin/mvn sonar:sonar\"\n    }\n  }\n}`;\n\nexport default function Maven({ component }: MavenProps) {\n  return (\n    <>\n      <li className=\"abs-width-600\">\n        <SentenceWithFilename\n          filename=\"pom.xml\"\n          translationKey=\"onboarding.tutorial.with.jenkins.jenkinsfile.maven.step2\"\n        />\n        <CodeSnippet snippet={pomSnippet(component.key)} />\n      </li>\n      <CreateJenkinsfileBulletPoint\n        alertTranslationKeyPart=\"onboarding.tutorial.with.jenkins.jenkinsfile.maven.step3\"\n        snippet={JENKINSFILE_SNIPPET}\n      />\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CodeSnippet from '../../../common/CodeSnippet';\nimport SentenceWithFilename from '../../components/SentenceWithFilename';\nimport CreateJenkinsfileBulletPoint from './CreateJenkinsfileBulletPoint';\n\nexport interface GradleProps {\n  component: T.Component;\n}\n\nconst buildGradleSnippet = (key: string) => `plugins {\n  id \"org.sonarqube\" version \"3.1.1\"\n}\n\nsonarqube {\n  properties {\n    property \"sonar.projectKey\", \"${key}\"\n  }\n}`;\n\nconst JENKINSFILE_SNIPPET = `node {\n  stage('SCM') {\n    checkout scm\n  }\n  stage('SonarQube Analysis') {\n    withSonarQubeEnv() {\n      sh \"./gradlew sonarqube\"\n    }\n  }\n}`;\n\nexport default function Gradle({ component }: GradleProps) {\n  return (\n    <>\n      <li className=\"abs-width-600\">\n        <SentenceWithFilename\n          filename=\"build.gradle\"\n          translationKey=\"onboarding.tutorial.with.jenkins.jenkinsfile.gradle.step2\"\n        />\n        <CodeSnippet snippet={buildGradleSnippet(component.key)} />\n      </li>\n      <CreateJenkinsfileBulletPoint snippet={JENKINSFILE_SNIPPET} />\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport CodeSnippet from '../../../common/CodeSnippet';\nimport SentenceWithFilename from '../../components/SentenceWithFilename';\nimport SentenceWithHighlights from '../../components/SentenceWithHighlights';\n\nexport interface DotNetProps {\n  component: T.Component;\n}\n\nconst jenkinsfileSnippet = (key: string) => `node {\n  stage('SCM') {\n    checkout scm\n  }\n  stage('SonarQube Analysis') {\n    def msbuildHome = tool 'Default MSBuild'\n    def scannerHome = tool 'SonarScanner for MSBuild'\n    withSonarQubeEnv() {\n      bat \"\\\\\"\\${scannerHome}\\\\\\\\SonarScanner.MSBuild.exe\\\\\" begin /k:\\\\\"${key}\\\\\"\"\n      bat \"\\\\\"\\${msbuildHome}\\\\\\\\MSBuild.exe\\\\\" /t:Rebuild\"\n      bat \"\\\\\"\\${scannerHome}\\\\\\\\SonarScanner.MSBuild.exe\\\\\" end\"\n    }\n  }\n}\n`;\n\nexport default function DotNet({ component }: DotNetProps) {\n  return (\n    <li className=\"abs-width-600\">\n      <SentenceWithFilename\n        filename=\"Jenkinsfile\"\n        translationKey=\"onboarding.tutorial.with.jenkins.jenkinsfile.jenkinsfile_step\"\n      />\n      <Alert className=\"spacer-top\" variant=\"info\">\n        <p className=\"text-middle\">\n          <SentenceWithHighlights\n            highlightKeys={['default_msbuild', 'default_scanner', 'in_jenkins']}\n            translationKey=\"onboarding.tutorial.with.jenkins.jenkinsfile.dotnet.step2.replace\"\n          />\n          <HelpTooltip\n            className=\"little-spacer-left\"\n            overlay={\n              <>\n                <p className=\"spacer-bottom\">\n                  <SentenceWithHighlights\n                    highlightKeys={['path']}\n                    translationKey=\"onboarding.tutorial.with.jenkins.jenkinsfile.dotnet.step2.help1\"\n                  />\n                </p>\n                <p className=\"spacer-bottom\">\n                  <SentenceWithHighlights\n                    highlightKeys={['path', 'name']}\n                    translationKey=\"onboarding.tutorial.with.jenkins.jenkinsfile.dotnet.step2.help2\"\n                  />\n                </p>\n                <p>\n                  <SentenceWithHighlights\n                    highlightKeys={['path', 'name']}\n                    translationKey=\"onboarding.tutorial.with.jenkins.jenkinsfile.dotnet.step2.help3\"\n                  />\n                </p>\n              </>\n            }\n          />\n        </p>\n      </Alert>\n      <CodeSnippet snippet={jenkinsfileSnippet(component.key)} />\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CodeSnippet from '../../../common/CodeSnippet';\nimport SentenceWithFilename from '../../components/SentenceWithFilename';\nimport CreateJenkinsfileBulletPoint from './CreateJenkinsfileBulletPoint';\n\nexport interface OtherProps {\n  component: T.Component;\n}\n\nconst sonarProjectSnippet = (key: string) => `sonar.projectKey=${key}`;\n\nconst JENKINSFILE_SNIPPET = `node {\n  stage('SCM') {\n    checkout scm\n  }\n  stage('SonarQube Analysis') {\n    def scannerHome = tool 'SonarScanner';\n    withSonarQubeEnv() {\n      sh \"\\${scannerHome}/bin/sonar-scanner\"\n    }\n  }\n}`;\n\nexport default function Other({ component }: OtherProps) {\n  return (\n    <>\n      <li className=\"abs-width-600\">\n        <SentenceWithFilename\n          filename=\"sonar-project.properties\"\n          translationKey=\"onboarding.tutorial.with.jenkins.jenkinsfile.other.step2\"\n        />\n        <CodeSnippet snippet={sonarProjectSnippet(component.key)} />\n      </li>\n      <CreateJenkinsfileBulletPoint\n        alertTranslationKeyPart=\"onboarding.tutorial.with.jenkins.jenkinsfile.other.step3\"\n        snippet={JENKINSFILE_SNIPPET}\n      />\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface LabelActionPairProps {\n  translationKey: string;\n}\n\nexport default function LabelActionPair({ translationKey }: LabelActionPairProps) {\n  return (\n    <>\n      <strong>{translate(translationKey, 'label')}:</strong> {translate(translationKey, 'action')}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ClipboardIconButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface LabelValuePairProps {\n  translationKey: string;\n  value: string;\n}\n\nexport default function LabelValuePair({ translationKey, value }: LabelValuePairProps) {\n  return (\n    <div className=\"display-flex-center\">\n      <strong className=\"little-spacer-right\">{translate(translationKey, 'label')}:</strong> {value}\n      <ClipboardIconButton className=\"little-spacer-left\" copyValue={value} />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport {\n  AlmBindingDefinition,\n  isGithubBindingDefinition,\n  isProjectBitbucketBindingResponse,\n  isProjectGitHubBindingResponse,\n  ProjectBitbucketBindingResponse,\n  ProjectGitHubBindingResponse\n} from '../../../types/alm-settings';\nimport LabelActionPair from '../components/LabelActionPair';\nimport LabelValuePair from '../components/LabelValuePair';\nimport SentenceWithHighlights from '../components/SentenceWithHighlights';\nimport Step from '../components/Step';\nimport { buildGithubLink } from '../utils';\n\nexport interface MultiBranchPipelineStepProps {\n  almBinding?: AlmBindingDefinition;\n  finished: boolean;\n  onDone: () => void;\n  onOpen: () => void;\n  open: boolean;\n  projectBinding: ProjectBitbucketBindingResponse | ProjectGitHubBindingResponse;\n}\n\nexport default function MultiBranchPipelineStep(props: MultiBranchPipelineStepProps) {\n  const { almBinding, finished, open, projectBinding } = props;\n  return (\n    <Step\n      finished={finished}\n      onOpen={props.onOpen}\n      open={open}\n      renderForm={() => (\n        <div className=\"boxed-group-inner\">\n          <p className=\"big-spacer-bottom\">\n            {translate('onboarding.tutorial.with.jenkins.multi_branch_pipeline.intro')}\n          </p>\n          <ol className=\"list-styled\">\n            <li>\n              <SentenceWithHighlights\n                highlightKeys={['new_item', 'type']}\n                translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step1\"\n              />\n            </li>\n            <li>\n              <SentenceWithHighlights\n                highlightKeys={['tab']}\n                translationKey={`onboarding.tutorial.with.jenkins.multi_branch_pipeline.step2.${projectBinding.alm}`}\n              />\n              <ul className=\"list-styled\">\n                {isProjectBitbucketBindingResponse(projectBinding) && (\n                  <>\n                    <li>\n                      <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step2.bitbucket.server\" />\n                    </li>\n                    <li>\n                      <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step2.bitbucket.creds\" />\n                    </li>\n                    <li>\n                      <LabelValuePair\n                        translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step2.bitbucket.owner\"\n                        value={projectBinding.repository}\n                      />\n                    </li>\n                    <li>\n                      <LabelValuePair\n                        translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step2.bitbucket.repo\"\n                        value={projectBinding.slug}\n                      />\n                    </li>\n                  </>\n                )}\n                {isProjectGitHubBindingResponse(projectBinding) && (\n                  <>\n                    <li>\n                      <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step2.github.creds\" />\n                    </li>\n                    <li>\n                      {isGithubBindingDefinition(almBinding) ? (\n                        <LabelValuePair\n                          translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step2.github.repo_url\"\n                          value={buildGithubLink(almBinding, projectBinding)}\n                        />\n                      ) : (\n                        <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step2.github.repo_url\" />\n                      )}\n                    </li>\n                  </>\n                )}\n                <li>\n                  <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step2.behaviour\" />\n                </li>\n              </ul>\n            </li>\n            <li>\n              <SentenceWithHighlights\n                highlightKeys={['tab']}\n                translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step3\"\n              />\n              <ul className=\"list-styled\">\n                <li>\n                  <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step3.mode\" />\n                </li>\n                <li>\n                  <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step3.script_path\" />\n                </li>\n              </ul>\n            </li>\n            <li>\n              <SentenceWithHighlights\n                highlightKeys={['save']}\n                translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step4\"\n              />\n            </li>\n          </ol>\n          <Button onClick={props.onDone}>{translate('continue')}</Button>\n        </div>\n      )}\n      stepNumber={1}\n      stepTitle={translate('onboarding.tutorial.with.jenkins.multi_branch_pipeline.title')}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport LabelActionPair from '../components/LabelActionPair';\nimport SentenceWithHighlights from '../components/SentenceWithHighlights';\nimport Step from '../components/Step';\n\nexport interface PipelineStepProps {\n  finished: boolean;\n  onDone: () => void;\n  onOpen: () => void;\n  open: boolean;\n}\n\nexport default function PipelineStep(props: PipelineStepProps) {\n  const { finished, open } = props;\n  return (\n    <Step\n      finished={finished}\n      onOpen={props.onOpen}\n      open={open}\n      renderForm={() => (\n        <div className=\"boxed-group-inner\">\n          <p className=\"big-spacer-bottom\">\n            {translate('onboarding.tutorial.with.jenkins.pipeline.intro')}\n          </p>\n          <ol className=\"list-styled\">\n            <li>\n              <SentenceWithHighlights\n                highlightKeys={['new_item', 'type']}\n                translationKey=\"onboarding.tutorial.with.jenkins.pipeline.step1\"\n              />\n            </li>\n            <li>\n              <SentenceWithHighlights\n                highlightKeys={['tab', 'option']}\n                translationKey=\"onboarding.tutorial.with.jenkins.pipeline.step2\"\n              />\n            </li>\n            <li>\n              <SentenceWithHighlights\n                highlightKeys={['tab']}\n                translationKey=\"onboarding.tutorial.with.jenkins.pipeline.step3\"\n              />\n              <ul className=\"list-styled\">\n                <li>\n                  <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.pipeline.step3.definition\" />\n                </li>\n                <li>\n                  <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.pipeline.step3.scm\" />\n                </li>\n                <li>\n                  <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.pipeline.step3.script_path\" />\n                </li>\n              </ul>\n            </li>\n            <li>\n              <SentenceWithHighlights\n                highlightKeys={['save']}\n                translationKey=\"onboarding.tutorial.with.jenkins.pipeline.step4\"\n              />\n            </li>\n          </ol>\n          <Button onClick={props.onDone}>{translate('continue')}</Button>\n        </div>\n      )}\n      stepNumber={1}\n      stepTitle={translate('onboarding.tutorial.with.jenkins.pipeline.title')}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getAppState, getCurrentUserSetting, Store } from '../../../store/rootReducer';\nimport { setCurrentUserSetting } from '../../../store/users';\nimport {\n  AlmBindingDefinition,\n  isProjectBitbucketBindingResponse,\n  isProjectGitHubBindingResponse,\n  ProjectAlmBindingResponse\n} from '../../../types/alm-settings';\nimport JenkinsfileStep from './JenkinsfileStep';\nimport MultiBranchPipelineStep from './MultiBranchPipelineStep';\nimport PipelineStep from './PipelineStep';\nimport PreRequisitesStep from './PreRequisitesStep';\nimport WebhookStep from './WebhookStep';\n\nexport interface JenkinsTutorialProps {\n  almBinding?: AlmBindingDefinition;\n  branchesEnabled: boolean;\n  component: T.Component;\n  projectBinding: ProjectAlmBindingResponse;\n  setCurrentUserSetting: (setting: T.CurrentUserSetting) => void;\n  skipPreReqs: boolean;\n}\n\nenum Steps {\n  PreRequisites = 0,\n  MultiBranchPipeline = 1,\n  Webhook = 2,\n  Jenkinsfile = 3\n}\n\nconst USER_SETTING_SKIP_BITBUCKET_PREREQS = 'tutorials.jenkins.skipBitbucketPreReqs';\n\nexport function JenkinsTutorial(props: JenkinsTutorialProps) {\n  const { almBinding, branchesEnabled, component, projectBinding, skipPreReqs } = props;\n  const [step, setStep] = React.useState(\n    skipPreReqs ? Steps.MultiBranchPipeline : Steps.PreRequisites\n  );\n\n  // Failsafe; should never happen.\n  if (\n    !isProjectBitbucketBindingResponse(projectBinding) &&\n    !isProjectGitHubBindingResponse(projectBinding)\n  ) {\n    return (\n      <Alert variant=\"error\">{translate('onboarding.tutorial.with.jenkins.unsupported')}</Alert>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"page-header big-spacer-bottom\">\n        <h1 className=\"page-title\">{translate('onboarding.tutorial.with.jenkins.title')}</h1>\n      </div>\n\n      <PreRequisitesStep\n        alm={projectBinding.alm}\n        branchesEnabled={branchesEnabled}\n        onDone={() => setStep(Steps.MultiBranchPipeline)}\n        onOpen={() => setStep(Steps.PreRequisites)}\n        onChangeSkipNextTime={skip => {\n          props.setCurrentUserSetting({\n            key: USER_SETTING_SKIP_BITBUCKET_PREREQS,\n            value: skip.toString()\n          });\n        }}\n        open={step === Steps.PreRequisites}\n        skipNextTime={skipPreReqs}\n      />\n\n      {branchesEnabled ? (\n        <MultiBranchPipelineStep\n          almBinding={almBinding}\n          finished={step > Steps.MultiBranchPipeline}\n          onDone={() => setStep(Steps.Webhook)}\n          onOpen={() => setStep(Steps.MultiBranchPipeline)}\n          open={step === Steps.MultiBranchPipeline}\n          projectBinding={projectBinding}\n        />\n      ) : (\n        <PipelineStep\n          finished={step > Steps.MultiBranchPipeline}\n          onDone={() => setStep(Steps.Webhook)}\n          onOpen={() => setStep(Steps.MultiBranchPipeline)}\n          open={step === Steps.MultiBranchPipeline}\n        />\n      )}\n\n      <WebhookStep\n        almBinding={almBinding}\n        branchesEnabled={branchesEnabled}\n        finished={step > Steps.Webhook}\n        onDone={() => setStep(Steps.Jenkinsfile)}\n        onOpen={() => setStep(Steps.Webhook)}\n        open={step === Steps.Webhook}\n        projectBinding={projectBinding}\n      />\n\n      <JenkinsfileStep component={component} open={step === Steps.Jenkinsfile} />\n    </>\n  );\n}\n\nconst mapStateToProps = (\n  state: Store\n): Pick<JenkinsTutorialProps, 'branchesEnabled' | 'skipPreReqs'> => {\n  return {\n    branchesEnabled: Boolean(getAppState(state).branchesEnabled),\n    skipPreReqs: getCurrentUserSetting(state, USER_SETTING_SKIP_BITBUCKET_PREREQS) === 'true'\n  };\n};\n\nconst mapDispatchToProps = { setCurrentUserSetting };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(JenkinsTutorial);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { AlmKeys } from '../../../types/alm-settings';\nimport SentenceWithHighlights from '../components/SentenceWithHighlights';\nimport Step from '../components/Step';\n\nexport interface PreRequisitesStepProps {\n  alm: AlmKeys;\n  branchesEnabled: boolean;\n  onChangeSkipNextTime: (skip: boolean) => void;\n  onDone: () => void;\n  onOpen: () => void;\n  open: boolean;\n  skipNextTime: boolean;\n}\n\nexport default function PreRequisitesStep(props: PreRequisitesStepProps) {\n  const { alm, branchesEnabled, open, skipNextTime } = props;\n  return (\n    <Step\n      finished={!open}\n      onOpen={props.onOpen}\n      open={open}\n      renderForm={() => (\n        <div className=\"boxed-group-inner\">\n          <p className=\"big-spacer-bottom\">\n            <SentenceWithHighlights\n              highlightKeys={['must_have']}\n              translationKey=\"onboarding.tutorial.with.jenkins.prereqs.intro\"\n            />\n          </p>\n          <ul className=\"list-styled big-spacer-bottom\">\n            {branchesEnabled && (\n              <li>\n                {translate('onboarding.tutorial.with.jenkins.prereqs.plugins.branch_source', alm)}\n              </li>\n            )}\n            <li>{translate('onboarding.tutorial.with.jenkins.prereqs.plugins.sonar_scanner')}</li>\n          </ul>\n          <p className=\"big-spacer-bottom\">\n            <FormattedMessage\n              defaultMessage={translate(\n                'onboarding.tutorial.with.jenkins.prereqs.step_by_step_guide'\n              )}\n              id=\"onboarding.tutorial.with.jenkins.prereqs.step_by_step_guide\"\n              values={{\n                link: (\n                  <Link target=\"_blank\" to=\"/documentation/analysis/jenkins/\">\n                    {translate('onboarding.tutorial.with.jenkins.prereqs.step_by_step_guide.link')}\n                  </Link>\n                )\n              }}\n            />\n          </p>\n          <p className=\"big-spacer-bottom\">\n            {translate('onboarding.tutorial.with.jenkins.prereqs.following_are_recommendations')}\n          </p>\n          <p className=\"big-spacer-bottom display-flex-center\">\n            <label\n              className=\"cursor-pointer\"\n              htmlFor=\"skip-prereqs\"\n              onClick={() => {\n                props.onChangeSkipNextTime(!skipNextTime);\n              }}>\n              {translate('onboarding.tutorial.with.jenkins.prereqs.skip_next_time')}\n            </label>\n            <Checkbox\n              checked={skipNextTime}\n              className=\"little-spacer-left\"\n              id=\"skip-prereqs\"\n              onCheck={props.onChangeSkipNextTime}\n            />\n          </p>\n          <Button onClick={props.onDone}>\n            {translate('onboarding.tutorial.with.jenkins.prereqs.done')}\n          </Button>\n        </div>\n      )}\n      stepTitle={translate('onboarding.tutorial.with.jenkins.prereqs.title')}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { BitbucketBindingDefinition, ProjectAlmBindingResponse } from '../../../types/alm-settings';\nimport CodeSnippet from '../../common/CodeSnippet';\nimport LabelActionPair from '../components/LabelActionPair';\nimport SentenceWithHighlights from '../components/SentenceWithHighlights';\n\nexport interface WebhookStepBitbucketProps {\n  almBinding?: BitbucketBindingDefinition;\n  branchesEnabled: boolean;\n  projectBinding: ProjectAlmBindingResponse;\n}\n\nfunction buildUrlSnippet(branchesEnabled: boolean, ownUrl = '***BITBUCKET_URL***') {\n  return branchesEnabled\n    ? `***JENKINS_URL***/bitbucket-scmsource-hook/notify?server_url=${ownUrl}`\n    : '***JENKINS_URL***/job/JENKINS_JOB_NAME/build?token=JENKINS_BUILD_TRIGGER_TOKEN';\n}\n\nexport default function WebhookStepBitbucket(props: WebhookStepBitbucketProps) {\n  const { almBinding, branchesEnabled, projectBinding } = props;\n\n  const linkUrl =\n    almBinding &&\n    `${almBinding.url}/plugins/servlet/webhooks/projects/${projectBinding.repository}/repos/${projectBinding.slug}/create`;\n\n  return (\n    <>\n      <li>\n        <FormattedMessage\n          defaultMessage={translate('onboarding.tutorial.with.jenkins.webhook.step1.sentence')}\n          id=\"onboarding.tutorial.with.jenkins.webhook.step1.sentence\"\n          values={{\n            link: linkUrl ? (\n              <a href={linkUrl} rel=\"noopener noreferrer\" target=\"_blank\">\n                {translate('onboarding.tutorial.with.jenkins.webhook.bitbucket.step1.link')}\n              </a>\n            ) : (\n              translate('onboarding.tutorial.with.jenkins.webhook.bitbucket.step1.link')\n            )\n          }}\n        />\n        <ul className=\"list-styled\">\n          <li>\n            <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.webhook.step1.name\" />\n          </li>\n          <li className=\"abs-width-600\">\n            <p>\n              <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.webhook.bitbucket.step1.url\" />\n            </p>\n            <CodeSnippet\n              isOneLine={true}\n              snippet={buildUrlSnippet(branchesEnabled, almBinding && almBinding.url)}\n            />\n            {branchesEnabled && (\n              <Alert variant=\"info\">\n                {translate('onboarding.tutorial.with.jenkins.webhook.bitbucket.step1.url.warning')}\n              </Alert>\n            )}\n          </li>\n        </ul>\n      </li>\n      <li>\n        <SentenceWithHighlights\n          highlightKeys={['events']}\n          translationKey=\"onboarding.tutorial.with.jenkins.webhook.bitbucket.step2\"\n        />\n        <ul className=\"list-styled\">\n          <li>\n            <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.webhook.bitbucket.step2.repo\" />\n          </li>\n          {branchesEnabled && (\n            <li>\n              <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.webhook.bitbucket.step2.pr\" />\n            </li>\n          )}\n        </ul>\n      </li>\n      <li>\n        <SentenceWithHighlights\n          highlightKeys={['create']}\n          translationKey=\"onboarding.tutorial.with.jenkins.webhook.step3\"\n        />\n      </li>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { GithubBindingDefinition, ProjectAlmBindingResponse } from '../../../types/alm-settings';\nimport CodeSnippet from '../../common/CodeSnippet';\nimport LabelActionPair from '../components/LabelActionPair';\nimport SentenceWithHighlights from '../components/SentenceWithHighlights';\nimport { buildGithubLink } from '../utils';\n\nexport interface WebhookStepGithubProps {\n  almBinding?: GithubBindingDefinition;\n  branchesEnabled: boolean;\n  projectBinding: ProjectAlmBindingResponse;\n}\n\nexport default function WebhookStepGithub(props: WebhookStepGithubProps) {\n  const { almBinding, branchesEnabled, projectBinding } = props;\n\n  const linkUrl = almBinding && `${buildGithubLink(almBinding, projectBinding)}/settings/hooks`;\n\n  const webhookUrl = branchesEnabled\n    ? '/github-webhook/'\n    : '/job/JENKINS_JOB_NAME/build?token=JENKINS_BUILD_TRIGGER_TOKEN';\n\n  return (\n    <>\n      <li>\n        <FormattedMessage\n          defaultMessage={translate('onboarding.tutorial.with.jenkins.webhook.step1.sentence')}\n          id=\"onboarding.tutorial.with.jenkins.webhook.step1.sentence\"\n          values={{\n            link: linkUrl ? (\n              <a href={linkUrl} rel=\"noopener noreferrer\" target=\"_blank\">\n                {translate('onboarding.tutorial.with.jenkins.webhook.github.step1.link')}\n              </a>\n            ) : (\n              translate('onboarding.tutorial.with.jenkins.webhook.github.step1.link')\n            )\n          }}\n        />\n        <ul className=\"list-styled\">\n          <li className=\"abs-width-600\">\n            <p>\n              <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.webhook.github.step1.url\" />\n            </p>\n            <CodeSnippet isOneLine={true} snippet={webhookUrl} />\n          </li>\n        </ul>\n      </li>\n      <li>\n        <SentenceWithHighlights\n          highlightKeys={['events', 'option']}\n          translationKey=\"onboarding.tutorial.with.jenkins.webhook.github.step2\"\n        />\n        <ul className=\"list-styled\">\n          <li>\n            <strong>\n              {translate('onboarding.tutorial.with.jenkins.webhook.github.step2.repo')}\n            </strong>\n          </li>\n          {branchesEnabled && (\n            <li>\n              <strong>\n                {translate('onboarding.tutorial.with.jenkins.webhook.github.step2.pr')}\n              </strong>\n            </li>\n          )}\n        </ul>\n      </li>\n      <li>\n        <SentenceWithHighlights\n          highlightKeys={['create']}\n          translationKey=\"onboarding.tutorial.with.jenkins.webhook.step3\"\n        />\n      </li>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Button, ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport {\n  AlmBindingDefinition,\n  AlmKeys,\n  isBitbucketBindingDefinition,\n  isGithubBindingDefinition,\n  ProjectAlmBindingResponse\n} from '../../../types/alm-settings';\nimport Step from '../components/Step';\nimport WebhookStepBitbucket from './WebhookStepBitbucket';\nimport WebhookStepGithub from './WebhookStepGithub';\n\nexport interface WebhookStepProps {\n  almBinding?: AlmBindingDefinition;\n  branchesEnabled: boolean;\n  finished: boolean;\n  onDone: () => void;\n  onOpen: () => void;\n  open: boolean;\n  projectBinding: ProjectAlmBindingResponse;\n}\n\nfunction renderAlmSpecificInstructions(props: WebhookStepProps) {\n  const { almBinding, branchesEnabled, projectBinding } = props;\n\n  switch (projectBinding.alm) {\n    case AlmKeys.BitbucketServer:\n      return (\n        <WebhookStepBitbucket\n          almBinding={isBitbucketBindingDefinition(almBinding) ? almBinding : undefined}\n          branchesEnabled={branchesEnabled}\n          projectBinding={projectBinding}\n        />\n      );\n\n    case AlmKeys.GitHub:\n      return (\n        <WebhookStepGithub\n          almBinding={isGithubBindingDefinition(almBinding) ? almBinding : undefined}\n          branchesEnabled={branchesEnabled}\n          projectBinding={projectBinding}\n        />\n      );\n\n    default:\n      return null;\n  }\n}\n\nexport default function WebhookStep(props: WebhookStepProps) {\n  const { finished, open, projectBinding } = props;\n\n  return (\n    <Step\n      finished={finished}\n      onOpen={props.onOpen}\n      open={open}\n      renderForm={() => (\n        <div className=\"boxed-group-inner\">\n          <p className=\"big-spacer-bottom\">\n            <FormattedMessage\n              defaultMessage={translate('onboarding.tutorial.with.jenkins.webhook.intro.sentence')}\n              id=\"onboarding.tutorial.with.jenkins.webhook.intro.sentence\"\n              values={{\n                link: (\n                  <ButtonLink onClick={props.onDone}>\n                    {translate('onboarding.tutorial.with.jenkins.webhook.intro.link')}\n                  </ButtonLink>\n                )\n              }}\n            />\n          </p>\n          <ol className=\"list-styled\">{renderAlmSpecificInstructions(props)}</ol>\n          <Button onClick={props.onDone}>{translate('continue')}</Button>\n        </div>\n      )}\n      stepNumber={2}\n      stepTitle={translate('onboarding.tutorial.with.jenkins.webhook', projectBinding.alm, 'title')}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RadioToggle from 'sonar-ui-common/components/controls/RadioToggle';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport RenderOptions from '../components/RenderOptions';\nimport { BuildTools, ManualTutorialConfig, OSs } from '../types';\n\ninterface Props {\n  config?: ManualTutorialConfig;\n  onDone: (config: ManualTutorialConfig) => void;\n}\n\ninterface State {\n  config: ManualTutorialConfig;\n}\n\nexport default class BuildToolForm extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      config: this.props.config || {}\n    };\n  }\n\n  handleBuildToolChange = (buildTool: BuildTools) => {\n    this.setState({ config: { buildTool } }, () => {\n      this.props.onDone(this.state.config);\n    });\n  };\n\n  handleOSChange = (os: OSs) => {\n    this.setState({ config: { buildTool: BuildTools.Other, os } }, () => {\n      this.props.onDone(this.state.config);\n    });\n  };\n\n  render() {\n    const { config } = this.state;\n    const buildTools = [BuildTools.Maven, BuildTools.Gradle, BuildTools.DotNet, BuildTools.Other];\n\n    return (\n      <>\n        <div>\n          <h4 className=\"spacer-bottom\">{translate('onboarding.build')}</h4>\n          <RadioToggle\n            name=\"language\"\n            onCheck={this.handleBuildToolChange}\n            options={buildTools.map(tool => ({\n              label: translate('onboarding.build', tool),\n              value: tool\n            }))}\n            value={config.buildTool}\n          />\n        </div>\n\n        {config.buildTool === BuildTools.Other && (\n          <RenderOptions\n            checked={config.os}\n            name=\"os\"\n            onCheck={this.handleOSChange}\n            optionLabelKey=\"onboarding.build.other.os\"\n            options={[OSs.Linux, OSs.Windows, OSs.MacOS]}\n            titleLabelKey=\"onboarding.build.other.os\"\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport CodeSnippet from '../../../common/CodeSnippet';\nimport InstanceMessage from '../../../common/InstanceMessage';\n\nexport interface DotNetProps {\n  host: string;\n  projectKey: string;\n  token: string;\n}\n\nexport default function DotNet(props: DotNetProps) {\n  const { host, projectKey, token } = props;\n\n  const command1 = [\n    'SonarScanner.MSBuild.exe begin',\n    `/k:\"${projectKey}\"`,\n    `/d:sonar.host.url=\"${host}\"`,\n    `/d:sonar.login=\"${token}\"`\n  ];\n\n  const command2 = 'MsBuild.exe /t:Rebuild';\n\n  const command3 = ['SonarScanner.MSBuild.exe end', `/d:sonar.login=\"${token}\"`];\n\n  return (\n    <div>\n      <div>\n        <h4 className=\"spacer-bottom\">{translate('onboarding.analysis.msbuild.header')}</h4>\n        <p className=\"spacer-bottom markdown\">\n          <FormattedMessage\n            defaultMessage={translate('onboarding.analysis.msbuild.text')}\n            id=\"onboarding.analysis.msbuild.text\"\n            values={{ code: <code>%PATH%</code> }}\n          />\n        </p>\n        <p>\n          <Link\n            className=\"button\"\n            to=\"/documentation/analysis/scan/sonarscanner-for-msbuild/\"\n            target=\"_blank\">\n            {translate('download_verb')}\n          </Link>\n        </p>\n      </div>\n\n      <h4 className=\"huge-spacer-top spacer-bottom\">\n        {translate('onboarding.analysis.msbuild.execute')}\n      </h4>\n      <InstanceMessage message={translate('onboarding.analysis.msbuild.execute.text')}>\n        {transformedMessage => <p className=\"spacer-bottom markdown\">{transformedMessage}</p>}\n      </InstanceMessage>\n      <CodeSnippet isOneLine={true} snippet={command1} />\n      <CodeSnippet isOneLine={true} snippet={command2} />\n      <CodeSnippet isOneLine={true} snippet={command3} />\n      <p className=\"big-spacer-top markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.docs')}\n          id=\"onboarding.analysis.docs\"\n          values={{\n            link: (\n              <Link to=\"/documentation/analysis/scan/sonarscanner-for-msbuild/\" target=\"_blank\">\n                {translate('onboarding.analysis.msbuild.docs_link')}\n              </Link>\n            )\n          }}\n        />\n      </p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport CodeSnippet from '../../../common/CodeSnippet';\nimport InstanceMessage from '../../../common/InstanceMessage';\n\nexport interface JavaGradleProps {\n  host: string;\n  projectKey: string;\n  token: string;\n}\n\nexport default function JavaGradle(props: JavaGradleProps) {\n  const { host, projectKey, token } = props;\n  const config = 'plugins {\\n  id \"org.sonarqube\" version \"3.0\"\\n}';\n\n  const command = [\n    './gradlew sonarqube',\n    `-Dsonar.projectKey=${projectKey}`,\n    `-Dsonar.host.url=${host}`,\n    `-Dsonar.login=${token}`\n  ];\n\n  return (\n    <div>\n      <h4 className=\"spacer-bottom\">{translate('onboarding.analysis.java.gradle.header')}</h4>\n      <InstanceMessage message={translate('onboarding.analysis.java.gradle.text.1')}>\n        {transformedMessage => (\n          <p className=\"spacer-bottom markdown\">\n            <FormattedMessage\n              defaultMessage={transformedMessage}\n              id=\"onboarding.analysis.java.gradle.text.1\"\n              values={{\n                plugin_code: <code>org.sonarqube</code>,\n                filename: <code>build.gradle</code>\n              }}\n            />\n          </p>\n        )}\n      </InstanceMessage>\n      <CodeSnippet snippet={config} />\n      <p className=\"big-spacer-bottom markdown\">\n        <em className=\"small text-muted\">\n          <FormattedMessage\n            defaultMessage={translate('onboarding.analysis.java.gradle.latest_version')}\n            id=\"onboarding.analysis.java.gradle.latest_version\"\n            values={{\n              link: (\n                <Link to=\"/documentation/analysis/scan/sonarscanner-for-gradle/\" target=\"_blank\">\n                  {translate('here')}\n                </Link>\n              )\n            }}\n          />\n        </em>\n      </p>\n      <p className=\"spacer-top spacer-bottom markdown\">\n        {translate('onboarding.analysis.java.gradle.text.2')}\n      </p>\n      <CodeSnippet snippet={command} />\n      <p className=\"big-spacer-top markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.docs')}\n          id=\"onboarding.analysis.docs\"\n          values={{\n            link: (\n              <Link to=\"/documentation/analysis/scan/sonarscanner-for-gradle/\" target=\"_blank\">\n                {translate('onboarding.analysis.java.gradle.docs_link')}\n              </Link>\n            )\n          }}\n        />\n      </p>\n      <p className=\"big-spacer-top markdown\">\n        {translate('onboarding.analysis.auto_refresh_after_analysis')}\n      </p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport CodeSnippet from '../../../common/CodeSnippet';\nimport InstanceMessage from '../../../common/InstanceMessage';\n\nexport interface JavaMavenProps {\n  host: string;\n  projectKey: string;\n  token: string;\n}\n\nexport default function JavaMaven(props: JavaMavenProps) {\n  const { host, projectKey, token } = props;\n  const command = [\n    'mvn sonar:sonar',\n    `-Dsonar.projectKey=${projectKey}`,\n    `-Dsonar.host.url=${host}`,\n    `-Dsonar.login=${token}`\n  ];\n\n  return (\n    <div>\n      <h4 className=\"spacer-bottom\">{translate('onboarding.analysis.java.maven.header')}</h4>\n      <p className=\"spacer-bottom markdown\">\n        <InstanceMessage message={translate('onboarding.analysis.java.maven.text')} />\n      </p>\n      <CodeSnippet snippet={command} />\n      <p className=\"big-spacer-top markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.docs')}\n          id=\"onboarding.analysis.docs\"\n          values={{\n            link: (\n              <Link to=\"/documentation/analysis/scan/sonarscanner-for-gradle/\" target=\"_blank\">\n                {translate('onboarding.analysis.java.maven.docs_link')}\n              </Link>\n            )\n          }}\n        />\n      </p>\n      <p className=\"big-spacer-top markdown\">\n        {translate('onboarding.analysis.auto_refresh_after_analysis')}\n      </p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport CodeSnippet from '../../../common/CodeSnippet';\nimport InstanceMessage from '../../../common/InstanceMessage';\nimport { OSs } from '../../types';\nimport { quote } from '../../utils';\n\nexport interface OtherProps {\n  host: string;\n  os: OSs;\n  projectKey: string;\n  token: string;\n}\n\nexport default function Other(props: OtherProps) {\n  const { host, os, projectKey, token } = props;\n\n  const q = quote(os);\n  const command = [\n    os === OSs.Windows ? 'sonar-scanner.bat' : 'sonar-scanner',\n    '-D' + q(`sonar.projectKey=${projectKey}`),\n    '-D' + q('sonar.sources=.'),\n    '-D' + q(`sonar.host.url=${host}`),\n    '-D' + q(`sonar.login=${token}`)\n  ];\n\n  return (\n    <div>\n      <div>\n        <h4 className=\"spacer-bottom\">{translate('onboarding.analysis.sq_scanner.header', os)}</h4>\n        <p className=\"spacer-bottom markdown\">\n          <FormattedMessage\n            defaultMessage={translate('onboarding.analysis.sq_scanner.text')}\n            id=\"onboarding.analysis.sq_scanner.text\"\n            values={{\n              dir: <code>bin</code>,\n              env_var: <code>{os === OSs.Windows ? '%PATH%' : 'PATH'}</code>\n            }}\n          />\n        </p>\n        <p>\n          <Link className=\"button\" to=\"/documentation/analysis/scan/sonarscanner/\" target=\"_blank\">\n            {translate('download_verb')}\n          </Link>\n        </p>\n      </div>\n\n      <h4 className=\"huge-spacer-top spacer-bottom\">\n        {translate('onboarding.analysis.sq_scanner.execute')}\n      </h4>\n      <InstanceMessage message={translate('onboarding.analysis.sq_scanner.execute.text')}>\n        {transformedMessage => <p className=\"spacer-bottom markdown\">{transformedMessage}</p>}\n      </InstanceMessage>\n      <CodeSnippet isOneLine={os === OSs.Windows} snippet={command} />\n      <p className=\"big-spacer-top markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.sq_scanner.docs')}\n          id=\"onboarding.analysis.sq_scanner.docs\"\n          values={{\n            link: (\n              <Link to=\"/documentation/analysis/scan/sonarscanner/\" target=\"_blank\">\n                {translate('onboarding.analysis.sq_scanner.docs_link')}\n              </Link>\n            )\n          }}\n        />\n      </p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getHostUrl } from 'sonar-ui-common/helpers/urls';\nimport { BuildTools, ManualTutorialConfig } from '../../types';\nimport DotNet from './DotNet';\nimport JavaGradle from './JavaGradle';\nimport JavaMaven from './JavaMaven';\nimport Other from './Other';\n\nexport interface AnalysisCommandProps {\n  component: T.Component;\n  languageConfig: ManualTutorialConfig;\n  token?: string;\n}\n\nexport default function AnalysisCommand(props: AnalysisCommandProps) {\n  const { component, languageConfig, token } = props;\n\n  if (!token) {\n    return null;\n  }\n\n  const host = getHostUrl();\n  const projectKey = component.key;\n\n  switch (languageConfig.buildTool) {\n    case BuildTools.Maven:\n      return <JavaMaven host={host} projectKey={projectKey} token={token} />;\n\n    case BuildTools.Gradle:\n      return <JavaGradle host={host} projectKey={projectKey} token={token} />;\n\n    case BuildTools.DotNet:\n      return <DotNet host={host} projectKey={projectKey} token={token} />;\n\n    case BuildTools.Other:\n      return languageConfig.os !== undefined ? (\n        <Other host={host} os={languageConfig.os} projectKey={projectKey} token={token} />\n      ) : null;\n\n    default:\n      return null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport Step from '../components/Step';\nimport { ManualTutorialConfig } from '../types';\nimport BuildToolForm from './BuildToolForm';\nimport AnalysisCommand from './commands/AnalysisCommand';\n\ninterface Props {\n  component: T.Component;\n  onFinish?: (projectKey?: string) => void;\n  open: boolean;\n  stepNumber: number;\n  token?: string;\n}\n\ninterface State {\n  config?: ManualTutorialConfig;\n}\n\nexport default class ProjectAnalysisStep extends React.PureComponent<Props, State> {\n  state: State = {};\n\n  handleBuildToolSelect = (config: ManualTutorialConfig) => {\n    const { component } = this.props;\n    this.setState({ config });\n    if (this.props.onFinish) {\n      this.props.onFinish(component.key);\n    }\n  };\n\n  renderForm = () => {\n    return (\n      <div className=\"boxed-group-inner\">\n        <div className=\"display-flex-column\">\n          <BuildToolForm onDone={this.handleBuildToolSelect} />\n\n          {this.state.config && (\n            <div className=\"huge-spacer-top\">\n              <AnalysisCommand\n                component={this.props.component}\n                languageConfig={this.state.config}\n                token={this.props.token}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  renderResult = () => null;\n\n  render() {\n    return (\n      <Step\n        finished={false}\n        onOpen={() => {}}\n        open={this.props.open}\n        renderForm={this.renderForm}\n        renderResult={this.renderResult}\n        stepNumber={this.props.stepNumber}\n        stepTitle={translate('onboarding.analysis.header')}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport InstanceMessage from '../../common/InstanceMessage';\nimport ProjectAnalysisStep from './ProjectAnalysisStep';\nimport TokenStep from './TokenStep';\n\nexport enum Steps {\n  ANALYSIS,\n  TOKEN\n}\n\ninterface Props {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n}\n\ninterface State {\n  step: Steps;\n  token?: string;\n}\n\nexport default class ManualTutorial extends React.PureComponent<Props, State> {\n  state: State = { step: Steps.TOKEN };\n\n  handleTokenDone = (token: string) => {\n    this.setState({ step: Steps.ANALYSIS, token });\n  };\n\n  handleTokenOpen = () => {\n    this.setState({ step: Steps.TOKEN });\n  };\n\n  render() {\n    const { component, currentUser } = this.props;\n    const { step, token } = this.state;\n\n    return (\n      <>\n        <div className=\"page-header big-spacer-bottom\">\n          <h1 className=\"page-title\">{translate('onboarding.project_analysis.header')}</h1>\n          <p className=\"page-description\">\n            <InstanceMessage message={translate('onboarding.project_analysis.description')} />\n          </p>\n        </div>\n\n        <TokenStep\n          currentUser={currentUser}\n          finished={Boolean(this.state.token)}\n          initialTokenName={`Analyze \"${component.name}\"`}\n          onContinue={this.handleTokenDone}\n          onOpen={this.handleTokenOpen}\n          open={step === Steps.TOKEN}\n          stepNumber={1}\n        />\n\n        <ProjectAnalysisStep\n          component={component}\n          open={step === Steps.ANALYSIS}\n          stepNumber={2}\n          token={token}\n        />\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { Button, DeleteButton, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Radio from 'sonar-ui-common/components/controls/Radio';\nimport AlertErrorIcon from 'sonar-ui-common/components/icons/AlertErrorIcon';\nimport AlertSuccessIcon from 'sonar-ui-common/components/icons/AlertSuccessIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { generateToken, getTokens, revokeToken } from '../../../api/user-tokens';\nimport Step from '../components/Step';\nimport { getUniqueTokenName } from '../utils';\n\ninterface Props {\n  currentUser: Pick<T.LoggedInUser, 'login'>;\n  finished: boolean;\n  initialTokenName?: string;\n  open: boolean;\n  onContinue: (token: string) => void;\n  onOpen: VoidFunction;\n  stepNumber: number;\n}\n\ninterface State {\n  existingToken: string;\n  loading: boolean;\n  selection: string;\n  tokenName?: string;\n  token?: string;\n  tokens?: T.UserToken[];\n}\n\nexport default class TokenStep extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      existingToken: '',\n      loading: false,\n      selection: 'generate',\n      tokenName: props.initialTokenName\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    getTokens(this.props.currentUser.login).then(\n      tokens => {\n        if (this.mounted) {\n          this.setState({ tokens });\n          if (\n            this.props.initialTokenName !== undefined &&\n            this.props.initialTokenName === this.state.tokenName\n          ) {\n            this.setState({ tokenName: getUniqueTokenName(tokens) });\n          }\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getToken = () =>\n    this.state.selection === 'generate' ? this.state.token : this.state.existingToken;\n\n  canContinue = () => {\n    const { existingToken, selection, token } = this.state;\n    const validExistingToken = existingToken.match(/^[a-z0-9]+$/) != null;\n    return (\n      (selection === 'generate' && token != null) ||\n      (selection === 'use-existing' && existingToken && validExistingToken)\n    );\n  };\n\n  handleTokenNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ tokenName: event.target.value });\n  };\n\n  handleTokenGenerate = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const { tokenName } = this.state;\n    if (tokenName) {\n      this.setState({ loading: true });\n      generateToken({ name: tokenName }).then(({ token }) => {\n        if (this.mounted) {\n          this.setState({ loading: false, token });\n        }\n      }, this.stopLoading);\n    }\n  };\n\n  handleTokenRevoke = () => {\n    const { tokenName } = this.state;\n    if (tokenName) {\n      this.setState({ loading: true });\n      revokeToken({ name: tokenName }).then(() => {\n        if (this.mounted) {\n          this.setState({ loading: false, token: undefined, tokenName: undefined });\n        }\n      }, this.stopLoading);\n    }\n  };\n\n  handleContinueClick = () => {\n    const token = this.getToken();\n    if (token) {\n      this.props.onContinue(token);\n    }\n  };\n\n  handleGenerateClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.setState({ selection: 'generate' });\n  };\n\n  handleUseExistingClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.setState({ selection: 'use-existing' });\n  };\n\n  handleModeChange = (mode: string) => {\n    this.setState({ selection: mode });\n  };\n\n  handleExisingTokenChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ existingToken: event.currentTarget.value });\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  renderGenerateOption = () => (\n    <div>\n      {this.state.tokens !== undefined && this.state.tokens.length > 0 ? (\n        <Radio\n          checked={this.state.selection === 'generate'}\n          onCheck={this.handleModeChange}\n          value=\"generate\">\n          {translate('onboarding.token.generate_token')}\n        </Radio>\n      ) : (\n        translate('onboarding.token.generate_token')\n      )}\n      {this.state.selection === 'generate' && (\n        <div className=\"big-spacer-top\">\n          <form onSubmit={this.handleTokenGenerate}>\n            <input\n              autoFocus={true}\n              className=\"input-super-large spacer-right text-middle\"\n              onChange={this.handleTokenNameChange}\n              placeholder={translate('onboarding.token.generate_token.placeholder')}\n              required={true}\n              type=\"text\"\n              value={this.state.tokenName || ''}\n            />\n            {this.state.loading ? (\n              <i className=\"spinner text-middle\" />\n            ) : (\n              <SubmitButton className=\"text-middle\" disabled={!this.state.tokenName}>\n                {translate('onboarding.token.generate')}\n              </SubmitButton>\n            )}\n          </form>\n        </div>\n      )}\n    </div>\n  );\n\n  renderUseExistingOption = () => {\n    const { existingToken } = this.state;\n    const validInput = !existingToken || existingToken.match(/^[a-z0-9]+$/) != null;\n\n    return (\n      <div className=\"big-spacer-top\">\n        <Radio\n          checked={this.state.selection === 'use-existing'}\n          onCheck={this.handleModeChange}\n          value=\"use-existing\">\n          {translate('onboarding.token.use_existing_token')}\n        </Radio>\n        {this.state.selection === 'use-existing' && (\n          <div className=\"big-spacer-top\">\n            <input\n              autoFocus={true}\n              className=\"input-super-large spacer-right text-middle\"\n              onChange={this.handleExisingTokenChange}\n              placeholder={translate('onboarding.token.use_existing_token.placeholder')}\n              required={true}\n              type=\"text\"\n              value={this.state.existingToken}\n            />\n            {!validInput && (\n              <span className=\"text-danger\">\n                <AlertErrorIcon className=\"little-spacer-right text-text-top\" />\n                {translate('onboarding.token.invalid_format')}\n              </span>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  renderForm = () => {\n    const { loading, token, tokenName, tokens } = this.state;\n    const canUseExisting = tokens !== undefined && tokens.length > 0;\n\n    return (\n      <div className=\"boxed-group-inner\">\n        {token != null ? (\n          <form onSubmit={this.handleTokenRevoke}>\n            <span className=\"text-middle\">\n              {tokenName}\n              {': '}\n            </span>\n            <strong className=\"spacer-right text-middle\">{token}</strong>\n            {loading ? (\n              <i className=\"spinner text-middle\" />\n            ) : (\n              <DeleteButton className=\"button-small text-middle\" onClick={this.handleTokenRevoke} />\n            )}\n          </form>\n        ) : (\n          <div>\n            {this.renderGenerateOption()}\n            {canUseExisting && this.renderUseExistingOption()}\n          </div>\n        )}\n\n        <div className=\"note big-spacer-top width-50\">\n          <FormattedMessage\n            defaultMessage={translate('onboarding.token.text')}\n            id=\"onboarding.token.text\"\n            values={{\n              link: (\n                <Link target=\"_blank\" to=\"/account/security\">\n                  {translate('onboarding.token.text.user_account')}\n                </Link>\n              )\n            }}\n          />\n        </div>\n\n        {this.canContinue() && (\n          <div className=\"big-spacer-top\">\n            <Button className=\"js-continue\" onClick={this.handleContinueClick}>\n              {translate('continue')}\n            </Button>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  renderResult = () => {\n    const { selection, tokenName } = this.state;\n    const token = this.getToken();\n\n    if (!token) {\n      return null;\n    }\n\n    return (\n      <div className=\"boxed-group-actions display-flex-center\">\n        <AlertSuccessIcon className=\"spacer-right\" />\n        {selection === 'generate' && tokenName && `${tokenName}: `}\n        <strong>{token}</strong>\n      </div>\n    );\n  };\n\n  render() {\n    return (\n      <Step\n        finished={this.props.finished}\n        onOpen={this.props.onOpen}\n        open={this.props.open}\n        renderForm={this.renderForm}\n        renderResult={this.renderResult}\n        stepNumber={this.props.stepNumber}\n        stepTitle={translate('onboarding.token.header')}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport { AlmBindingDefinition, AlmKeys, ProjectAlmBindingResponse } from '../../types/alm-settings';\nimport AzurePipelinesTutorial from './azure-pipelines/AzurePipelinesTutorial';\nimport GitLabCITutorial from './gitlabci/GitLabCITutorial';\nimport JenkinsTutorial from './jenkins/JenkinsTutorial';\nimport ManualTutorial from './manual/ManualTutorial';\nimport { TutorialModes } from './types';\n\nexport interface TutorialSelectionRendererProps {\n  almBinding?: AlmBindingDefinition;\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n  loading: boolean;\n  onSelectTutorial: (mode: TutorialModes) => void;\n  projectBinding?: ProjectAlmBindingResponse;\n  selectedTutorial?: TutorialModes;\n}\n\nexport default function TutorialSelectionRenderer(props: TutorialSelectionRendererProps) {\n  const { almBinding, component, currentUser, loading, projectBinding, selectedTutorial } = props;\n\n  if (loading) {\n    return <i className=\"spinner\" />;\n  }\n\n  const jenkinsAvailable =\n    projectBinding && [AlmKeys.BitbucketServer, AlmKeys.GitHub].includes(projectBinding.alm);\n\n  return (\n    <>\n      {selectedTutorial === undefined && (\n        <div className=\"tutorial-selection\">\n          <header className=\"spacer-top spacer-bottom padded\">\n            <h1 className=\"text-center big-spacer-bottom\">\n              {translate('onboarding.tutorial.choose_method')}\n            </h1>\n          </header>\n\n          <div className=\"display-flex-justify-center\">\n            {projectBinding?.alm === AlmKeys.GitLab && (\n              <button\n                className=\"button button-huge display-flex-column spacer-left spacer-right tutorial-mode-gitlab\"\n                onClick={() => props.onSelectTutorial(TutorialModes.GitLabCI)}\n                type=\"button\">\n                <img\n                  alt=\"\" // Should be ignored by screen readers\n                  height={80}\n                  src={`${getBaseUrl()}/images/alm/gitlab.svg`}\n                />\n                <div className=\"medium big-spacer-top\">\n                  {translate('onboarding.tutorial.choose_method.gitlab_ci')}\n                </div>\n              </button>\n            )}\n\n            {projectBinding?.alm === AlmKeys.Azure && (\n              <button\n                className=\"button button-huge display-flex-column spacer-left spacer-right azure-pipelines\"\n                onClick={() => props.onSelectTutorial(TutorialModes.AzurePipelines)}\n                type=\"button\">\n                <img\n                  alt=\"\" // Should be ignored by screen readers\n                  height={80}\n                  src={`${getBaseUrl()}/images/alm/azure.svg`}\n                />\n                <div className=\"medium big-spacer-top\">\n                  {translate('onboarding.tutorial.choose_method.azure_pipelines')}\n                </div>\n              </button>\n            )}\n\n            {jenkinsAvailable && (\n              <button\n                className=\"button button-huge display-flex-column spacer-left spacer-right tutorial-mode-jenkins\"\n                onClick={() => props.onSelectTutorial(TutorialModes.Jenkins)}\n                type=\"button\">\n                <img\n                  alt=\"\" // Should be ignored by screen readers\n                  height={80}\n                  src={`${getBaseUrl()}/images/tutorials/jenkins.svg`}\n                />\n                <div className=\"medium big-spacer-top\">\n                  {translate('onboarding.tutorial.choose_method.jenkins')}\n                </div>\n              </button>\n            )}\n\n            <button\n              className=\"button button-huge display-flex-column spacer-left spacer-right tutorial-mode-manual\"\n              onClick={() => props.onSelectTutorial(TutorialModes.Manual)}\n              type=\"button\">\n              <img\n                alt=\"\" // Should be ignored by screen readers\n                height={80}\n                src={`${getBaseUrl()}/images/sonarcloud/analysis/manual.svg`}\n              />\n              <div className=\"medium big-spacer-top\">\n                {translate('onboarding.tutorial.choose_method.manual')}\n              </div>\n            </button>\n          </div>\n        </div>\n      )}\n\n      {selectedTutorial === TutorialModes.Manual && (\n        <ManualTutorial component={component} currentUser={currentUser} />\n      )}\n\n      {selectedTutorial === TutorialModes.Jenkins && projectBinding !== undefined && (\n        <JenkinsTutorial\n          almBinding={almBinding}\n          component={component}\n          projectBinding={projectBinding}\n        />\n      )}\n\n      {selectedTutorial === TutorialModes.GitLabCI && projectBinding !== undefined && (\n        <GitLabCITutorial\n          component={component}\n          currentUser={currentUser}\n          projectBinding={projectBinding}\n        />\n      )}\n\n      {selectedTutorial === TutorialModes.AzurePipelines && projectBinding !== undefined && (\n        <AzurePipelinesTutorial\n          component={component}\n          currentUser={currentUser}\n          projectBinding={projectBinding}\n        />\n      )}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { WithRouterProps } from 'react-router';\nimport { getAlmDefinitionsNoCatch, getProjectAlmBinding } from '../../api/alm-settings';\nimport { AlmBindingDefinition, ProjectAlmBindingResponse } from '../../types/alm-settings';\nimport { withRouter } from '../hoc/withRouter';\nimport TutorialSelectionRenderer from './TutorialSelectionRenderer';\nimport { TutorialModes } from './types';\n\ninterface Props extends Pick<WithRouterProps, 'router' | 'location'> {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n}\n\ninterface State {\n  almBinding?: AlmBindingDefinition;\n  forceManual: boolean;\n  loading: boolean;\n  projectBinding?: ProjectAlmBindingResponse;\n}\n\nexport class TutorialSelection extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    forceManual: true,\n    loading: true\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchAlmBindings();\n  }\n\n  fetchAlmBindings = async () => {\n    const { component } = this.props;\n\n    const [almDefinitions, projectBinding] = await Promise.all([\n      getAlmDefinitionsNoCatch().catch(() => undefined),\n      getProjectAlmBinding(component.key).catch(() => undefined)\n    ]);\n\n    if (this.mounted) {\n      if (projectBinding === undefined) {\n        this.setState({ loading: false, forceManual: true });\n      } else {\n        let almBinding;\n        if (almDefinitions !== undefined) {\n          const specificDefinitions = almDefinitions[projectBinding.alm] as AlmBindingDefinition[];\n          almBinding = specificDefinitions.find(d => d.key === projectBinding.key);\n        }\n        this.setState({ almBinding, forceManual: false, projectBinding, loading: false });\n      }\n    }\n  };\n\n  handleSelectTutorial = (selectedTutorial: TutorialModes) => {\n    const {\n      router,\n      location: { pathname, query }\n    } = this.props;\n\n    router.push({\n      pathname,\n      query: { ...query, selectedTutorial }\n    });\n  };\n\n  render() {\n    const { component, currentUser, location } = this.props;\n    const { almBinding, forceManual, loading, projectBinding } = this.state;\n\n    const selectedTutorial: TutorialModes | undefined = forceManual\n      ? TutorialModes.Manual\n      : location.query?.selectedTutorial;\n\n    return (\n      <TutorialSelectionRenderer\n        almBinding={almBinding}\n        component={component}\n        currentUser={currentUser}\n        loading={loading}\n        onSelectTutorial={this.handleSelectTutorial}\n        projectBinding={projectBinding}\n        selectedTutorial={selectedTutorial}\n      />\n    );\n  }\n}\n\nexport default withRouter(TutorialSelection);\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Step.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".onboarding-step{position:relative;padding-left:34px;margin-bottom:8px}.onboarding-step.no-step-number{padding-left:0}.onboarding-step:not(.is-open):not(.is-finished){opacity:.4}.onboarding-step .boxed-group-actions{height:24px;line-height:24px}.onboarding-step hr{margin-left:-54px}.onboarding-step-number{position:absolute;top:15px;left:15px;width:24px;height:24px;line-height:24px;border-radius:24px;background-color:#b9b9b9;color:#fff;font-size:14px;text-align:center}.onboarding-step.is-open .onboarding-step-number{background-color:#236a97}.onboarding-step.is-finished{cursor:pointer;outline:none}.onboarding-step ol.list-styled{list-style:none;padding-left:0;counter-reset:step-counter}.onboarding-step .markdown{line-height:inherit}.onboarding-step ul.list-styled li{margin-top:8px;margin-bottom:8px}.onboarding-step ol.list-styled>li{position:relative;counter-increment:li;margin-bottom:16px}.onboarding-step ol.list-styled>li:before{display:inline-block;width:16px;height:16px;margin-right:8px;color:#fff;font-size:12px;line-height:16px;direction:rtl;text-align:center;background-color:#4b9fd5;border-radius:50%;content:counter(li)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Modal_1 = require(\"./Modal\");\nvar SimpleModal = (function (_super) {\n    __extends(SimpleModal, _super);\n    function SimpleModal() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = false;\n        _this.state = { submitting: false };\n        _this.stopSubmitting = function () {\n            if (_this.mounted) {\n                _this.setState({ submitting: false });\n            }\n        };\n        _this.handleCloseClick = function (event) {\n            if (event) {\n                event.preventDefault();\n                event.currentTarget.blur();\n            }\n            _this.props.onClose();\n        };\n        _this.handleFormSubmit = function (event) {\n            event.preventDefault();\n            _this.submit();\n        };\n        _this.handleSubmitClick = function (event) {\n            if (event) {\n                event.preventDefault();\n                event.currentTarget.blur();\n            }\n            _this.submit();\n        };\n        _this.submit = function () {\n            var result = _this.props.onSubmit();\n            if (result) {\n                _this.setState({ submitting: true });\n                result.then(_this.stopSubmitting, _this.stopSubmitting);\n            }\n        };\n        return _this;\n    }\n    SimpleModal.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    SimpleModal.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    SimpleModal.prototype.render = function () {\n        var _a = this.props, children = _a.children, header = _a.header, onClose = _a.onClose, onSubmit = _a.onSubmit, modalProps = __rest(_a, [\"children\", \"header\", \"onClose\", \"onSubmit\"]);\n        return (React.createElement(Modal_1.default, __assign({ contentLabel: header, onRequestClose: onClose }, modalProps), children({\n            onCloseClick: this.handleCloseClick,\n            onFormSubmit: this.handleFormSubmit,\n            onSubmitClick: this.handleSubmitClick,\n            submitting: this.state.submitting,\n        })));\n    };\n    return SimpleModal;\n}(React.Component));\nexports.default = SimpleModal;\n//# sourceMappingURL=SimpleModal.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nrequire(\"./RadioToggle.css\");\nvar Tooltip_1 = require(\"./Tooltip\");\nvar RadioToggle = (function (_super) {\n    __extends(RadioToggle, _super);\n    function RadioToggle() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderOption = function (option) {\n            var checked = option.value === _this.props.value;\n            var htmlId = _this.props.name + '__' + option.value;\n            return (React.createElement(\"li\", { key: option.value.toString() },\n                React.createElement(\"input\", { checked: checked, disabled: option.disabled, id: htmlId, name: _this.props.name, onChange: function () { return _this.props.onCheck(option.value); }, type: \"radio\" }),\n                React.createElement(Tooltip_1.default, { overlay: option.tooltip || undefined },\n                    React.createElement(\"label\", { htmlFor: htmlId }, option.label))));\n        };\n        return _this;\n    }\n    RadioToggle.prototype.render = function () {\n        return (React.createElement(\"ul\", { className: classNames('radio-toggle', this.props.className) }, this.props.options.map(this.renderOption)));\n    };\n    RadioToggle.defaultProps = {\n        disabled: false,\n        value: null,\n    };\n    return RadioToggle;\n}(React.PureComponent));\nexports.default = RadioToggle;\n//# sourceMappingURL=RadioToggle.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nrequire(\"./Radio.css\");\nvar Radio = (function (_super) {\n    __extends(Radio, _super);\n    function Radio() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            if (!_this.props.disabled) {\n                _this.props.onCheck(_this.props.value);\n            }\n        };\n        return _this;\n    }\n    Radio.prototype.render = function () {\n        var _a = this.props, className = _a.className, checked = _a.checked, children = _a.children, disabled = _a.disabled;\n        return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames('display-inline-flex-center link-radio', className, { disabled: disabled }), href: \"#\", onClick: this.handleClick, role: \"radio\" },\n            React.createElement(\"i\", { className: classNames('icon-radio', 'spacer-right', { 'is-checked': checked }) }),\n            children));\n    };\n    return Radio;\n}(React.PureComponent));\nexports.default = Radio;\n//# sourceMappingURL=Radio.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Radio.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./RadioToggle.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".radio-toggle{font-size:0;white-space:nowrap}.radio-toggle,.radio-toggle>li{display:inline-block;vertical-align:middle}.radio-toggle>li{font-size:12px}.radio-toggle>li:first-child>label{border-top-left-radius:2px;border-bottom-left-radius:2px}.radio-toggle>li:last-child>label{border-top-right-radius:2px;border-bottom-right-radius:2px}.radio-toggle>li+li>label{border-left:none}.radio-toggle>li>label{display:inline-block;padding:0 12px;margin:0;border:1px solid #236a97;color:#236a97;height:22px;line-height:22px;cursor:pointer;font-weight:600}.radio-toggle input[type=radio]{display:none}.radio-toggle input[type=radio]:checked+label{background-color:#236a97;color:#fff}.radio-toggle input[type=radio]:disabled+label{color:#bbb;border-color:#ddd;background:#ebebeb;cursor:not-allowed}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".icon-radio{position:relative;display:inline-block;vertical-align:top;width:14px;height:14px;margin:1px;border:1px solid #cdcdcd;border-radius:12px;box-sizing:border-box;transition:border-color .3s ease;flex-shrink:0}.icon-radio:after{position:absolute;top:2px;left:2px;display:block;width:8px;height:8px;border-radius:8px;background-color:#236a97;content:\\\"\\\";opacity:0;transition:opacity .3s ease}.link-radio .icon-radio.is-checked:after{opacity:1}.link-radio{border-bottom:none}.link-radio,.link-radio:not(.disabled):active,.link-radio:not(.disabled):focus,.link-radio:not(.disabled):hover{color:inherit}.link-radio:not(.disabled):hover>.icon-radio{border-color:#4b9fd5}.link-radio.disabled,.link-radio.disabled:hover,.link-radio.disabled label{color:#bbb;cursor:not-allowed}.link-radio.disabled .icon-radio:after{background-color:#ebebeb}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { ClipboardButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport './CodeSnippet.css';\n\nexport interface CodeSnippetProps {\n  isOneLine?: boolean;\n  noCopy?: boolean;\n  snippet: string | (string | undefined)[];\n}\n\nexport default function CodeSnippet(props: CodeSnippetProps) {\n  const { isOneLine, noCopy, snippet } = props;\n  const snippetRef = React.useRef<HTMLPreElement>(null);\n\n  let finalSnippet: string;\n  if (Array.isArray(snippet)) {\n    finalSnippet = snippet.filter(line => isDefined(line)).join(isOneLine ? ' ' : ' \\\\\\n  ');\n  } else {\n    finalSnippet = snippet;\n  }\n\n  return (\n    <div className={classNames('code-snippet spacer-top spacer-bottom display-flex-row', {})}>\n      <pre className=\"flex-1\" ref={snippetRef}>\n        {finalSnippet}\n      </pre>\n      {!noCopy && <ClipboardButton copyValue={finalSnippet} />}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { get, getJSON, HttpStatus, parseError, post } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport {\n  AlmSettingsBindingDefinitions,\n  AlmSettingsInstance,\n  AzureBindingDefinition,\n  AzureProjectAlmBindingParams,\n  BitbucketBindingDefinition,\n  BitbucketCloudBindingDefinition,\n  BitbucketCloudProjectAlmBindingParams,\n  BitbucketProjectAlmBindingParams,\n  GithubBindingDefinition,\n  GithubProjectAlmBindingParams,\n  GitlabBindingDefinition,\n  GitlabProjectAlmBindingParams,\n  ProjectAlmBindingResponse\n} from '../types/alm-settings';\n\nexport function getAlmDefinitions(): Promise<AlmSettingsBindingDefinitions> {\n  return getAlmDefinitionsNoCatch().catch(throwGlobalError);\n}\n\nexport function getAlmDefinitionsNoCatch(): Promise<AlmSettingsBindingDefinitions> {\n  return getJSON('/api/alm_settings/list_definitions');\n}\n\nexport function getAlmSettings(project?: string): Promise<AlmSettingsInstance[]> {\n  return getJSON('/api/alm_settings/list', { project })\n    .then(({ almSettings }) => almSettings)\n    .catch(throwGlobalError);\n}\n\nexport function validateAlmSettings(key: string): Promise<string> {\n  return get('/api/alm_settings/validate', { key })\n    .then(() => {\n      return '';\n    })\n    .catch((response: Response) => {\n      if (response.status === HttpStatus.BadRequest) {\n        return parseError(response);\n      } else {\n        return throwGlobalError(response);\n      }\n    });\n}\n\nexport function createGithubConfiguration(data: GithubBindingDefinition) {\n  return post('/api/alm_settings/create_github', data).catch(throwGlobalError);\n}\n\nexport function updateGithubConfiguration(data: GithubBindingDefinition & { newKey: string }) {\n  return post('/api/alm_settings/update_github', data).catch(throwGlobalError);\n}\n\nexport function createAzureConfiguration(data: AzureBindingDefinition) {\n  return post('/api/alm_settings/create_azure', data).catch(throwGlobalError);\n}\n\nexport function updateAzureConfiguration(data: AzureBindingDefinition & { newKey: string }) {\n  return post('/api/alm_settings/update_azure', data).catch(throwGlobalError);\n}\n\nexport function createBitbucketConfiguration(data: BitbucketBindingDefinition) {\n  return post('/api/alm_settings/create_bitbucket', data).catch(throwGlobalError);\n}\n\nexport function updateBitbucketConfiguration(\n  data: BitbucketBindingDefinition & { newKey: string }\n) {\n  return post('/api/alm_settings/update_bitbucket', data).catch(throwGlobalError);\n}\n\nexport function createBitbucketCloudConfiguration(data: BitbucketCloudBindingDefinition) {\n  return post('/api/alm_settings/create_bitbucketcloud', data).catch(throwGlobalError);\n}\n\nexport function updateBitbucketCloudConfiguration(\n  data: BitbucketCloudBindingDefinition & { newKey: string }\n) {\n  return post('/api/alm_settings/update_bitbucketcloud', data).catch(throwGlobalError);\n}\n\nexport function createGitlabConfiguration(data: GitlabBindingDefinition) {\n  return post('/api/alm_settings/create_gitlab', data).catch(throwGlobalError);\n}\n\nexport function updateGitlabConfiguration(data: GitlabBindingDefinition & { newKey: string }) {\n  return post('/api/alm_settings/update_gitlab', data).catch(throwGlobalError);\n}\n\nexport function deleteConfiguration(key: string) {\n  return post('/api/alm_settings/delete', { key }).catch(throwGlobalError);\n}\n\nexport function countBindedProjects(almSetting: string) {\n  return getJSON('/api/alm_settings/count_binding', { almSetting })\n    .then(({ projects }) => projects)\n    .catch(throwGlobalError);\n}\n\nexport function getProjectAlmBinding(project: string): Promise<ProjectAlmBindingResponse> {\n  return getJSON('/api/alm_settings/get_binding', { project });\n}\n\nexport function deleteProjectAlmBinding(project: string): Promise<void> {\n  return post('/api/alm_settings/delete_binding', { project }).catch(throwGlobalError);\n}\n\nexport function setProjectAzureBinding(data: AzureProjectAlmBindingParams) {\n  return post('/api/alm_settings/set_azure_binding', data).catch(throwGlobalError);\n}\n\nexport function setProjectBitbucketBinding(data: BitbucketProjectAlmBindingParams) {\n  return post('/api/alm_settings/set_bitbucket_binding', data).catch(throwGlobalError);\n}\n\nexport function setProjectBitbucketCloudBinding(data: BitbucketCloudProjectAlmBindingParams) {\n  return post('/api/alm_settings/set_bitbucketcloud_binding', data).catch(throwGlobalError);\n}\n\nexport function setProjectGithubBinding(data: GithubProjectAlmBindingParams) {\n  return post('/api/alm_settings/set_github_binding', data).catch(throwGlobalError);\n}\n\nexport function setProjectGitlabBinding(data: GitlabProjectAlmBindingParams) {\n  return post('/api/alm_settings/set_gitlab_binding', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\n/** List tokens for given user login */\nexport function getTokens(login: string): Promise<T.UserToken[]> {\n  return getJSON('/api/user_tokens/search', { login }).then(r => r.userTokens, throwGlobalError);\n}\n\nexport function generateToken(data: { name: string; login?: string }): Promise<T.NewUserToken> {\n  return postJSON('/api/user_tokens/generate', data).catch(throwGlobalError);\n}\n\nexport function revokeToken(data: { name: string; login?: string }) {\n  return post('/api/user_tokens/revoke', data).catch(throwGlobalError);\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./CodeSnippet.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".code-snippet{background:#e6e6e6;border-radius:3px}.code-snippet pre{padding:8px 16px;border-right:1px solid hsla(0,0%,78.4%,.5);overflow-y:hidden;overflow-x:auto}.code-snippet>button{height:auto;border:0;border-radius:0;background:transparent;padding:8px}.code-snippet>button:active,.code-snippet>button:focus,.code-snippet>button:hover{background-color:hsla(0,0%,78.4%,.5);color:#236a97}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}