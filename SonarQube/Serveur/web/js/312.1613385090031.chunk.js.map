{"version":3,"sources":["webpack:///./src/main/js/apps/quality-gates/components/BuiltInQualityGateBadge.tsx","webpack:///./src/main/js/apps/projectQualityGate/ProjectQualityGateAppRenderer.tsx","webpack:///./src/main/js/apps/projectQualityGate/constants.ts","webpack:///./src/main/js/apps/projectQualityGate/ProjectQualityGateApp.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/HelpTooltip.js","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/HelpTooltip.css?2512","webpack:///./node_modules/sonar-ui-common/components/controls/HelpTooltip.css","webpack:///./src/main/js/app/components/a11y/A11ySkipTarget.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.js","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css?01af","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css","webpack:///./src/main/js/app/utils/addGlobalSuccessMessage.ts","webpack:///./src/main/js/app/utils/handleRequiredAuthorization.ts"],"names":["BuiltInQualityGateBadge","className","overlay","ProjectQualityGateAppRenderer","props","allQualityGates","currentQualityGate","loading","selectedQualityGateId","submitting","defaultQualityGate","find","g","undefined","usesDefault","needsReanalysis","id","options","map","label","name","value","Suggestions","suggestions","defer","title","A11ySkipTarget","anchor","onSubmit","e","preventDefault","checked","disabled","onCheck","onSelect","isBuiltIn","clearable","onChange","optionRenderer","option","Alert","variant","mounted","state","checkPermissions","configuration","component","showQualityGates","isUsingDefault","qualityGate","this","isDefault","gateName","query","key","then","results","Boolean","r","selected","catch","fetchQualityGates","setState","Promise","all","project","usingDefault","handleSelect","handleSubmit","gateId","projectKey","addGlobalSuccessMessage","newGate","gate","onComponentChange","componentDidMount","handleRequiredAuthorization","componentWillUnmount","render","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","defineProperty","exports","classNames","React","HelpIcon_1","theme_1","Tooltip_1","HelpTooltip","_a","_b","size","createElement","default","mouseLeaveDelay","onShow","placement","children","ThemeConsumer","theme","fill","colors","gray71","DarkHelpTooltip","transparentBlack","fillInner","white","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","componentDidUpdate","prevProps","api","content","__esModule","module","exported","locals","___CSS_LOADER_API_IMPORT___","push","addA11ySkipLink","removeA11ySkipLink","A11ySkipTargetInner","getLink","weight","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","__","constructor","create","Radio","_super","_this","handleClick","event","href","onClick","role","PureComponent","message","dispatch","store","history","returnTo","window","location","pathname","search","hash","replace","return_to"],"mappings":"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","file":"js/312.1613385090031.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n}\n\nexport default function BuiltInQualityGateBadge({ className }: Props) {\n  return (\n    <Tooltip overlay={translate('quality_gates.built_in.help')}>\n      <div className={classNames('badge', className)}>{translate('quality_gates.built_in')}</div>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport Radio from 'sonar-ui-common/components/controls/Radio';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport A11ySkipTarget from '../../app/components/a11y/A11ySkipTarget';\nimport Suggestions from '../../app/components/embed-docs-modal/Suggestions';\nimport BuiltInQualityGateBadge from '../quality-gates/components/BuiltInQualityGateBadge';\nimport { USE_SYSTEM_DEFAULT } from './constants';\n\nexport interface ProjectQualityGateAppRendererProps {\n  allQualityGates?: T.QualityGate[];\n  currentQualityGate?: T.QualityGate;\n  loading: boolean;\n  onSelect: (id: string) => void;\n  onSubmit: () => void;\n  selectedQualityGateId: string;\n  submitting: boolean;\n}\n\nexport default function ProjectQualityGateAppRenderer(props: ProjectQualityGateAppRendererProps) {\n  const { allQualityGates, currentQualityGate, loading, selectedQualityGateId, submitting } = props;\n  const defaultQualityGate = allQualityGates?.find(g => g.isDefault);\n\n  if (loading) {\n    return <i className=\"spinner\" />;\n  }\n\n  if (\n    allQualityGates === undefined ||\n    defaultQualityGate === undefined ||\n    currentQualityGate === undefined\n  ) {\n    return null;\n  }\n\n  const usesDefault = selectedQualityGateId === USE_SYSTEM_DEFAULT;\n  const needsReanalysis = usesDefault\n    ? // currentQualityGate.isDefault is not always up to date. We need to check\n      // against defaultQualityGate explicitly.\n      defaultQualityGate.id !== currentQualityGate.id\n    : selectedQualityGateId !== currentQualityGate.id;\n\n  const options = allQualityGates.map(g => ({\n    label: g.name,\n    value: g.id\n  }));\n\n  return (\n    <div className=\"page page-limited\" id=\"project-quality-gate\">\n      <Suggestions suggestions=\"project_quality_gate\" />\n      <Helmet defer={false} title={translate('project_quality_gate.page')} />\n      <A11ySkipTarget anchor=\"qg_main\" />\n\n      <header className=\"page-header\">\n        <div className=\"page-title display-flex-center\">\n          <h1>{translate('project_quality_gate.page')}</h1>\n          <HelpTooltip\n            className=\"spacer-left\"\n            overlay={\n              <div className=\"big-padded-top big-padded-bottom\">\n                {translate('quality_gates.projects.help')}\n              </div>\n            }\n          />\n        </div>\n      </header>\n\n      <div className=\"boxed-group\">\n        <h2 className=\"boxed-group-header\">{translate('project_quality_gate.subtitle')}</h2>\n\n        <form\n          className=\"boxed-group-inner\"\n          onSubmit={e => {\n            e.preventDefault();\n            props.onSubmit();\n          }}>\n          <p className=\"big-spacer-bottom\">{translate('project_quality_gate.page.description')}</p>\n\n          <div className=\"big-spacer-bottom\">\n            <Radio\n              className=\"display-flex-start\"\n              checked={usesDefault}\n              disabled={submitting}\n              onCheck={() => props.onSelect(USE_SYSTEM_DEFAULT)}\n              value={USE_SYSTEM_DEFAULT}>\n              <div className=\"spacer-left\">\n                <div className=\"little-spacer-bottom\">\n                  {translate('project_quality_gate.always_use_default')}\n                </div>\n                <div className=\"display-flex-center\">\n                  <span className=\"text-muted little-spacer-right\">\n                    {translate('current_noun')}:\n                  </span>\n                  {defaultQualityGate.name}\n                  {defaultQualityGate.isBuiltIn && (\n                    <BuiltInQualityGateBadge className=\"spacer-left\" />\n                  )}\n                </div>\n              </div>\n            </Radio>\n          </div>\n\n          <div className=\"big-spacer-bottom\">\n            <Radio\n              className=\"display-flex-start\"\n              checked={!usesDefault}\n              disabled={submitting}\n              onCheck={value => props.onSelect(value)}\n              value={!usesDefault ? selectedQualityGateId : currentQualityGate.id}>\n              <div className=\"spacer-left\">\n                <div className=\"little-spacer-bottom\">\n                  {translate('project_quality_gate.always_use_specific')}\n                </div>\n                <div className=\"display-flex-center\">\n                  <Select\n                    className=\"abs-width-300\"\n                    clearable={false}\n                    disabled={submitting || usesDefault}\n                    onChange={({ value }: { value: string }) => props.onSelect(value)}\n                    options={options}\n                    optionRenderer={option => <span>{option.label}</span>}\n                    value={selectedQualityGateId}\n                  />\n                </div>\n              </div>\n            </Radio>\n\n            {needsReanalysis && (\n              <Alert className=\"big-spacer-top\" variant=\"warning\">\n                {translate('project_quality_gate.requires_new_analysis')}\n              </Alert>\n            )}\n          </div>\n\n          <div>\n            <SubmitButton disabled={submitting}>{translate('save')}</SubmitButton>\n            {submitting && <i className=\"spinner spacer-left\" />}\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport const USE_SYSTEM_DEFAULT = '-1';\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport {\n  associateGateWithProject,\n  dissociateGateWithProject,\n  fetchQualityGates,\n  getGateForProject,\n  searchProjects\n} from '../../api/quality-gates';\nimport addGlobalSuccessMessage from '../../app/utils/addGlobalSuccessMessage';\nimport handleRequiredAuthorization from '../../app/utils/handleRequiredAuthorization';\nimport { USE_SYSTEM_DEFAULT } from './constants';\nimport ProjectQualityGateAppRenderer from './ProjectQualityGateAppRenderer';\n\ninterface Props {\n  component: T.Component;\n  onComponentChange: (changes: {}) => void;\n}\n\ninterface State {\n  allQualityGates?: T.QualityGate[];\n  currentQualityGate?: T.QualityGate;\n  loading: boolean;\n  selectedQualityGateId: string;\n  submitting: boolean;\n}\n\nexport default class ProjectQualityGateApp extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    loading: true,\n    selectedQualityGateId: USE_SYSTEM_DEFAULT,\n    submitting: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    if (this.checkPermissions()) {\n      this.fetchQualityGates();\n    } else {\n      handleRequiredAuthorization();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  checkPermissions = () => {\n    const { configuration } = this.props.component;\n    const hasPermission = configuration && configuration.showQualityGates;\n    return !!hasPermission;\n  };\n\n  isUsingDefault = async (qualityGate: T.QualityGate) => {\n    const { component } = this.props;\n\n    if (!qualityGate.isDefault) {\n      return false;\n    }\n\n    // If this is the default Quality Gate, check if it was explicitly\n    // selected, or if we're inheriting the system default.\n    const selected = await searchProjects({\n      gateName: qualityGate.name,\n      query: component.key\n    })\n      .then(({ results }) => {\n        return Boolean(results.find(r => r.key === component.key)?.selected);\n      })\n      .catch(() => false);\n\n    // If it's NOT selected, it means we're following the system default.\n    return !selected;\n  };\n\n  fetchQualityGates = async () => {\n    const { component } = this.props;\n    this.setState({ loading: true });\n\n    const [allQualityGates, currentQualityGate] = await Promise.all([\n      fetchQualityGates().then(({ qualitygates }) => qualitygates),\n      getGateForProject({ project: component.key })\n    ]).catch(() => []);\n\n    if (allQualityGates && currentQualityGate) {\n      const usingDefault = await this.isUsingDefault(currentQualityGate);\n\n      if (this.mounted) {\n        this.setState({\n          allQualityGates,\n          currentQualityGate,\n          selectedQualityGateId: usingDefault ? USE_SYSTEM_DEFAULT : currentQualityGate.id,\n          loading: false\n        });\n      }\n    } else if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  handleSelect = (selectedQualityGateId: string) => {\n    this.setState({ selectedQualityGateId });\n  };\n\n  handleSubmit = async () => {\n    const { component } = this.props;\n    const { allQualityGates, currentQualityGate, selectedQualityGateId } = this.state;\n\n    if (allQualityGates === undefined || currentQualityGate === undefined) {\n      return;\n    }\n\n    this.setState({ submitting: true });\n\n    if (selectedQualityGateId === USE_SYSTEM_DEFAULT) {\n      await dissociateGateWithProject({\n        gateId: currentQualityGate.id,\n        projectKey: component.key\n      }).catch(() => {\n        /* noop */\n      });\n    } else {\n      await associateGateWithProject({\n        gateId: selectedQualityGateId,\n        projectKey: component.key\n      }).catch(() => {\n        /* noop */\n      });\n    }\n\n    if (this.mounted) {\n      addGlobalSuccessMessage(translate('project_quality_gate.successfully_updated'));\n\n      const newGate =\n        selectedQualityGateId === USE_SYSTEM_DEFAULT\n          ? allQualityGates.find(gate => gate.isDefault)\n          : allQualityGates.find(gate => gate.id === selectedQualityGateId);\n\n      if (newGate) {\n        this.setState({ currentQualityGate: newGate, submitting: false });\n        this.props.onComponentChange({ qualityGate: newGate });\n      }\n    }\n  };\n\n  render() {\n    if (!this.checkPermissions()) {\n      return null;\n    }\n\n    const {\n      allQualityGates,\n      currentQualityGate,\n      loading,\n      selectedQualityGateId,\n      submitting\n    } = this.state;\n\n    return (\n      <ProjectQualityGateAppRenderer\n        allQualityGates={allQualityGates}\n        currentQualityGate={currentQualityGate}\n        loading={loading}\n        onSubmit={this.handleSubmit}\n        onSelect={this.handleSelect}\n        selectedQualityGateId={selectedQualityGateId}\n        submitting={submitting}\n      />\n    );\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar HelpIcon_1 = require(\"../icons/HelpIcon\");\nvar theme_1 = require(\"../theme\");\nrequire(\"./HelpTooltip.css\");\nvar Tooltip_1 = require(\"./Tooltip\");\nfunction HelpTooltip(_a) {\n    var _b = _a.size, size = _b === void 0 ? 12 : _b, props = __rest(_a, [\"size\"]);\n    return (React.createElement(\"div\", { className: classNames('help-tooltip', props.className) },\n        React.createElement(Tooltip_1.default, { mouseLeaveDelay: 0.25, onShow: props.onShow, overlay: props.overlay, placement: props.placement },\n            React.createElement(\"span\", { className: \"display-inline-flex-center\" }, props.children || (React.createElement(theme_1.ThemeConsumer, null, function (theme) { return React.createElement(HelpIcon_1.default, { fill: theme.colors.gray71, size: size }); }))))));\n}\nexports.default = HelpTooltip;\nfunction DarkHelpTooltip(_a) {\n    var _b = _a.size, size = _b === void 0 ? 12 : _b, props = __rest(_a, [\"size\"]);\n    return (React.createElement(HelpTooltip, __assign({}, props),\n        React.createElement(theme_1.ThemeConsumer, null, function (_a) {\n            var colors = _a.colors;\n            return (React.createElement(HelpIcon_1.default, { fill: colors.transparentBlack, fillInner: colors.white, size: size }));\n        })));\n}\nexports.DarkHelpTooltip = DarkHelpTooltip;\n//# sourceMappingURL=HelpTooltip.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./HelpTooltip.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { A11yContext } from './A11yContext';\n\ninterface Props {\n  anchor: string;\n  label?: string;\n  weight?: number;\n}\n\nexport default function A11ySkipTarget(props: Props) {\n  return (\n    <A11yContext.Consumer>\n      {({ addA11ySkipLink, removeA11ySkipLink }) => (\n        <A11ySkipTargetInner\n          addA11ySkipLink={addA11ySkipLink}\n          removeA11ySkipLink={removeA11ySkipLink}\n          {...props}\n        />\n      )}\n    </A11yContext.Consumer>\n  );\n}\n\ninterface InnerProps {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n}\n\nexport class A11ySkipTargetInner extends React.PureComponent<Props & InnerProps> {\n  componentDidMount() {\n    this.props.addA11ySkipLink(this.getLink());\n  }\n\n  componentWillUnmount() {\n    this.props.removeA11ySkipLink(this.getLink());\n  }\n\n  getLink = (): T.A11ySkipLink => {\n    const { anchor: key, label = translate('skip_to_content'), weight } = this.props;\n    return { key, label, weight };\n  };\n\n  render() {\n    const { anchor } = this.props;\n    return <span id={`a11y_target__${anchor}`} />;\n  }\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nrequire(\"./Radio.css\");\nvar Radio = (function (_super) {\n    __extends(Radio, _super);\n    function Radio() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            if (!_this.props.disabled) {\n                _this.props.onCheck(_this.props.value);\n            }\n        };\n        return _this;\n    }\n    Radio.prototype.render = function () {\n        var _a = this.props, className = _a.className, checked = _a.checked, children = _a.children, disabled = _a.disabled;\n        return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames('display-inline-flex-center link-radio', className, { disabled: disabled }), href: \"#\", onClick: this.handleClick, role: \"radio\" },\n            React.createElement(\"i\", { className: classNames('icon-radio', 'spacer-right', { 'is-checked': checked }) }),\n            children));\n    };\n    return Radio;\n}(React.PureComponent));\nexports.default = Radio;\n//# sourceMappingURL=Radio.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Radio.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".icon-radio{position:relative;display:inline-block;vertical-align:top;width:14px;height:14px;margin:1px;border:1px solid #cdcdcd;border-radius:12px;box-sizing:border-box;transition:border-color .3s ease;flex-shrink:0}.icon-radio:after{position:absolute;top:2px;left:2px;display:block;width:8px;height:8px;border-radius:8px;background-color:#236a97;content:\\\"\\\";opacity:0;transition:opacity .3s ease}.link-radio .icon-radio.is-checked:after{opacity:1}.link-radio{border-bottom:none}.link-radio,.link-radio:not(.disabled):active,.link-radio:not(.disabled):focus,.link-radio:not(.disabled):hover{color:inherit}.link-radio:not(.disabled):hover>.icon-radio{border-color:#4b9fd5}.link-radio.disabled,.link-radio.disabled:hover,.link-radio.disabled label{color:#bbb;cursor:not-allowed}.link-radio.disabled .icon-radio:after{background-color:#ebebeb}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as globalMessages from '../../store/globalMessages';\nimport getStore from './getStore';\n\nexport default function addGlobalSuccessMessage(message: string): void {\n  const store = getStore();\n  store.dispatch(globalMessages.addGlobalSuccessMessage(message));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport getHistory from 'sonar-ui-common/helpers/getHistory';\nimport { requireAuthorization } from '../../store/appState';\nimport getStore from './getStore';\n\nexport default function handleRequiredAuthorization() {\n  const store = getStore();\n  const history = getHistory();\n\n  const returnTo = window.location.pathname + window.location.search + window.location.hash;\n\n  store.dispatch(requireAuthorization());\n  history.replace({ pathname: '/sessions/new', query: { return_to: returnTo } });\n}\n"],"sourceRoot":""}