(window.webpackJsonp=window.webpackJsonp||[]).push([[347],{1790:function(e,t,n){var r=n(313),a=n(1791);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var l={insert:"head",singleton:!1},s=(r(a,l),a.locals?a.locals:{});e.exports=s},1791:function(e,t,n){(t=n(314)(!1)).push([e.i,".placeholder-bar{display:inline-block;vertical-align:middle;height:8px;background-color:currentColor}",""]),e.exports=t},1864:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var r=n(2),a=n(316),l=n(327),s=n(31),o=n(342),c=n(6),i=n(325),m=n(428),d=n.n(m),u=n(362),h=n.n(u),p=n(9);const g="https://sonarsource.cdn.prismic.io/api/v2";n(1790);function b({color:e,width:t,height:n}){return r.createElement("span",{className:"placeholder-bar",style:{color:e,width:t,height:n}})}var E=n(326);class f extends r.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={loading:!1},this.fetchProductNews=()=>{const{accessToken:e,tag:t}=this.props;e&&(this.setState({loading:!0}),Object(p.getCorsJSON)(g).then(e=>{const t=e&&e.refs.find(e=>"master"===e.id);return t||Promise.reject("No master ref found")}).then(({ref:n})=>function(e){const t=['[[at(document.type, "blog_sonarsource_post")]]'];return e.tag&&t.push('[[at(document.tags,["'.concat(e.tag,'"])]]')),Object(p.getCorsJSON)(g+"/documents/search",{access_token:e.accessToken,orderings:"[document.first_publication_date desc]",pageSize:e.ps||1,q:t,ref:e.ref}).then(({results:e})=>e)}({accessToken:e,ref:n,tag:t})).then(e=>{this.mounted&&this.setState({news:e[0],loading:!1})},()=>{this.mounted&&this.setState({loading:!1})}))}}componentDidMount(){this.mounted=!0,this.fetchProductNews()}componentWillUnmount(){this.mounted=!1}renderPlaceholder(){return r.createElement("a",{className:"rich-item new-loading"},r.createElement("div",{className:"flex-1"},r.createElement("div",{className:"display-inline-flex-center"},r.createElement("h4",null,Object(s.translate)("embed_docs.latest_blog")),r.createElement("span",{className:"note spacer-left"},r.createElement(b,{color:"#aaa",width:60}))),r.createElement("p",{className:"little-spacer-bottom"},r.createElement(b,{color:"#aaa",width:84})," ",r.createElement(b,{color:"#aaa",width:48})," ",r.createElement(b,{color:"#aaa",width:24})," ",r.createElement(b,{color:"#aaa",width:72})," ",r.createElement(b,{color:"#aaa",width:24})," ",r.createElement(b,{color:"#aaa",width:48}))),r.createElement(d.a,{className:"flex-0"}))}render(){const{loading:e,news:t}=this.state;return e?this.renderPlaceholder():t?r.createElement("a",{className:"rich-item",href:"https://blog.sonarsource.com/"+t.uid,rel:"noopener noreferrer",target:"_blank"},r.createElement("div",{className:"flex-1"},r.createElement("div",{className:"display-inline-flex-center"},r.createElement("h4",null,Object(s.translate)("embed_docs.latest_blog")),r.createElement(h.a,{date:t.last_publication_date},e=>r.createElement("span",{className:"note spacer-left"},e))),r.createElement("p",{className:"little-spacer-bottom"},t.data.title)),r.createElement(d.a,{className:"flex-0"})):null}}var w=Object(i.b)(e=>{const t=Object(E.getGlobalSettingValue)(e,"sonar.prismic.accessToken");return{accessToken:t&&t.value}})(f),_=n(371);class k extends r.PureComponent{constructor(){super(...arguments),this.renderSuggestions=({suggestions:e})=>0===e.length?null:r.createElement(r.Fragment,null,this.renderTitle(Object(s.translate)("embed_docs.suggestion")),e.map((e,t)=>r.createElement("li",{key:t},r.createElement(a.c,{onClick:this.props.onClose,target:"_blank",to:e.link},e.text))),r.createElement("li",{className:"divider"}))}renderTitle(e){return r.createElement("li",{className:"menu-header"},e)}renderIconLink(e,t,n){return r.createElement("a",{href:e,rel:"noopener noreferrer",target:"_blank"},r.createElement("img",{alt:n,className:"spacer-right",height:"18",src:"".concat(Object(o.getBaseUrl)(),"/images/").concat(t),width:"18"}),n)}renderSonarCloudLinks(){return r.createElement(r.Fragment,null,r.createElement("li",{className:"divider"}),r.createElement("li",null,r.createElement("a",{href:"https://community.sonarsource.com/c/help/sc",rel:"noopener noreferrer",target:"_blank"},Object(s.translate)("embed_docs.get_help"))),r.createElement("li",{className:"divider"}),this.renderTitle(Object(s.translate)("embed_docs.stay_connected")),r.createElement("li",null,this.renderIconLink("https://twitter.com/sonarcloud","embed-doc/twitter-icon.svg","Twitter")),r.createElement("li",null,this.renderIconLink("https://blog.sonarsource.com/product/SonarCloud","sonarcloud-square-logo.svg",Object(s.translate)("embed_docs.blog"))),r.createElement("li",null,r.createElement(w,{tag:"SonarCloud"})))}renderSonarQubeLinks(){return r.createElement(r.Fragment,null,r.createElement("li",{className:"divider"}),r.createElement("li",null,r.createElement("a",{href:"https://community.sonarsource.com/",rel:"noopener noreferrer",target:"_blank"},Object(s.translate)("embed_docs.get_help"))),r.createElement("li",{className:"divider"}),this.renderTitle(Object(s.translate)("embed_docs.stay_connected")),r.createElement("li",null,this.renderIconLink("https://www.sonarqube.org/whats-new/?referrer=sonarqube","embed-doc/sq-icon.svg",Object(s.translate)("embed_docs.news"))),r.createElement("li",null,this.renderIconLink("https://twitter.com/SonarQube","embed-doc/twitter-icon.svg","Twitter")))}render(){return r.createElement(l.DropdownOverlay,null,r.createElement("ul",{className:"menu abs-width-240"},r.createElement(_.a.Consumer,null,this.renderSuggestions),r.createElement("li",null,r.createElement(a.c,{onClick:this.props.onClose,target:"_blank",to:"/documentation"},Object(s.translate)("embed_docs.documentation"))),r.createElement("li",null,r.createElement(a.c,{onClick:this.props.onClose,to:"/web_api"},Object(s.translate)("api_documentation.page"))),Object(c.isSonarCloud)()?this.renderSonarCloudLinks():this.renderSonarQubeLinks()))}}},362:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),l=n(319),s=n(26);t.formatterOption={year:"numeric",month:"short",day:"2-digit"},t.longFormatterOption={year:"numeric",month:"long",day:"numeric"},t.default=function(e){var n=e.children,o=e.date,c=e.long;return a.createElement(l.FormattedDate,r({value:s.parseDate(o)},c?t.longFormatterOption:t.formatterOption),n)}}}]);
//# sourceMappingURL=347.m.8917e1dc.chunk.js.map