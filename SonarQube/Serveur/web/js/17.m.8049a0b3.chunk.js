(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1824:function(e,t,s){"use strict";s.r(t),s.d(t,"AnalysisWarningsModal",(function(){return u}));var n=s(484),a=s(2),i=s(312),r=s(330),o=s.n(r),l=s(951),c=s.n(l),d=s(318),m=s.n(d),p=s(31),h=s(587),g=s(424);class u extends a.PureComponent{constructor(e){super(e),this.mounted=!1,this.handleDismissMessage=async e=>{const{componentKey:t}=this.props;if(void 0!==t){this.setState({dismissedWarning:e});try{await Object(h.c)(t,e),this.props.onWarningDismiss&&this.props.onWarningDismiss()}catch(e){}this.mounted&&this.setState({dismissedWarning:void 0})}},this.loadWarnings=async e=>{this.setState({loading:!0});try{const{warnings:t=[]}=await Object(h.h)(e,["warnings"]);this.mounted&&this.setState({loading:!1,warnings:t.map(e=>({key:e,message:e,dismissable:!1}))})}catch(e){this.mounted&&this.setState({loading:!1})}},this.state={loading:!e.warnings,warnings:e.warnings||[]}}componentDidMount(){this.mounted=!0,!this.props.warnings&&this.props.taskId&&this.loadWarnings(this.props.taskId)}componentDidUpdate(e){const{taskId:t,warnings:s}=this.props;!s&&t&&e.taskId!==t?this.loadWarnings(t):s&&e.warnings!==s&&this.setState({warnings:s})}componentWillUnmount(){this.mounted=!1}render(){const{currentUser:e}=this.props,{loading:t,dismissedWarning:s,warnings:r}=this.state,l=Object(p.translate)("warnings");return a.createElement(o.a,{contentLabel:l,onRequestClose:this.props.onClose},a.createElement("header",{className:"modal-head"},a.createElement("h2",null,l)),a.createElement("div",{className:"modal-body modal-container js-analysis-warnings"},a.createElement(m.a,{loading:t},r.map(({dismissable:t,key:r,message:o})=>a.createElement("div",{className:"panel panel-vertical",key:r},a.createElement(c.a,{className:"pull-left spacer-right"}),a.createElement("div",{className:"overflow-hidden markdown"},a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(n.sanitize)(o.trim().replace(/\n/g,"<br />"),{ALLOWED_ATTR:["target","href"]})}}),t&&e.isLoggedIn&&a.createElement("div",{className:"spacer-top display-flex-inline"},a.createElement(i.ButtonLink,{className:"link-base-color",disabled:Boolean(s),onClick:()=>{this.handleDismissMessage(r)}},Object(p.translate)("dismiss_permanently")),s===r&&a.createElement("i",{className:"spinner spacer-left"}))))))),a.createElement("footer",{className:"modal-foot"},a.createElement(i.ButtonLink,{className:"js-modal-close",onClick:this.props.onClose},Object(p.translate)("close"))))}}t.default=Object(g.a)(u)},951:function(e,t,s){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++)for(var a in t=arguments[s])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]])}return s};Object.defineProperty(t,"__esModule",{value:!0});var i=s(2),r=s(315);t.default=function(e){var t=e.fill,s=a(e,["fill"]);return i.createElement(r.ThemedIcon,n({},s),(function(e){var s=e.theme;return i.createElement("path",{d:"M9 12.242v-1.484c0-.14-.11-.258-.25-.258h-1.5c-.14 0-.25.117-.25.258v1.484c0 .14.11.258.25.258h1.5c.14 0 .25-.117.25-.258zM8.984 9.32l.141-3.586a.189.189 0 0 0-.078-.148C9 5.546 8.93 5.5 8.859 5.5H7.141c-.07 0-.141.047-.188.086-.055.039-.078.117-.078.164l.133 3.57c0 .102.117.18.265.18H8.72c.14 0 .258-.078.265-.18zm-.109-7.297l6 11A1 1 0 0 1 14 14.5H2a1 1 0 0 1-.875-1.477l6-11a.994.994 0 0 1 1.75 0z",style:{fill:t||s.colors.warningIconColor}})}))}}}]);
//# sourceMappingURL=17.m.8049a0b3.chunk.js.map