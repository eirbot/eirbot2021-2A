{"version":3,"sources":["webpack:///./src/main/js/components/issue/components/IssueChangelogDiff.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/ReloadButton.js","webpack:///./src/main/js/components/common/EmptySearch.css?d1ee","webpack:///./src/main/js/components/issue/actions.ts","webpack:///./src/main/js/components/common/SelectListItem.tsx","webpack:///./src/main/js/components/common/SelectList.tsx","webpack:///./src/main/js/components/issue/popups/SetAssigneePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueAssign.tsx","webpack:///./src/main/js/components/issue/popups/CommentPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentAction.tsx","webpack:///./src/main/js/components/issue/popups/SetSeverityPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueSeverity.tsx","webpack:///./src/main/js/components/issue/popups/SetIssueTagsPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTags.tsx","webpack:///./src/main/js/components/issue/popups/SetTransitionPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTransition.tsx","webpack:///./src/main/js/components/issue/popups/SetTypePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueType.tsx","webpack:///./src/main/js/components/issue/components/IssueActionsBar.tsx","webpack:///./src/main/js/components/issue/popups/CommentDeletePopup.tsx","webpack:///./src/main/js/types/rules.ts","webpack:///./src/main/js/components/issue/components/IssueCommentLine.tsx","webpack:///./src/main/js/components/issue/popups/ChangelogPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueChangelog.tsx","webpack:///./src/main/js/components/issue/components/IssueMessage.tsx","webpack:///./src/main/js/components/issue/popups/SimilarIssuesPopup.tsx","webpack:///./src/main/js/components/issue/components/SimilarIssuesFilter.tsx","webpack:///./src/main/js/components/issue/components/IssueTitleBar.tsx","webpack:///./src/main/js/components/issue/IssueView.tsx","webpack:///./src/main/js/components/issue/Issue.tsx","webpack:///./src/main/js/components/common/LocationIndex.css?e012","webpack:///./src/main/js/components/common/LocationIndex.css","webpack:///./src/main/js/components/common/LocationMessage.tsx","webpack:///./src/main/js/components/common/LocationMessage.css?8760","webpack:///./src/main/js/components/common/LocationMessage.css","webpack:///./src/main/js/components/issue/Issue.css?a142","webpack:///./src/main/js/components/issue/Issue.css","webpack:///./src/main/js/components/common/FiltersHeader.tsx","webpack:///./src/main/js/apps/issues/sidebar/StandardFacet.tsx","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css?3321","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css","webpack:///./src/main/js/components/common/PageCounter.tsx","webpack:///./src/main/js/components/shared/TypeHelper.tsx","webpack:///./node_modules/sonar-ui-common/components/charts/BarChart.css?3f5e","webpack:///./node_modules/sonar-ui-common/components/charts/BarChart.css","webpack:///./src/main/js/components/common/EmptySearch.tsx","webpack:///./src/main/js/components/common/EmptySearch.css","webpack:///./node_modules/lodash/max.js","webpack:///./node_modules/sonar-ui-common/components/controls/BackButton.js","webpack:///./node_modules/sonar-ui-common/components/charts/BarChart.js","webpack:///./src/main/js/apps/issues/styles.css?d1f0","webpack:///./src/main/js/apps/issues/styles.css","webpack:///./src/main/js/apps/issues/actions.ts","webpack:///./src/main/js/apps/issues/components/LocationNavigationKeyboardShortcuts.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationBadge.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocations.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationsNavigatorLocation.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/CrossFileLocationsNavigator.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationsNavigator.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueBox.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueComponent.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssue.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssuesList.tsx","webpack:///./src/main/js/apps/issues/components/IssuesCounter.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssuesListHeader.tsx","webpack:///./src/main/js/apps/issues/sidebar/AssigneeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/AuthorFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/CreationDateFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/DirectoryFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/FileFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/LanguageFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ProjectFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ResolutionFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/RuleFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ScopeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/SeverityFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/StatusFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/TagFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/TypeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/Sidebar.tsx","webpack:///./src/main/js/apps/issues/components/BulkChangeModal.tsx","webpack:///./src/main/js/apps/issues/components/ComponentBreadcrumbs.tsx","webpack:///./src/main/js/apps/issues/components/ListItem.tsx","webpack:///./src/main/js/apps/issues/components/IssuesList.tsx","webpack:///./src/main/js/apps/issues/crossComponentSourceViewer/CrossComponentSourceViewer.tsx","webpack:///./src/main/js/apps/issues/components/IssuesSourceViewer.tsx","webpack:///./src/main/js/apps/issues/components/MyIssuesFilter.tsx","webpack:///./src/main/js/apps/issues/components/NoIssues.tsx","webpack:///./src/main/js/apps/issues/components/NoMyIssues.tsx","webpack:///./src/main/js/apps/issues/components/TotalEffort.tsx","webpack:///./src/main/js/apps/issues/components/PageActions.tsx","webpack:///./src/main/js/apps/issues/components/App.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/QualifierIcon.js","webpack:///./node_modules/sonar-ui-common/components/controls/ListFooter.js","webpack:///./node_modules/lodash/toFinite.js","webpack:///./src/main/js/app/components/a11y/A11ySkipTarget.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.js","webpack:///./src/main/js/components/shared/SeverityHelper.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css?01af","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css","webpack:///./node_modules/sonar-ui-common/components/icons/ChevronDownIcon.js","webpack:///./node_modules/sonar-ui-common/helpers/pages.js","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/OpenCloseIcon.js","webpack:///./src/main/js/components/facet/FacetBox.tsx","webpack:///./src/main/js/components/tags/TagsList.css?d861","webpack:///./node_modules/lodash/pickBy.js","webpack:///./src/main/js/components/facet/FacetHeader.tsx","webpack:///./src/main/js/components/facet/FacetItem.tsx","webpack:///./src/main/js/components/facet/FacetItemsList.tsx","webpack:///./src/main/js/components/common/DocumentationTooltip.tsx","webpack:///./node_modules/lodash/range.js","webpack:///./node_modules/lodash/_createRange.js","webpack:///./node_modules/lodash/_baseRange.js","webpack:///./node_modules/sonar-ui-common/components/icons/ChevronLeftIcon.js","webpack:///./src/main/js/components/facet/ListStyleFacetFooter.tsx","webpack:///./src/main/js/components/facet/ListStyleFacet.tsx","webpack:///./src/main/js/components/common/MultiSelectOption.tsx","webpack:///./src/main/js/components/common/MultiSelect.tsx","webpack:///./src/main/js/components/tags/TagsList.tsx","webpack:///./src/main/js/components/common/FormattingTips.tsx","webpack:///./node_modules/sonar-ui-common/helpers/search.js","webpack:///./src/main/js/components/tags/TagsList.css","webpack:///./src/main/js/components/controls/DateInput.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/CalendarIcon.js","webpack:///./src/main/js/components/controls/DayPicker.css?d7e1","webpack:///./src/main/js/components/controls/DayPicker.css","webpack:///./src/main/js/components/controls/styles.css?5633","webpack:///./src/main/js/components/controls/styles.css","webpack:///./src/main/js/components/facet/MultipleSelectionHint.tsx","webpack:///./src/main/js/components/tags/TagsSelector.tsx","webpack:///./src/main/js/components/common/LocationIndex.tsx","webpack:///./src/main/js/components/shared/StatusHelper.tsx","webpack:///./src/main/js/components/search-navigator.css?9a2e","webpack:///./src/main/js/components/search-navigator.css","webpack:///./src/main/js/helpers/security-standard.ts","webpack:///./src/main/js/components/SourceViewer/SourceViewer.tsx","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./src/main/js/components/controls/HomePageSelect.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/HomeIcon.js","webpack:///./src/main/js/components/controls/DateRangeInput.tsx","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./node_modules/sonar-ui-common/components/controls/SearchSelect.js"],"names":["IssueChangelogDiff","message","diff","key","oldValue","newValue","includes","extendStatics","__extends","this","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","exports","value","classNames","React","l10n_1","theme_1","Tooltip_1","ReloadButton","_super","_this","apply","arguments","handleClick","event","preventDefault","currentTarget","blur","props","onClick","render","_a","tooltip","translate","createElement","default","overlay","className","href","ThemeConsumer","theme","height","viewBox","width","fill","colors","secondFontColor","PureComponent","api","content","__esModule","module","i","options","exported","locals","onChange","resultPromise","oldIssue","newIssue","optimisticUpdate","undefined","then","response","issue","components","users","rules","param","throwGlobalError","handleSelect","onSelect","item","handleHover","onHover","renderLink","children","active","onFocus","onMouseOver","title","placement","attachShortcuts","previousKeyScope","previousFilter","currentKeyScope","tagName","target","srcElement","isInput","keyCode","setState","selectNextElement","selectPreviousElement","state","detachShortcuts","idx","items","indexOf","length","renderChild","child","type","currentItem","componentDidMount","componentDidUpdate","prevProps","componentWillUnmount","hasChildren","count","map","searchUsers","query","q","ps","handleSearchResult","activeUsers","filter","currentUser","login","handleSearchChange","defaultUsersArray","name","Dropdown","noPadding","autoFocus","minLength","placeholder","user","Avatar","hash","avatar","size","style","marginLeft","withCurrentUser","toggleAssign","open","togglePopup","handleClose","renderAssignee","assigneeName","assignee","assigneeAvatar","assigneeActive","canAssign","closeOnEscape","onRequestClose","isOpen","onAssign","handleCommentChange","textComment","handleCommentClick","trim","onComment","handleCancelClick","toggleComment","handleKeyboard","metaKey","ctrlKey","stopPropagation","comment","markdown","autoTriggered","onKeyDown","rows","disabled","FormattingTips","addComment","text","issueKey","closeOnClickOutside","currentPopup","commentAutoTriggered","commentPlaceholder","SEVERITY","SetSeverityPopup","severity","toggleSetSeverity","setSeverity","setIssueProperty","canSetSeverity","SeverityHelper","mounted","searchResult","onSearch","Math","min","selectedTags","tags","tag","setTags","onUnselect","availableTags","BottomRight","TagsSelector","listSize","toggleSetTags","join","canSetTags","TagsList","allowUpdate","SetTransitionPopup","fromHotspot","transitions","isManualVulnerability","transition","translateTransition","description","setTransition","toggleSetTransition","hasTransitions","StatusHelper","resolution","status","TYPES","SetTypePopup","toggleSetType","setType","canSetType","baseFontColor","property","popup","apiCall","handleTransition","actions","canComment","isSecurityHotspot","effort","CommentDeletePopup","onDelete","RuleStatus","openPopup","handleEdit","onEdit","toggleEditPopup","handleDelete","toggleDeletePopup","popupName","force","prevState","closePopups","author","authorName","displayName","authorActive","authorAvatar","dangerouslySetInnerHTML","__html","htmlText","date","createdAt","updatable","changelog","loadChangelog","creationDate","userName","isUserActive","diffs","toggleChangelog","IssueMessage","engine","engineName","manualVulnerability","ruleKey","ruleStatus","ruleEngine","onOpenRule","Deprecated","Removed","DocumentationTooltip","links","label","onFilter","subProject","ruleName","qualifier","projectName","subProjectName","componentQualifier","componentLongName","handleFilter","IssueTitleBar","hasSimilarIssuesFilter","locationsCount","secondaryLocations","flows","reduce","sum","locations","locationsBadge","LocationIndex","displayLocations","displayLocationsCount","issueUrl","project","branchLike","issues","types","Consumer","externalRulesRepoNames","openRule","externalRuleEngine","rule","textRange","endLine","displayLocationsLink","to","handleCheck","onCheck","isClickable","editComment","deleteComment","hasCheckbox","issueClass","hotspot","selected","role","tabIndex","comments","checked","node","toUpperCase","parentElement","onPopupToggle","handleAssignement","bindShortcuts","componentWillUpdate","nextProps","unbindShortcuts","defaultProps","___CSS_LOADER_API_IMPORT___","push","LocationMessage","FiltersHeader","displayReset","onReset","id","standards","owaspTop10","sansTop25","cwe","sonarsourceSecurity","loadStandards","getValues","handleHeaderClick","onToggle","handleOwaspTop10HeaderClick","handleSansTop25HeaderClick","handleSonarSourceSecurityHeaderClick","handleClear","handleItemClick","prop","itemValue","multiple","handleOwaspTop10ItemClick","OWASP_TOP10","handleSansTop25ItemClick","SANS_TOP25","handleSonarSourceSecurityItemClick","SONARSOURCE","handleCWESearch","Promise","resolve","results","keys","toLowerCase","loadCWESearchResultCount","categories","loadSearchResultCount","renderList","statsProp","valuesProp","renderName","stats","values","renderFacetItemsList","renderTooltip","getStat","category","stat","renderHint","renderOwaspTop10List","renderOwaspTop10Hint","renderSansTop25List","renderSansTop25Hint","renderSonarSourceSecurityList","renderSonarSourceSecurityHint","renderSubFacets","fetching","fetchingSonarSourceSecurity","sonarsourceSecurityOpen","fetchingOwaspTop10","owaspTop10Open","fetchingSansTop25","sansTop25Open","facetHeader","fetchingCwe","getFacetItemText","getSearchResultKey","getSearchResultText","cweOpen","CWE","renderFacetItem","renderSearchResult","searchPlaceholder","cweStats","onClear","PageCounter","current","total","TypeHelper","EmptySearch","baseExtremum","baseGt","identity","array","BackButton","renderIcon","disableGrayText","d3_array_1","d3_scale_1","BarChart","point","onBarClick","renderXTicks","xScale","yScale","data","_b","xTicks","ticks","tick","index","x","round","bandwidth","y","range","dy","cursor","renderXValues","xValues","renderBars","bars","maxY","rect","barsWidth","padding","availableWidth","availableHeight","innerPadding","relativeInnerPadding","max","scaleBand","domain","paddingInner","scaleLinear","transform","enableLocationsNavigator","openIssue","selectedLocationIndex","locationsNavigator","selectedFlowIndex","disableLocationsNavigator","selectNextLocation","lastLocationIdx","selectPreviousLocation","selectNextFlow","selectPreviousFlow","LocationNavigationKeyboardShortcuts","hasSeveralFlows","ConciseIssueLocationBadge","mouseEnterDelay","collapsed","handleExpandClick","renderExpandButton","badges","forEach","flow","onFlowSelect","slice","LIMIT","scroll","ref","handleMoreLocationsClick","groupByFile","currentComponent","currentComponentName","groups","currentLocations","currentFirstLocationIndex","location","component","componentName","firstLocationIndex","renderLocation","onLocationSelect","renderGroup","group","groupIndex","onlyFirst","onlyLast","lastLocationIndex","msg","componentWillReceiveProps","nextLocations","firstGroup","lastGroup","every","locationComponents","handleScroll","rootElement","messageElement","window","innerHeight","clickAttributesMain","clickAttributesTitle","ConciseIssueComponent","path","previousIssue","displayComponent","element","bottomOffset","scrollableElement","document","querySelector","topOffset","parent","onIssueSelect","IssuesCounter","ConciseIssuesListHeader","displayBackButton","paging","selectedIndex","loading","onBackClick","onReload","handleSearch","page","assignees","assigned","getAssigneeName","referencedUsers","getSortedItems","result","ListStyleFacet","onItemClick","_page","authors","maxResults","term","hasValue","createdAfter","createdBefore","createdInLast","sinceLeakPeriod","resetTo","changes","handleBarClick","handlePeriodChange","from","handlePeriodClick","period","handleLeakPeriodClick","createdAfterIncludesTime","formatDate","intl","renderBarChart","periods","start","endDate","startDate","setDate","getDate","tooltipEndDate","Date","floor","maxValue","renderPeriodSelectors","DateRangeInput","renderPredefinedPeriods","FacetItem","renderInner","FacetBox","FacetHeader","directory","componentKey","dir","directories","renderDirectory","minSearchLength","file","files","renderFile","head","tail","getLanguageName","language","referencedLanguages","getAllPossibleOptions","pageIndex","pageSize","installedLanguages","languages","Portfolio","SubPortfolio","Application","qualifiers","Project","refKey","getProjectName","referencedComponents","projects","projectKey","RESOLUTIONS","resolutions","resolved","renderItem","isFacetItemActive","halfWidth","getFacetItemName","FacetItemsList","MultipleSelectionHint","f","s","include_external","getRuleName","referencedRules","formatRuleName","langName","ScopeFacet","scopes","scope","SEVERITIES","severities","STATUSES","statuses","getTagName","renderTag","gray60","t","renderComponentFacets","facets","loadingFacets","openFacets","commonProps","onFilterChange","onFacetToggle","Directory","displayProjectsFacet","displayAuthorFacet","StandardFacet","owaspTop10Stats","sansTop25Stats","sonarsourceSecurityStats","referencedComponentsByKey","myIssues","disableDeveloperAggregatedInfo","toString","AssigneeSelect","TagSelect","loadIssues","fetchIssues","additionalFields","getDefaultAssignee","handleAssigneeSearch","r","userInfo","handleAssigneeSelect","handleTagsSearch","handleTagsSelect","field","handleFieldCheck","handleRadioTransitionChange","handleSelectFieldChange","handleSubmit","add_tags","addTags","assign","do_transition","remove_tags","removeTags","sendNotifications","notifications","set_severity","set_type","issueKeys","submitting","onDone","error","renderLoading","onClose","renderAffected","affected","renderField","input","htmlFor","renderAssigneeOption","option","renderAssigneeField","hasAction","clearable","defaultOptions","renderOption","resetOnBlur","renderTypeField","optionRenderer","searchable","valueRenderer","renderSeverityField","renderTagOption","renderTagsField","allowCreate","initialTags","canCreate","minimumQueryLength","multi","onMultiSelect","promptTextCreator","promptCreateTag","renderTransitionsField","getAvailableTransitions","renderCommentField","renderNotificationsField","right","renderForm","limitReached","onSubmit","Alert","variant","defaultMessage","all","contentLabel","action","ComponentBreadcrumbs","displayProject","displaySubProject","selectedLocation","issuesReset","startsWith","substr","subProjectUuid","modules","componentUuid","Issue","prerender","setTimeout","selectedIssue","onIssueChange","onIssueCheck","onIssueClick","lazyLoadComponent","scrollToIssue","smooth","offset","handleLoaded","shouldScrollBackToIssue","loc","highlightedLocationMessage","onLoaded","aroundLine","startLine","allMessagesEmpty","highlightedLocations","SourceViewer","displayAllIssues","displayIssueLocationsCount","displayIssueLocationsLink","displayLocationMarkers","slimHeader","onMyIssuesChange","NoIssues","NoMyIssues","TotalEffort","0","renderShortcuts","effortTotal","canSetHome","HomePageSelect","currentPage","DEFAULT_QUERY","handleKeyDown","altKey","handleKeyUp","getOpenIssue","find","selectNextIssue","getSelectedIndex","selectPreviousIssue","pathname","scrollToSelectedIssue","router","replace","closeIssue","openSelectedIssue","Boolean","additional","requestFacets","facet","parameters","componentKeys","sort","asc","fetchIssuesPage","fetchIssuesUntil","done","recursiveFetch","prevIssues","pageIssues","other","fetchMoreIssues","reject","checkAll","loadingMore","fetchIssuesForComponent","_component","_from","isSameComponent","lastIssue","nextIssues","fetchFacet","referencedComponentsById","isFiltered","serialized","getCheckedIssues","getButtonLabel","handleFilterChange","handleMyIssuesChange","closeFacet","handleFacetToggle","willOpenProperty","newState","handleReset","handlePopupToggle","samePopup","handleIssueCheck","handleIssueChange","refreshBranchStatus","candidate","handleOpenBulkChange","bulkChangeModal","handleCloseBulkChange","handleBulkChangeDone","fetchFirstIssues","handleReload","onBranchesChange","handleReloadAndOpenFirst","selectLocation","nextIndex","handleCheckAll","selectFlow","fetchBranchStatus","isLoggedIn","prevQuery","addEventListener","removeEventListener","findIndex","openIssueKey","some","cannotShowOpenIssue","renderBulkChange","isAllChecked","thirdState","isChecked","renderFacets","renderConciseIssuesList","loadMore","renderSide","ScreenPositionHelper","top","A11ySkipTarget","anchor","weight","noIssuesMessage","renderHeader","renderPage","branch","pullRequest","Suggestions","suggestions","defer","addSuggestions","removeSuggestions","SuggestionsInner","__assign","n","call","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","Icon_1","qualifierIcons","app","iconProps","ThemedIcon","blue","brc","dev","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","lib","pac","orange","FoundIcon","measures_1","DeferredSpinner_1","buttons_1","button","needReload","ready","hasMore","reload","Button","translateWithParameters","formatMeasure","toNumber","addA11ySkipLink","removeA11ySkipLink","A11ySkipTargetInner","getLink","Radio","toggleBodyClass","body","classList","toggle","documentElement","addSideBarClass","addWhitePageClass","addNoFooterPageClass","console","warn","removeSideBarClass","removeWhitePageClass","removeNoFooterPageClass","getPosition","containerPos","container","getBoundingClientRect","pageYOffset","left","pageXOffset","debouncedOnResize","forceUpdate","ChevronDownIcon_1","ChevronRightIcon_1","arrayMap","baseIteratee","basePickBy","getAllKeysIn","object","predicate","renderHelper","helper","renderValueIndicator","showClearButton","renderValue","inPlace","rel","createRange","baseRange","isIterateeCall","toFinite","fromRight","end","step","nativeCeil","ceil","nativeMax","handleShowMoreClick","showMore","handleShowLessClick","showLess","allShown","searching","searchResultsCounts","showFullList","stopSearching","search","loadCountsForSearchResults","searchMaxResults","searchResults","searchPaging","catch","searchMore","resultsToLoad","hideFullList","maxInitialItems","sortedItems","limitedList","selectedBelowLimit","mightHaveMoreResults","maxItems","formatFacetStat","renderSearch","renderSearchResults","loadingResults","showList","disabledHelper","MultiSelectOption","custom","renderLabel","onSelectChange","handleSelectChange","onSelectItem","onUnselectItem","onSearchQuery","validateSearchInput","handleElementHover","activeIdx","getAllElements","evt","toggleSelect","stopLoading","isNewElement","elem","selectedElements","elements","updateSelectedElements","filterSelected","updateUnselectedElements","unselectedElements","setElementActive","allElements","totalElements","searchInput","focus","allowSelection","allowNewElements","footerNode","activeElement","showNewElement","infiniteList","listClasses","div","highlightTerm","str","pos","Fragment","substring","DayPicker","openCalendar","handleResetClick","closeCalendar","currentMonth","lastHovered","handleDayClick","day","modifiers","handleDayMouseEnter","handleCurrentMonthChange","handleCurrentYearChange","handlePreviousMonthClick","handleNextMonthClick","highlightFrom","highlightTo","minDate","after","maxDate","months","years","getFullYear","selectedDays","lastHoveredOrValue","highlighted","weekdaysLong","weekdaysShort","onClickOutside","InputWrapper","inputClassName","innerRef","readOnly","month","getMonth","year","String","captionElement","NullComponent","disabledDays","before","firstDayOfWeek","navbarElement","onDayClick","onDayMouseEnter","formattedValue","navigator","userAgent","validateTag","leading","clickAttributes","getStandards","renderCWECategory","record","renderOwaspTop10Category","withPrefix","addPrefix","renderSansTop25Category","renderSonarSourceSecurityCategory","prefix","isSymbol","iteratee","comparator","computed","DEFAULT_HOMEPAGE","setHomePage","homepage","isSameHomePage","isDefault","filled","mapDispatchToProps","a","color","handleFromChange","toDateInput","handleToChange","lodash_1","Select_1","SearchSelect","currentQuery","handleChange","isArray","handleInputChange","handleFilterOption","debounce","get","autofocus","enumerable","configurable","Component","Creatable","escapeClearsValue","filterOption","isLoading","noResultsText","onBlurResetsInput","onInputChange"],"mappings":"6FAAA,gEA2Bc,SAAUA,EAAmB,G,IAoCrCC,EApCuCC,EAAI,OAC/C,GAAiB,SAAbA,EAAKC,IACP,OACE,yBACG,kCACC,yBACAD,EAAKE,UAAY,GACjBF,EAAKG,UAAY,KAIlB,GAAI,CAAC,mBAAoB,eAAeC,SAASJ,EAAKC,KAC3D,OACE,yBACG,kCACC,2BACAD,EAAKE,UAAY,GACjBF,EAAKG,UAAY,KAIlB,GAAiB,sBAAbH,EAAKC,IAEd,OACE,yBACG,kCACC,+BACAD,EAAKE,UAAY,GACjBF,EAAKG,UAAY,KAIlB,GAAiB,SAAbH,EAAKC,IACd,OAAO,yBAAI,kCAAwB,iCAAkCD,EAAKE,UAAY,KAIxF,GAAqB,MAAjBF,EAAKG,SAAkB,CACnB,IAAAA,EAAaH,EAAL,SACG,WAAbA,EAAKC,MACPE,EAAW,wBAAcH,EAAKG,SAAU,aAE1CJ,EAAU,kCACR,6BACA,oBAAU,wBAAyBC,EAAKC,KACxCE,QAGFJ,EAAU,kCACR,0BACA,oBAAU,wBAAyBC,EAAKC,MAI5C,GAAqB,MAAjBD,EAAKE,SAAkB,CACnB,IAAAA,EAAaF,EAAL,SACG,WAAbA,EAAKC,MACPC,EAAW,wBAAcF,EAAKE,SAAU,aAE1CH,GAAW,KAAK,kCAAwB,sBAAuBG,GAAS,IAE1E,OAAO,yBAAIH,K,kCCvFb,IACQM,EADJC,EAAaC,MAAQA,KAAKD,YACtBD,EAAgB,SAAUG,EAAGC,GAI7B,OAHAJ,EAAgBK,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,IAErB,SAAUD,EAAGC,GAEhB,SAASO,IAAOT,KAAKU,YAAcT,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEU,UAAkB,OAANT,EAAaC,OAAOS,OAAOV,IAAMO,EAAGE,UAAYT,EAAES,UAAW,IAAIF,KAGvFN,OAAOU,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,EAAa,EAAQ,KACrBC,EAAQ,EAAQ,IAChBC,EAAS,EAAQ,KACjBC,EAAU,EAAQ,KAClBC,EAAY,EAAQ,KACpBC,EAAgB,SAAUC,GAE1B,SAASD,IACL,IAAIE,EAAmB,OAAXD,GAAmBA,EAAOE,MAAMxB,KAAMyB,YAAczB,KAMhE,OALAuB,EAAMG,YAAc,SAAUC,GAC1BA,EAAMC,iBACND,EAAME,cAAcC,OACpBP,EAAMQ,MAAMC,WAETT,EAQX,OAhBAxB,EAAUsB,EAAcC,GAUxBD,EAAaV,UAAUsB,OAAS,WAC5B,IAAIC,EAAKlC,KAAK+B,MAAMI,QAASA,OAAiB,IAAPD,EAAgBhB,EAAOkB,UAAU,UAAYF,EACpF,OAAQjB,EAAMoB,cAAcjB,EAAUkB,QAAS,CAAEC,QAASJ,GACtDlB,EAAMoB,cAAc,IAAK,CAAEG,UAAWxB,EAAW,oBAAqBhB,KAAK+B,MAAMS,WAAYC,KAAM,IAAKT,QAAShC,KAAK0B,aAAeT,EAAMoB,cAAclB,EAAQuB,cAAe,MAAM,SAAUC,GAAS,OAAQ1B,EAAMoB,cAAc,MAAO,CAAEO,OAAQ,KAAMC,QAAS,YAAaC,MAAO,MACrR7B,EAAMoB,cAAc,OAAQ,CAAEpC,EAAG,0QAA2Q8C,KAAMJ,EAAMK,OAAOC,yBAEpU5B,EAjBQ,CAkBjBJ,EAAMiC,eACRpC,EAAQwB,QAAUjB,G,qBCvClB,IAAI8B,EAAM,EAAQ,KACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQd,QAAUc,KAG/CA,EAAU,CAAC,CAACE,EAAOC,EAAIH,EAAS,MAG9C,IAAII,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSN,EAAIC,EAASI,GAEXJ,EAAQM,OAASN,EAAQM,OAAS,IAIjDJ,EAAOxC,QAAU2C,G,oFCGJ,EAAc,SACzBE,EACAC,EACAC,EACAC,GAEA,IAAMC,OAAgCC,IAAbH,QAAuCG,IAAbF,EAC/CC,GACFJ,EAASG,GAGXF,EAAcK,MACZ,SAAAC,GACE,IAAKH,EAAkB,CACrB,IAAMI,EAAQ,YACZD,EAASC,MACTD,EAASE,WACTF,EAASG,MACTH,EAASI,OAEXX,EAASQ,OAGb,SAAAI,GACMR,GACFJ,EAASE,GAEX,OAAAW,EAAA,GAAiBD,O,6hBClBvB,uE,OACE,EAAAE,aAAe,SAAC9C,GACdA,EAAMC,iBACF,EAAKG,MAAM2C,UACb,EAAK3C,MAAM2C,SAAS,EAAK3C,MAAM4C,OAInC,EAAAC,YAAc,WACR,EAAK7C,MAAM8C,SACb,EAAK9C,MAAM8C,QAAQ,EAAK9C,MAAM4C,O,EA8BpC,OAxC4C,OAc1C,YAAAG,WAAA,WACE,IAAMC,EAAW/E,KAAK+B,MAAMgD,UAAY/E,KAAK+B,MAAM4C,KACnD,OACE,0BACE,qBACEnC,UAAW,IACT,CAAEwC,OAAQhF,KAAK+B,MAAMiD,SAAWhF,KAAK+B,MAAM4C,MAC3C3E,KAAK+B,MAAMS,WAEbC,KAAK,IACLT,QAAShC,KAAKyE,aACdQ,QAASjF,KAAK4E,YACdM,YAAalF,KAAK4E,aACjBG,KAMT,YAAA9C,OAAA,WACE,OACE,gBAAC,IAAO,CAACM,QAASvC,KAAK+B,MAAMoD,YAASnB,EAAWoB,UAAU,SACxDpF,KAAK8E,eAId,EAxCA,CAA4C,iB,mWCI5C,YAKE,WAAY/C,GAAZ,MACE,YAAMA,IAAM,K,OAuBd,EAAAsD,gBAAkB,WAChB,EAAKC,iBAAmB,aACxB,EAAKC,eAAiB,SACtB,EAAKC,gBAAkB,IAAS,aAChC,WAAa,EAAKA,iBAIjB,SAAqB,SAAC7D,GACb,IAAA8D,GAAY9D,EAAM+D,QAAU/D,EAAMgE,YAA3B,QACTC,EAAsB,UAAZH,GAAmC,WAAZA,GAAoC,aAAZA,EAC/D,MAAO,CAAC,GAAI,GAAI,IAAI5F,SAAS8B,EAAMkE,WAAaD,GAGlD,EAAI,OAAQ,EAAKJ,iBAAiB,WAEhC,OADA,EAAKM,SAAS,EAAKC,oBACZ,KAGT,EAAI,KAAM,EAAKP,iBAAiB,WAE9B,OADA,EAAKM,SAAS,EAAKE,wBACZ,KAGT,EAAI,SAAU,EAAKR,iBAAiB,WAIlC,OAHyB,MAArB,EAAKS,MAAMjB,QACb,EAAKP,aAAa,EAAKwB,MAAMjB,SAExB,MAIX,EAAAkB,gBAAkB,WACZ,EAAKZ,kBACP,WAAa,EAAKA,kBAEhB,EAAKE,iBACP,cAAgB,EAAKA,iBAEtB,SAAqB,EAAKD,gBAG7B,EAAAd,aAAe,SAACE,GACd,EAAK5C,MAAM2C,SAASC,IAGtB,EAAAC,YAAc,SAACD,GACb,EAAKmB,SAAS,CAAEd,OAAQL,KAG1B,EAAAoB,kBAAoB,SAACE,EAAclE,GACjC,IAAMoE,EAAMpE,EAAMqE,MAAMC,QAAQJ,EAAMjB,QACtC,OAAImB,EAAM,EACD,CAAEnB,OAAQjD,EAAMqE,MAAM,IAExB,CAAEpB,OAAQjD,EAAMqE,OAAOD,EAAM,GAAKpE,EAAMqE,MAAME,UAGvD,EAAAN,sBAAwB,SAACC,EAAclE,GACrC,IAAMoE,EAAMpE,EAAMqE,MAAMC,QAAQJ,EAAMjB,QACtC,OAAImB,GAAO,EACF,CAAEnB,OAAQjD,EAAMqE,MAAMrE,EAAMqE,MAAME,OAAS,IAE7C,CAAEtB,OAAQjD,EAAMqE,MAAMD,EAAM,KAGrC,EAAAI,YAAc,SAACC,GACb,OAAa,MAATA,EACK,KAGLA,EAAMC,OAAS,EACVD,EAEF,eAAmBA,EAAO,CAC/BxB,OAAQ,EAAKiB,MAAMjB,OACnBH,QAAS,EAAKD,YACdF,SAAU,EAAKD,gBAnGjB,EAAKwB,MAAQ,CACXjB,OAAQjD,EAAM2E,a,EAyHpB,OAjIwC,OAYtC,YAAAC,kBAAA,WACE3G,KAAKqF,mBAGP,YAAAuB,mBAAA,SAAmBC,GAEfA,EAAUH,cAAgB1G,KAAK+B,MAAM2E,aACpC1G,KAAK+B,MAAMqE,MAAMvG,SAASG,KAAKiG,MAAMjB,SAEtChF,KAAK8F,SAAS,CAAEd,OAAQhF,KAAK+B,MAAM2E,eAIvC,YAAAI,qBAAA,WACE9G,KAAKkG,mBAoFP,YAAAjE,OAAA,sBACU8C,EAAa/E,KAAK+B,MAAV,SACVgF,EAAc,WAAeC,MAAMjC,GAAY,EACrD,OACE,sBAAIvC,UAAW,IAAW,OAAQxC,KAAK+B,MAAMS,YAC1CuE,GAAe,WAAeE,IAAIlC,EAAU/E,KAAKuG,cAChDQ,GACA/G,KAAK+B,MAAMqE,MAAMa,KAAI,SAAAtC,GAAQ,OAC3B,gBAAC,EAAc,CACbK,OAAQ,EAAKiB,MAAMjB,OACnBL,KAAMA,EACNjF,IAAKiF,EACLE,QAAS,EAAKD,YACdF,SAAU,EANe,oBAYvC,EAjIA,CAAwC,iB,kiBCQxC,cAGE,WAAY3C,GAAZ,MACE,YAAMA,IAAM,K,OAcd,EAAAmF,YAAc,SAACC,GACb,YAAY,CAAEC,EAAGD,EAAOE,GArBV,KAqB2BpD,KAAK,EAAKqD,oBAAoB,gBAGzE,EAAAA,mBAAqB,SAAC,G,IACdC,EADqB,QACDC,OAAO,KACjC,EAAK1B,SAAS,CACZzB,MAAOkD,EACPE,YAAaF,EAAYjB,OAAS,EAAIiB,EAAY,GAAGG,MAAQ,MAIjE,EAAAC,mBAAqB,SAACR,GACC,IAAjBA,EAAMb,OACR,EAAKR,SAAS,CACZqB,MAAK,EACL9C,MAAO,EAAKuD,kBACZH,YAAa,EAAKG,kBAAkB,GAAGF,SAGzC,EAAK5B,SAAS,CAAEqB,MAAK,IACrB,EAAKD,YAAYC,KAlCnB,EAAKS,kBAAoB,CAAC,CAAEF,MAAO,GAAIG,KAAM,oBAAU,gBAEnD,YAAW9F,EAAM0F,eACnB,EAAKG,kBAAiB,GAAI7F,EAAM0F,aAAgB,EAAKG,oBAGvD,EAAK3B,MAAQ,CACXkB,MAAO,GACP9C,MAAO,EAAKuD,kBACZH,YAAa,EAAKG,kBAAkBtB,OAAS,EAAI,EAAKsB,kBAAkB,GAAGF,MAAQ,I,EA8DzF,OA5EsC,OA2CpC,YAAAzF,OAAA,WACE,OACE,gBAAC6F,EAAA,gBAAe,CAACC,WAAW,GAC1B,uBAAKvF,UAAU,gBACb,uBAAKA,UAAU,eACb,gBAAC,IAAS,CACRwF,WAAW,EACXxF,UAAU,oBACVyF,UAAW,EACXtE,SAAU3D,KAAK2H,mBACfO,YAAa,oBAAU,2BACvBnH,MAAOf,KAAKiG,MAAMkB,SAGtB,gBAAC,EAAU,CACTT,YAAa1G,KAAKiG,MAAMwB,YACxBrB,MAAO,IAAIpG,KAAKiG,MAAM5B,MAAO,SAC7BK,SAAU1E,KAAK+B,MAAM2C,UACpB1E,KAAKiG,MAAM5B,MAAM4C,KAAI,SAAAkB,GAAQ,OAC5B,gBAAC,EAAc,CAACxD,KAAMwD,EAAKT,MAAOhI,IAAKyI,EAAKT,SACvCS,EAAKT,OACN,gBAACU,EAAA,EAAM,CAAC5F,UAAU,eAAe6F,KAAMF,EAAKG,OAAQT,KAAMM,EAAKN,KAAMU,KAAM,KAE7E,wBAAM/F,UAAU,cAAcgG,MAAO,CAAEC,WAAYN,EAAKT,MAAQ,QAAK1D,IAClEmE,EANuB,cAe1C,EA5EA,CAAsC,iBA8EvB,SAAAO,EAAA,GAAgB,G,mWCvF/B,uE,OACE,EAAAC,aAAe,SAACC,GACd,EAAK7G,MAAM8G,YAAY,SAAUD,IAGnC,EAAAE,YAAc,WACZ,EAAKH,cAAa,I,EAoDtB,OA1DyC,OASvC,YAAAI,eAAA,WACU,IAAA5E,EAAUnE,KAAK+B,MAAV,MACPiH,EAAe7E,EAAM6E,cAAgB7E,EAAM8E,SAEjD,OAAID,EAEA,gCACE,wBAAMxG,UAAU,YACd,gBAAC4F,EAAA,EAAM,CACL5F,UAAU,sBACV6F,KAAMlE,EAAM+E,eACZrB,KAAM1D,EAAM6E,cAAgB7E,EAAM8E,SAClCV,KAAM,MAGV,wBAAM/F,UAAU,qBACY,IAAzB2B,EAAMgF,eACH,kCAAwB,iBAAkBH,GAC1CA,IAML,wBAAMxG,UAAU,oBAAoB,oBAAU,gBAGvD,YAAAP,OAAA,WACE,OAAIjC,KAAK+B,MAAMqH,UAEX,uBAAK5G,UAAU,YACb,gBAAC,IAAO,CACN6G,eAAe,EACfC,eAAgBtJ,KAAK8I,YACrBF,KAAM5I,KAAK+B,MAAMwH,QAAUvJ,KAAK+B,MAAMqH,UACtC7G,QAAS,gBAAC,EAAgB,CAACmC,SAAU1E,KAAK+B,MAAMyH,YAChD,gBAAC,aAAU,CACThH,UAAU,yDACVR,QAAShC,KAAK2I,cACb3I,KAAK+I,iBACN,gBAAC,IAAY,CAACvG,UAAU,0BAMzBxC,KAAK+I,kBAGlB,EA1DA,CAAyC,iB,4WCIzC,YACE,WAAYhH,GAAZ,MACE,YAAMA,IAAM,K,OAMd,EAAA0H,oBAAsB,SAAC9H,GACrB,EAAKmE,SAAS,CAAE4D,YAAa/H,EAAM+D,OAAO3E,SAG5C,EAAA4I,mBAAqB,WACf,EAAK1D,MAAMyD,YAAYE,OAAOtD,OAAS,GACzC,EAAKvE,MAAM8H,UAAU,EAAK5D,MAAMyD,cAIpC,EAAAI,kBAAoB,WAClB,EAAK/H,MAAMgI,eAAc,IAG3B,EAAAC,eAAiB,SAACrI,GACM,KAAlBA,EAAMkE,UAAmBlE,EAAMsI,SAAWtI,EAAMuI,SAElD,EAAKP,qBACI,CAAC,GAAI,GAAI,GAAI,IAAI9J,SAAS8B,EAAMkE,UAEzClE,EAAMwI,mBAzBR,EAAKlE,MAAQ,CACXyD,YAAa3H,EAAMqI,QAAUrI,EAAMqI,QAAQC,SAAW,I,EAgE5D,OApE0C,OAgCxC,YAAApI,OAAA,WACQ,MAA6BjC,KAAK+B,MAAhCqI,EAAO,UAAEE,EAAa,gBAC9B,OACE,gBAACxC,EAAA,gBAAe,CAAC1C,UAAWpF,KAAK+B,MAAMqD,WACrC,uBAAK5C,UAAU,8BACb,uBAAKA,UAAU,2BACb,4BACEwF,WAAW,EACXrE,SAAU3D,KAAKyJ,oBACfc,UAAWvK,KAAKgK,eAChB9B,YAAalI,KAAK+B,MAAMmG,YACxBsC,KAAM,EACNzJ,MAAOf,KAAKiG,MAAMyD,eAGtB,uBAAKlH,UAAU,6BACb,uBAAKA,UAAU,8BACb,gBAAC,SAAM,CACLA,UAAU,8CACViI,SAAUzK,KAAKiG,MAAMyD,YAAYE,OAAOtD,OAAS,EACjDtE,QAAShC,KAAK2J,oBACbS,GAAW,oBAAU,SACpBA,GAAW,oBAAU,yBAEzB,gBAAC,kBAAe,CAAC5H,UAAU,0BAA0BR,QAAShC,KAAK8J,mBAChEQ,EAAgB,oBAAU,QAAU,oBAAU,YAGnD,uBAAK9H,UAAU,2BACb,gBAACkI,EAAA,EAAc,WAO7B,EApEA,CAA0C,iB,mWCH1C,uE,OACE,EAAAC,WAAa,SAACC,GACZ,EAAY,EAAK7I,MAAM4B,SAAU,YAAgB,CAAEQ,MAAO,EAAKpC,MAAM8I,SAAUD,KAAI,KACnF,EAAK7I,MAAMgI,eAAc,IAG3B,EAAAJ,mBAAqB,WACnB,EAAK5H,MAAMgI,iBAGb,EAAAjB,YAAc,WACZ,EAAK/G,MAAMgI,eAAc,I,EAyB7B,OApCgD,OAc9C,YAAA9H,OAAA,WACE,OACE,sBAAIO,UAAU,uBACZ,gBAAC,IAAO,CACNsI,qBAAqB,EACrBxB,eAAgBtJ,KAAK8I,YACrBF,KAAkC,YAA5B5I,KAAK+B,MAAMgJ,aACjBxI,QACE,gBAAC,EAAY,CACX+H,cAAetK,KAAK+B,MAAMiJ,qBAC1BnB,UAAW7J,KAAK2K,WAChBzC,YAAalI,KAAK+B,MAAMkJ,mBACxBlB,cAAe/J,KAAK+B,MAAMgI,iBAG9B,gBAAC,aAAU,CAACvH,UAAU,gCAAgCR,QAAShC,KAAK2J,oBAClE,wBAAMnH,UAAU,oBAAoB,oBAAU,+BAM1D,EApCA,CAAgD,iB,2BCL1C0I,EAAW,CAAC,UAAW,WAAY,QAAS,QAAS,QAE7C,SAAUC,EAAiB,G,IAAEhH,EAAK,QAAEO,EAAQ,WACxD,OACE,gBAACoD,EAAA,gBAAe,KACd,gBAAC,EAAU,CAACpB,YAAavC,EAAMiH,SAAUhF,MAAO8E,EAAUxG,SAAUA,GACjEwG,EAASjE,KAAI,SAAAmE,GAAY,OACxB,gBAAC,EAAc,CAAC5I,UAAU,sBAAsBmC,KAAMyG,EAAU1L,IAAK0L,GACnE,gBAAC,IAAY,CAAC5I,UAAU,sBAAsB4I,SAAUA,IACvD,oBAAU,WAHW,S,wWCIlC,uE,OACE,EAAAC,kBAAoB,SAACzC,GACnB,EAAK7G,MAAM8G,YAAY,eAAgBD,IAGzC,EAAA0C,YAAc,SAACF,GACb,EAAKrJ,MAAMwJ,iBAAiB,WAAY,eAAgB,IAAkBH,IAG5E,EAAAtC,YAAc,WACZ,EAAKuC,mBAAkB,I,EAyB3B,OAnC2C,OAazC,YAAApJ,OAAA,WACU,IAAAkC,EAAUnE,KAAK+B,MAAV,MACb,OAAI/B,KAAK+B,MAAMyJ,eAEX,uBAAKhJ,UAAU,YACb,gBAAC,IAAO,CACN8G,eAAgBtJ,KAAK8I,YACrBF,KAAM5I,KAAK+B,MAAMwH,QAAUvJ,KAAK+B,MAAMyJ,eACtCjJ,QAAS,gBAAC4I,EAAgB,CAAChH,MAAOA,EAAOO,SAAU1E,KAAKsL,eACxD,gBAAC,aAAU,CACT9I,UAAU,+DACVR,QAAShC,KAAKqL,mBACd,gBAACI,EAAA,EAAc,CAACjJ,UAAU,mBAAmB4I,SAAUjH,EAAMiH,WAC7D,gBAAC,IAAY,CAAC5I,UAAU,0BAMzB,gBAACiJ,EAAA,EAAc,CAACjJ,UAAU,mBAAmB4I,SAAUjH,EAAMiH,YAG1E,EAnCA,CAA2C,iB,smBCH3C,uE,OACE,EAAAM,SAAU,EACV,EAAAzF,MAAe,CAAE0F,aAAc,IAU/B,EAAAC,SAAW,SAACzE,GACV,OAAO,YAAgB,CACrBC,EAAGD,EACHE,GAAIwE,KAAKC,IAAI,EAAK/J,MAAMgK,aAAazF,OAAS,EAlBlC,GACI,OAkBfrC,MACD,SAAC+H,GACK,EAAKN,SACP,EAAK5F,SAAS,CAAE6F,aAAcK,OAGlC,gBAIJ,EAAAtH,SAAW,SAACuH,GACV,EAAKlK,MAAMmK,QAAO,GAAK,EAAKnK,MAAMgK,aAAY,CAAEE,MAGlD,EAAAE,WAAa,SAACF,GACZ,EAAKlK,MAAMmK,QAAQ,KAAQ,EAAKnK,MAAMgK,aAAcE,K,EAkBxD,OAjD+C,QAI7C,YAAAtF,kBAAA,WACE3G,KAAK0L,SAAU,GAGjB,YAAA5E,qBAAA,WACE9G,KAAK0L,SAAU,GAyBjB,YAAAzJ,OAAA,WACE,IAAMmK,EAAgB,KAAWpM,KAAKiG,MAAM0F,aAAc3L,KAAK+B,MAAMgK,cACrE,OACE,gBAACjE,EAAA,gBAAe,CAAC1C,UAAW,kBAAeiH,aACzC,gBAACC,GAAA,EAAY,CACXC,SA1CQ,GA2CRX,SAAU5L,KAAK4L,SACflH,SAAU1E,KAAK0E,SACfyH,WAAYnM,KAAKmM,WACjBJ,aAAc/L,KAAK+B,MAAMgK,aACzBC,KAAMI,MAKhB,EAjDA,CAA+C,iB,sjBCF/C,uE,OACE,EAAAI,cAAgB,SAAC5D,GACf,EAAK7G,MAAM8G,YAAY,YAAaD,IAGtC,EAAAsD,QAAU,SAACF,GACD,IAAA7H,EAAU,EAAKpC,MAAV,MACP+B,EAAW,GAAH,MAAQK,GAAK,CAAE6H,KAAI,IACjC,EACE,EAAKjK,MAAM4B,SACX,YAAa,CAAEQ,MAAOA,EAAMzE,IAAKsM,KAAMA,EAAKS,KAAK,OACjDtI,EACAL,IAIJ,EAAAgF,YAAc,WACZ,EAAK0D,eAAc,I,EAqCvB,OAtDuC,QAoBrC,YAAAvK,OAAA,WACU,IAAAkC,EAAUnE,KAAK+B,MAAV,MACL,EAAcoC,EAAL,KAAT6H,OAAI,IAAG,KAAE,EAEjB,OAAIhM,KAAK+B,MAAM2K,WAEX,uBAAKlK,UAAU,YACb,gBAAC,IAAO,CACN8G,eAAgBtJ,KAAK8I,YACrBF,KAAM5I,KAAK+B,MAAMwH,OACjBhH,QAAS,gBAAC,GAAiB,CAACwJ,aAAcC,EAAME,QAASlM,KAAKkM,WAC9D,gBAAC,aAAU,CACT1J,UAAU,4DACVR,QAAShC,KAAKwM,eACd,gBAACG,GAAA,EAAQ,CACPC,YAAa5M,KAAK+B,MAAM2K,WACxBV,KACE7H,EAAM6H,MAAQ7H,EAAM6H,KAAK1F,OAAS,EAAInC,EAAM6H,KAAO,CAAC,oBAAU,sBASxE,gBAACW,GAAA,EAAQ,CACPC,YAAa5M,KAAK+B,MAAM2K,WACxBlK,UAAU,OACVwJ,KAAM7H,EAAM6H,MAAQ7H,EAAM6H,KAAK1F,OAAS,EAAInC,EAAM6H,KAAO,CAAC,oBAAU,oBAK9E,EAtDA,CAAuC,iB,UCJzB,SAAUa,GAAmB,G,IAAEC,EAAW,cAAEpI,EAAQ,WAAEqI,EAAW,cAAEtG,EAAI,OAC7EuG,EAAwBF,GAAwB,kBAATrG,EAC7C,OACE,gBAACqB,EAAA,gBAAe,KACd,gBAAC,EAAU,CAACpB,YAAaqG,EAAY,GAAI3G,MAAO2G,EAAarI,SAAUA,GACpEqI,EAAY9F,KAAI,SAAAgG,GACT,MAYhB,SAA6BA,EAAoBD,GAC/C,OAAOA,GAAyB,qBAAW,2BAA4BC,GACnE,CACE,oBAAU,2BAA4BA,GACtC,oBAAU,2BAA4BA,EAAY,gBAEpD,CACE,oBAAU,mBAAoBA,GAC9B,oBAAU,mBAAoBA,EAAY,gBApBZC,CAAoBD,EAAYD,GAArDnF,EAAI,KAAEsF,EAAW,KACxB,OACE,gBAAC,EAAc,CAACxI,KAAMsI,EAAYvN,IAAKuN,EAAY9H,MAAOgI,GACvDtF,Q,yWCLf,uE,OACE,EAAAuF,cAAgB,SAACH,GACf,EACE,EAAKlL,MAAM4B,SACX,YAAmB,CAAEQ,MAAO,EAAKpC,MAAMoC,MAAMzE,IAAKuN,WAAU,KAE9D,EAAKI,uBAGP,EAAAA,oBAAsB,SAACzE,GACrB,EAAK7G,MAAM8G,YAAY,aAAcD,IAGvC,EAAAE,YAAc,WACZ,EAAKuE,qBAAoB,I,EA2C7B,OAzD6C,QAiB3C,YAAApL,OAAA,WACU,IAAAkC,EAAUnE,KAAK+B,MAAV,MAEb,OAAI/B,KAAK+B,MAAMuL,eAEX,uBAAK9K,UAAU,YACb,gBAAC,IAAO,CACN8G,eAAgBtJ,KAAK8I,YACrBF,KAAM5I,KAAK+B,MAAMwH,QAAUvJ,KAAK+B,MAAMuL,eACtC/K,QACE,gBAACsK,GAAkB,CACjBC,YAAa3I,EAAM2I,YACnBpI,SAAU1E,KAAKoN,cACfL,YAAa5I,EAAM4I,YACnBtG,KAAMtC,EAAMsC,QAGhB,gBAAC,aAAU,CACTjE,UAAU,6DACVR,QAAShC,KAAKqN,qBACd,gBAACE,GAAA,EAAY,CACX/K,UAAU,mBACVgL,WAAYrJ,EAAMqJ,WAClBC,OAAQtJ,EAAMsJ,SAEhB,gBAAC,IAAY,CAACjL,UAAU,0BAO9B,gBAAC+K,GAAA,EAAY,CACX/K,UAAU,mBACVgL,WAAYrJ,EAAMqJ,WAClBC,OAAQtJ,EAAMsJ,UAKxB,EAzDA,CAA6C,iB,+BCLvCC,GAAQ,CAAC,MAAO,gBAAiB,cAEzB,SAAUC,GAAa,G,IAAExJ,EAAK,QAAEO,EAAQ,WACpD,OACE,gBAACoD,EAAA,gBAAe,KACd,gBAAC,EAAU,CAACpB,YAAavC,EAAMsC,KAAML,MAAOsH,GAAOhJ,SAAUA,GAC1DgJ,GAAMzG,KAAI,SAAAR,GAAQ,OACjB,gBAAC,EAAc,CAACjE,UAAU,sBAAsBmC,KAAM8B,EAAM/G,IAAK+G,GAC/D,gBAAC,KAAa,CAACjE,UAAU,sBAAsB2E,MAAOV,IACrD,oBAAU,aAHI,S,yWCM3B,uE,OACE,EAAAmH,cAAgB,SAAChF,GACf,EAAK7G,MAAM8G,YAAY,WAAYD,IAGrC,EAAAiF,QAAU,SAACpH,GACT,EAAK1E,MAAMwJ,iBAAiB,OAAQ,WAAY,IAAc9E,IAGhE,EAAAqC,YAAc,WACZ,EAAK8E,eAAc,I,EAmCvB,OA7CuC,QAarC,YAAA3L,OAAA,WACU,IAAAkC,EAAUnE,KAAK+B,MAAV,MACb,OAAI/B,KAAK+B,MAAM+L,WAEX,uBAAKtL,UAAU,YACb,gBAAC,IAAO,CACN8G,eAAgBtJ,KAAK8I,YACrBF,KAAM5I,KAAK+B,MAAMwH,QAAUvJ,KAAK+B,MAAM+L,WACtCvL,QAAS,gBAACoL,GAAY,CAACxJ,MAAOA,EAAOO,SAAU1E,KAAK6N,WACpD,gBAAC,aAAU,CACTrL,UAAU,2DACVR,QAAShC,KAAK4N,eACd,gBAAC,KAAa,CACZpL,UAAU,sBACVO,KAAM,UAAOgL,cACb5G,MAAOhD,EAAMsC,OAEd,oBAAU,aAActC,EAAMsC,MAC/B,gBAAC,IAAY,CAACjE,UAAU,0BAO9B,4BACE,gBAAC,KAAa,CAACA,UAAU,sBAAsB2E,MAAOhD,EAAMsC,OAC3D,oBAAU,aAActC,EAAMsC,QAKzC,EA7CA,CAAuC,iB,sjBCAvC,uE,OACE,EAAAR,MAAe,CACb+E,sBAAsB,EACtBC,mBAAoB,IAGtB,EAAAM,iBAAmB,SACjByC,EACAC,EACAC,EACAnN,G,QAEQoD,EAAU,EAAKpC,MAAV,MACb,GAAIoC,EAAM6J,KAAcjN,EAAO,CAC7B,IAAM+C,EAAW,GAAH,MAAQK,KAAK,MAAG6J,GAAWjN,EAAK,IAC9C,EACE,EAAKgB,MAAM4B,SACXuK,IAAO,GAAG/J,MAAOA,EAAMzE,MAAMsO,GAAWjN,EAAK,IAC7CoD,EACAL,GAGJ,EAAK/B,MAAM8G,YAAYoF,GAAO,IAGhC,EAAAlE,cAAgB,SAACnB,EAA2BV,EAAkBoC,QAAlB,IAAApC,MAAA,SAAkB,IAAAoC,OAAA,GAC5D,EAAKxE,SAAS,CACZmF,mBAAoB/C,EACpB8C,qBAAsBV,IAExB,EAAKvI,MAAM8G,YAAY,UAAWD,IAGpC,EAAAuF,iBAAmB,SAAChK,GAClB,EAAKpC,MAAM4B,SAASQ,IAEG,mBAArBA,EAAMqJ,YACgB,YAArBrJ,EAAMqJ,YAA2C,qBAAfrJ,EAAMsC,OAEzC,EAAKsD,eAAc,EAAM,oBAAU,8BAA8B,I,EAuFvE,OA9H6C,QA2C3C,YAAA9H,OAAA,WACU,IAAAkC,EAAUnE,KAAK+B,MAAV,MACPqH,EAAYjF,EAAMiK,QAAQvO,SAAS,UACnCwO,EAAalK,EAAMiK,QAAQvO,SAAS,WACpC2L,EAAiBrH,EAAMiK,QAAQvO,SAAS,gBACxCiO,EAAa3J,EAAMiK,QAAQvO,SAAS,YACpC6M,EAAavI,EAAMiK,QAAQvO,SAAS,YACpCyN,EAAiBnJ,EAAM4I,aAAe5I,EAAM4I,YAAYzG,OAAS,EACjEgI,EAAmC,qBAAfnK,EAAMsC,KAEhC,OACE,uBAAKjE,UAAU,iBACb,sBAAIA,UAAU,mBACZ,sBAAIA,UAAU,cACZ,gBAAC,GAAS,CACRsL,WAAYA,EACZvE,OAAoC,aAA5BvJ,KAAK+B,MAAMgJ,cAA+B+C,EAClD3J,MAAOA,EACPoH,iBAAkBvL,KAAKuL,iBACvB1C,YAAa7I,KAAK+B,MAAM8G,gBAG1ByF,GACA,sBAAI9L,UAAU,cACZ,gBAAC,GAAa,CACZgJ,eAAgBA,EAChBjC,OAAoC,iBAA5BvJ,KAAK+B,MAAMgJ,cAAmCS,EACtDrH,MAAOA,EACPoH,iBAAkBvL,KAAKuL,iBACvB1C,YAAa7I,KAAK+B,MAAM8G,eAI9B,sBAAIrG,UAAU,cACZ,gBAAC,GAAe,CACd8K,eAAgBA,EAChB/D,OAAoC,eAA5BvJ,KAAK+B,MAAMgJ,cAAiCuC,EACpDnJ,MAAOA,EACPR,SAAU3D,KAAKmO,iBACftF,YAAa7I,KAAK+B,MAAM8G,eAG5B,sBAAIrG,UAAU,cACZ,gBAAC,EAAW,CACV4G,UAAWA,EACXG,OAAoC,WAA5BvJ,KAAK+B,MAAMgJ,cAA6B3B,EAChDjF,MAAOA,EACPqF,SAAUxJ,KAAK+B,MAAMyH,SACrBX,YAAa7I,KAAK+B,MAAM8G,gBAG1ByF,GAAqBnK,EAAMoK,QAC3B,sBAAI/L,UAAU,cACZ,wBAAMA,UAAU,oBACb,kCAAwB,iBAAkB2B,EAAMoK,UAItDF,GACC,gBAAC,EAAkB,CACjBrD,qBAAsBhL,KAAKiG,MAAM+E,qBACjCC,mBAAoBjL,KAAKiG,MAAMgF,mBAC/BF,aAAc/K,KAAK+B,MAAMgJ,aACzBF,SAAU1G,EAAMzE,IAChBiE,SAAU3D,KAAK+B,MAAM4B,SACrBoG,cAAe/J,KAAK+J,iBAI1B,sBAAIvH,UAAU,eACZ,sBAAIA,UAAU,4BACZ,gBAAC,GAAS,CACRkK,WAAYA,EACZnD,OAAoC,cAA5BvJ,KAAK+B,MAAMgJ,cAAgC2B,EACnDvI,MAAOA,EACPR,SAAU3D,KAAK+B,MAAM4B,SACrBkF,YAAa7I,KAAK+B,MAAM8G,kBAOtC,EA9HA,CAA6C,iB,+BCd/B,SAAU2F,GAAmB,G,IAAEC,EAAQ,WACnD,OACE,gBAAC3G,EAAA,gBAAe,CAAC1C,UAAW,kBAAeiH,aACzC,uBAAK7J,UAAU,qBACb,uBAAKA,UAAU,iBAAiB,oBAAU,yCAC1C,gBAAC,SAAM,CAACA,UAAU,aAAaR,QAASyM,GACrC,oBAAU,a,IChBTC,G,qWCqBZ,uE,OACE,EAAAzI,MAAe,CACb0I,UAAW,IAGb,EAAAC,WAAa,SAAChE,GACZ,EAAK7I,MAAM8M,OAAO,EAAK9M,MAAMqI,QAAQ1K,IAAKkL,GAC1C,EAAKkE,iBAAgB,IAGvB,EAAAC,aAAe,WACb,EAAKhN,MAAM0M,SAAS,EAAK1M,MAAMqI,QAAQ1K,KACvC,EAAKsP,mBAAkB,IAGzB,EAAAnG,YAAc,SAACoG,EAAmBC,GAChC,EAAKpJ,UAAS,SAAAqJ,GACZ,OAAIA,EAAUR,YAAcM,IAAuB,IAAVC,EAChC,CAAEP,UAAWM,GACXE,EAAUR,YAAcM,IAAuB,IAAVC,EACvC,CAAEP,UAAW,IAEfQ,MAIX,EAAAH,kBAAoB,SAACE,GACnB,EAAKrG,YAAY,SAAUqG,IAG7B,EAAAJ,gBAAkB,SAACI,GACjB,EAAKrG,YAAY,OAAQqG,IAG3B,EAAAE,YAAc,WACZ,EAAKtJ,SAAS,CAAE6I,UAAW,M,EAoE/B,OAvG8C,QAsC5C,YAAA1M,OAAA,WACU,IAAAmI,EAAYpK,KAAK+B,MAAV,QACTsN,EAASjF,EAAQkF,YAAclF,EAAQiF,OACvCE,GACqB,IAAzBnF,EAAQoF,cAA0BH,EAC9B,kCAAwB,iBAAkBA,GAC1CA,EACN,OACE,uBAAK7M,UAAU,iBACb,uBAAKA,UAAU,uBAAuB2C,MAAOoK,GAC3C,gBAACnH,EAAA,EAAM,CACL5F,UAAU,sBACV6F,KAAM+B,EAAQqF,aACd5H,KAAMwH,EACN9G,KAAM,KAEPgH,GAEH,uBACE/M,UAAU,8BACVkN,wBAAyB,CAAEC,OAAQ,oBAASvF,EAAQwF,aAEtD,uBAAKpN,UAAU,qBACb,gBAAC,KAAW,CAACqN,KAAMzF,EAAQ0F,aAE7B,uBAAKtN,UAAU,yBACZ4H,EAAQ2F,WACP,uBAAKvN,UAAU,YACb,gBAAC,IAAO,CACNsI,qBAAqB,EACrBxB,eAAgBtJ,KAAKoP,YACrBxG,KAA+B,SAAzB5I,KAAKiG,MAAM0I,UACjBpM,QACE,gBAAC,EAAY,CACX6H,QAASA,EACTP,UAAW7J,KAAK4O,WAChB1G,YAAY,GACZ9C,UAAW,kBAAeiH,YAC1BtC,cAAe/J,KAAK8O,mBAGxB,gBAAC,aAAU,CACTtM,UAAU,qCACVR,QAAShC,KAAK8O,oBAKrB1E,EAAQ2F,WACP,uBAAKvN,UAAU,YACb,gBAAC,IAAO,CACN8G,eAAgBtJ,KAAKoP,YACrBxG,KAA+B,WAAzB5I,KAAKiG,MAAM0I,UACjBpM,QAAS,gBAACiM,GAAkB,CAACC,SAAUzO,KAAK+O,gBAC5C,gBAAC,eAAY,CACXvM,UAAU,uCACVR,QAAShC,KAAKgP,yBAShC,EAvGA,CAA8C,iB,sdCJ9C,uE,OACE,EAAAtD,SAAU,EACV,EAAAzF,MAAe,CAAE+J,UAAW,I,EA0E9B,OA5E4C,QAI1C,YAAArJ,kBAAA,WACE3G,KAAK0L,SAAU,EACf1L,KAAKiQ,iBAGP,YAAAnJ,qBAAA,WACE9G,KAAK0L,SAAU,GAGjB,YAAAuE,cAAA,sBACE,YAAkBjQ,KAAK+B,MAAMoC,MAAMzE,KAAKuE,MACtC,SAAC,G,IAAE+L,EAAS,YACN,EAAKtE,SACP,EAAK5F,SAAS,CAAEkK,UAAS,OAG7B,gBAIJ,YAAA/N,OAAA,WACU,IAAAkC,EAAUnE,KAAK+B,MAAV,MACLsN,EAAWlL,EAAL,OACd,OACE,gBAAC2D,EAAA,gBAAe,CAAC1C,UAAW,kBAAeiH,aACzC,uBAAK7J,UAAU,qCACb,yBAAOA,UAAU,UACf,6BACE,0BACE,sBAAIA,UAAU,kCACZ,gBAAC,KAAiB,CAACqN,KAAM1L,EAAM+L,gBAEjC,sBAAI1N,UAAU,sBACX6M,EAAY,oBAAU,cAAa,IAAIA,EAAW,oBAAU,aAIhErP,KAAKiG,MAAM+J,UAAU/I,KAAI,SAACtC,EAAMwB,GAC/B,IAAMgK,EAAWxL,EAAKwL,UAAYxL,EAAKwD,KAEvC,OACE,sBAAIzI,IAAKyG,GACP,sBAAI3D,UAAU,kCACZ,gBAAC,KAAiB,CAACqN,KAAMlL,EAAKuL,gBAEhC,sBAAI1N,UAAU,sBACX2N,GACC,yBACE,gBAAC/H,EAAA,EAAM,CACL5F,UAAU,sBACV6F,KAAM1D,EAAK2D,OACXT,KAAMsI,EACN5H,KAAM,KAEP5D,EAAKyL,aACFD,EACA,kCAAwB,iBAAkBA,IAGjDxL,EAAK0L,MAAMpJ,KAAI,SAAAxH,GAAQ,OACtB,gBAACF,GAAA,EAAkB,CAACE,KAAMA,EAAMC,IAAKD,EADf,mBAa9C,EA5EA,CAA4C,iB,qWCH5C,uE,OACE,EAAA6Q,gBAAkB,SAAC1H,GACjB,EAAK7G,MAAM8G,YAAY,YAAaD,IAGtC,EAAAlH,YAAc,WACZ,EAAK4O,mBAGP,EAAAxH,YAAc,WACZ,EAAKwH,iBAAgB,I,EAsBzB,OAhC4C,QAa1C,YAAArO,OAAA,WACE,OACE,uBAAKO,UAAU,YACb,gBAAC,IAAO,CACN8G,eAAgBtJ,KAAK8I,YACrBF,KAAM5I,KAAK+B,MAAMwH,OACjBhH,QAAS,gBAAC,GAAc,CAAC4B,MAAOnE,KAAK+B,MAAMoC,SAC3C,gBAAC,aAAU,CACT3B,UAAU,iEACVR,QAAShC,KAAK0B,aACd,wBAAMc,UAAU,oBACd,gBAAC,KAAW,CAACqN,KAAM7P,KAAK+B,MAAMmO,gBAEhC,gBAAC,IAAY,CAAC1N,UAAU,2BAMpC,EAhCA,CAA4C,kBHd5C,SAAYkM,GACV,gBACA,cACA,0BACA,oBAJF,CAAYA,QAAU,K,cIkBR,SAAU6B,GAAaxO,GAC3B,IAAAyO,EAA0EzO,EAApE,OAAE0O,EAAkE1O,EAAxD,WAAE2O,EAAsD3O,EAAnC,oBAAEvC,EAAiCuC,EAA1B,QAAE4O,EAAwB5O,EAAjB,QAAE6O,EAAe7O,EAAL,WACvE8O,EAAaJ,GAA0BD,EAE7C,OACE,uBAAKhO,UAAU,4BACb,wBAAMA,UAAU,gBAAgBhD,GAChC,gBAAC,aAAU,cACG,oBAAU,6BACtBgD,UAAU,4CACVR,QAAS,WACP,OAAAD,EAAM+O,WAAW,CACfpR,IAAKiR,MAGR,oBAAU,yBAGZC,IAAeA,IAAelC,GAAWqC,YAAcH,IAAelC,GAAWsC,UAChF,gBAACC,GAAA,EAAoB,CACnBzO,UAAU,cACVY,QAAS,oBAAU,eAAgBwN,EAAY,QAC/CM,MAAO,CACL,CACEzO,KAAM,mCACN0O,MAAO,kCAAwB,QAAS,oBAAU,aAGtD,wBAAM3O,UAAU,kCACb,oBAAU,eAAgBoO,KAKhCC,GACC,gBAAC,IAAO,CAACtO,QAAS,kCAAwB,kCAAmCsO,IAC3E,uBAAKrO,UAAU,oCAAoCqO,IAGtDH,GACC,gBAAC,IAAO,CAACnO,QAAS,oBAAU,2CAC1B,uBAAKC,UAAU,oCACZ,oBAAU,iC,4mBC1CvB,uE,OACE,EAAAiC,aAAe,SAACuJ,GACd,EAAKjM,MAAMqP,SAASpD,EAAU,EAAKjM,MAAMoC,Q,EA4G7C,OA9GgD,QAK9C,YAAAlC,OAAA,WACU,IAAAkC,EAAUnE,KAAK+B,MAAV,MAEPqE,EAAQ,IACZ,OACA,WACA,SACA,aACA,WACA,SACIjC,EAAM6H,MAAQ,IAAI/E,KAAI,SAAAgF,GAAO,oBAAe,CAChD,UACA9H,EAAMkN,WAAa,cAAWrN,EAC9B,SACAwD,QAAO,SAAA7C,GAAQ,OAAAA,KAEXsE,EAAW9E,EAAM6E,cAAgB7E,EAAM8E,SAE7C,OACE,gBAACnB,EAAA,gBAAe,CAACC,WAAW,GAC1B,0BAAQvF,UAAU,eAChB,0BAAK,oBAAU,iCAGjB,gBAAC,EAAU,CACTA,UAAU,6BACVkE,YAAaN,EAAM,GACnBA,MAAOA,EACP1B,SAAU1E,KAAKyE,cACf,gBAAC,EAAc,CAACjC,UAAU,sBAAsBmC,KAAK,QACnD,gBAAC,KAAa,CAACnC,UAAU,sBAAsB2E,MAAOhD,EAAMsC,OAC3D,oBAAU,aAActC,EAAMsC,OAGjC,gBAAC,EAAc,CAAC9B,KAAK,YACnB,gBAAC8G,EAAA,EAAc,CAACjJ,UAAU,sBAAsB4I,SAAUjH,EAAMiH,YAGlE,gBAAC,EAAc,CAACzG,KAAK,UACnB,gBAAC4I,GAAA,EAAY,CACX/K,UAAU,sBACVgL,gBAAYxJ,EACZyJ,OAAQtJ,EAAMsJ,UAIlB,gBAAC,EAAc,CAAC9I,KAAK,cACE,MAApBR,EAAMqJ,WACH,oBAAU,mBAAoBrJ,EAAMqJ,YACpC,oBAAU,eAGhB,gBAAC,EAAc,CAAC7I,KAAK,YAClBsE,EACC,4BACG,oBAAU,eACX,gBAACb,EAAA,EAAM,CACL5F,UAAU,yCACV6F,KAAMlE,EAAM+E,eACZrB,KAAMoB,EACNV,KAAM,MAEkB,IAAzBpE,EAAMgF,eACH,kCAAwB,iBAAkBF,GAC1CA,GAGN,oBAAU,eAId,sBAAIzG,UAAU,YAEd,gBAAC,EAAc,CAACmC,KAAK,QAAQ,8BAAmBR,EAAMmN,WAEvC,MAAdnN,EAAM6H,MACL7H,EAAM6H,KAAK/E,KAAI,SAAAgF,GAAO,OACpB,gBAAC,EAAc,CAACtH,KAAM,SAASsH,EAAOvM,IAAK,SAASuM,GAClD,gBAAC,KAAQ,CAACzJ,UAAU,0DACpB,wBAAMA,UAAU,eAHE,OAOxB,sBAAIA,UAAU,YAEd,gBAAC,EAAc,CAACmC,KAAK,WACnB,gBAAC,KAAa,CAACnC,UAAU,sBAAsB+O,UAAU,QACxDpN,EAAMqN,aAGY,MAApBrN,EAAMkN,YACL,gBAAC,EAAc,CAAC1M,KAAK,UACnB,gBAAC,KAAa,CAACnC,UAAU,sBAAsB+O,UAAU,QACxDpN,EAAMsN,gBAIX,gBAAC,EAAc,CAAC9M,KAAK,QACnB,gBAAC,KAAa,CAACnC,UAAU,sBAAsB+O,UAAWpN,EAAMuN,qBAC/D,wBAAavN,EAAMwN,uBAMhC,EA9GA,CAAgD,iB,qWCHhD,uE,OACE,EAAAC,aAAe,SAAC5D,EAAkB7J,GAChC,EAAK0E,aAAY,GACb,EAAK9G,MAAMqP,UACb,EAAKrP,MAAMqP,SAASpD,EAAU7J,IAIlC,EAAA0E,YAAc,SAACD,GACb,EAAK7G,MAAM8G,YAAY,gBAAiBD,IAG1C,EAAAE,YAAc,WACZ,EAAKD,aAAY,I,EAsBrB,OAnCiD,QAgB/C,YAAA5G,OAAA,WACE,OACE,uBAAKO,UAAU,YACb,gBAAC,IAAO,CACN8G,eAAgBtJ,KAAK8I,YACrBF,KAAM5I,KAAK+B,MAAMwH,OACjBhH,QAAS,gBAAC,GAAkB,CAAC4B,MAAOnE,KAAK+B,MAAMoC,MAAOiN,SAAUpR,KAAK4R,gBACrE,gBAAC,aAAU,cACG,oBAAU,+BACtBpP,UAAU,yDACVR,QAAShC,KAAK6I,YACd1D,MAAO,oBAAU,gCACjB,gBAAC,KAAU,CAAC3C,UAAU,0BACtB,gBAAC,IAAY,CAACA,UAAU,8BAMpC,EAnCA,CAAiD,iB,iNCWnC,SAAUqP,GAAc9P,GAC5B,IAAAoC,EAAUpC,EAAL,MACP+P,EAA2C,MAAlB/P,EAAMqP,SAE/BW,EACJ5N,EAAM6N,mBAAmB1L,OACzBnC,EAAM8N,MAAMC,QAAO,SAACC,EAAKC,GAAc,OAAAD,EAAMC,EAAN,SAAwB,GAE3DC,EACJ,gBAAC,IAAO,CACN9P,QAAS,kCACP,6CACA,yBAAcwP,EAAgB,SAEhC,gBAACO,GAAA,EAAa,KAAEP,IAIdQ,EAAmBxQ,EAAMyQ,uBAAyBT,EAAiB,EAEnEU,EAAW,aAAsBtO,EAAMuO,QAAO,SAC/C,aAAmB3Q,EAAM4Q,aAAW,CACvCC,OAAQzO,EAAMzE,IACdkJ,KAAMzE,EAAMzE,IACZmT,MAAsB,qBAAf1O,EAAMsC,KAA8BtC,EAAMsC,UAAOzC,KAG1D,OACE,uBAAKxB,UAAU,aACb,gBAAC,KAAiBsQ,SAAQ,MACvB,SAAC,G,IAAEC,EAAsB,yBAAEC,EAAQ,WAAO,OACzC,gBAACzC,GAAY,CACXC,OAAQrM,EAAM8O,mBACdxC,WACEtM,EAAM8O,oBACNF,GACAA,EAAuB5O,EAAM8O,oBAE/BvC,oBAAqBvM,EAAM2I,aAA8B,kBAAf3I,EAAMsC,KAChDjH,QAAS2E,EAAM3E,QACfsR,WAAYkC,EACZrC,QAASxM,EAAM+O,KACftC,WAAYzM,EAAMyM,gBAKxB,uBAAKpO,UAAU,kBACb,sBAAIA,UAAU,mBACZ,sBAAIA,UAAU,cACZ,gBAAC,GAAc,CACb0N,aAAc/L,EAAM+L,aACpB3G,OAA+B,cAAvBxH,EAAMgJ,aACd5G,MAAOA,EACP0E,YAAa9G,EAAM8G,eAGH,MAAnB1E,EAAMgP,WACL,sBAAI3Q,UAAU,cACZ,wBAAMA,UAAU,mBAAmB2C,MAAO,oBAAU,gB,IAChDhB,EAAMgP,UAAUC,UAIvBb,GACC,sBAAI/P,UAAU,cACXT,EAAMsR,qBACL,gBAAC,KAAI,CAAC3N,OAAO,SAAS4N,GAAIb,GACvBJ,GAGHA,GAIN,sBAAI7P,UAAU,cACZ,gBAAC,KAAI,CACHA,UAAU,uCACVkD,OAAO,SACPP,MAAO,oBAAU,aACjBmO,GAAIb,GACJ,gBAAC,KAAQ,QAGZX,GACC,sBAAItP,UAAU,cACZ,gBAAC,GAAmB,CAClB+G,OAA+B,kBAAvBxH,EAAMgJ,aACd5G,MAAOA,EACPiN,SAAUrP,EAAMqP,SAChBvI,YAAa9G,EAAM8G,kB,yWC1FnC,uE,OACE,EAAA0K,YAAc,WACR,EAAKxR,MAAMyR,SACb,EAAKzR,MAAMyR,QAAQ,EAAKzR,MAAMoC,MAAMzE,MAIxC,EAAAgC,YAAc,SAACC,IACR8R,GAAY9R,EAAM+D,SAA0B,EAAK3D,MAAMC,UAC1DL,EAAMC,iBACN,EAAKG,MAAMC,QAAQ,EAAKD,MAAMoC,MAAMzE,OAIxC,EAAAgU,YAAc,SAACtJ,EAAiBQ,GAC9B,EAAY,EAAK7I,MAAM4B,SAAU,YAAiB,CAAEyG,QAAO,EAAEQ,KAAI,MAGnE,EAAA+I,cAAgB,SAACvJ,GACf,EAAY,EAAKrI,MAAM4B,SAAU,YAAmB,CAAEyG,QAAO,M,EA6DjE,OAhFuC,QAsBrC,YAAAnI,OAAA,sBACUkC,EAAUnE,KAAK+B,MAAV,MAEP6R,EAAoC,MAAtB5T,KAAK+B,MAAMyR,QAEzBK,EAAa,IAAW,QAAS,CACrCC,QAAwB,qBAAf3P,EAAMsC,KACf,sBAAuBmN,EACvBG,SAAU/T,KAAK+B,MAAMgS,WAGvB,OACE,uBACEvR,UAAWqR,EAAU,aACT1P,EAAMzE,IAClBsC,QAAShC,KAAK0B,YACdsS,KAAK,WACLC,SAAU,GACV,gBAACpC,GAAa,CACZc,WAAY3S,KAAK+B,MAAM4Q,WACvB5H,aAAc/K,KAAK+B,MAAMgJ,aACzByH,sBAAuBxS,KAAK+B,MAAMyQ,sBAClCa,qBAAsBrT,KAAK+B,MAAMsR,qBACjClP,MAAOA,EACPiN,SAAUpR,KAAK+B,MAAMqP,SACrBvI,YAAa7I,KAAK+B,MAAM8G,cAE1B,gBAAC,GAAe,CACdkC,aAAc/K,KAAK+B,MAAMgJ,aACzB5G,MAAOA,EACPqF,SAAUxJ,KAAK+B,MAAMyH,SACrB7F,SAAU3D,KAAK+B,MAAM4B,SACrBkF,YAAa7I,KAAK+B,MAAM8G,cAEzB1E,EAAM+P,UAAY/P,EAAM+P,SAAS5N,OAAS,GACzC,uBAAK9D,UAAU,kBACZ2B,EAAM+P,SAASjN,KAAI,SAAAmD,GAAW,OAC7B,gBAAC,GAAgB,CACfA,QAASA,EACT1K,IAAK0K,EAAQ1K,IACb+O,SAAU,EAAKkF,cACf9E,OAAQ,EALmB,kBAUlC+E,GACC,gCACE,gBAAC,IAAQ,CACPO,QAASnU,KAAK+B,MAAMoS,UAAW,EAC/B3R,UAAU,2BACVgR,QAASxT,KAAKuT,iBAO5B,EAhFA,CAAuC,iBAkFvC,SAASE,GAAYW,GACnB,IAAKA,EACH,OAAO,EAET,IACM3O,GAAW2O,EAAK3O,SAAW,IAAI4O,cACrC,MAFsB,CAAC,IAAK,SAAU,QAAS,YAE1BxU,SAAS4F,IAAYgO,GAAYW,EAAKE,e,sWC3F7D,0E,OA2EE,EAAAzL,YAAc,SAACoG,EAAmBrG,GAChC,EAAK7G,MAAMwS,cAAc,EAAKxS,MAAMoC,MAAMzE,IAAKuP,EAAWrG,IAG5D,EAAA4L,kBAAoB,SAAC9M,GACX,IAAAvD,EAAU,EAAKpC,MAAV,MACToC,EAAM8E,WAAavB,GACrB,EAAY,EAAK3F,MAAM4B,SAAU,YAAiB,CAAEQ,MAAOA,EAAMzE,IAAKuJ,SAAUvB,KAElF,EAAKmB,YAAY,UAAU,I,EAsB/B,OA1GmC,QAKjC,YAAAlC,kBAAA,WACM3G,KAAK+B,MAAMgS,UACb/T,KAAKyU,iBAIT,YAAAC,oBAAA,SAAoBC,IACbA,EAAUZ,UAAY/T,KAAK+B,MAAMgS,UACpC/T,KAAK4U,mBAIT,YAAAhO,mBAAA,SAAmBC,IACZA,EAAUkN,UAAY/T,KAAK+B,MAAMgS,UACpC/T,KAAKyU,iBAIT,YAAA3N,qBAAA,WACM9G,KAAK+B,MAAMgS,UACb/T,KAAK4U,mBAIT,YAAAH,cAAA,sBACE,EAAI,IAAK,UAAU,WAEjB,OADA,EAAK5L,YAAY,eACV,KAET,EAAI,IAAK,UAAU,WAEjB,OADA,EAAKA,YAAY,WACV,KAET,EAAI,IAAK,UAAU,WAIjB,OAHI,EAAK9G,MAAMoC,MAAMiK,QAAQvO,SAAS,WACpC,EAAK2U,kBAAkB,QAElB,KAET,EAAI,IAAK,UAAU,WAEjB,OADA,EAAK3L,YAAY,iBACV,KAET,EAAI,IAAK,UAAU,WAEjB,OADA,EAAKA,YAAY,YACV,KAET,EAAI,IAAK,UAAU,WAEjB,OADA,EAAKA,YAAY,cACV,KAET,EAAI,QAAS,UAAU,WACrB,GAAI,EAAK9G,MAAMyR,QAEb,OADA,EAAKzR,MAAMyR,QAAQ,EAAKzR,MAAMoC,MAAMzE,MAC7B,MAMb,YAAAkV,gBAAA,WACE,SAAW,IAAK,UAChB,SAAW,IAAK,UAChB,SAAW,IAAK,UAChB,SAAW,IAAK,UAChB,SAAW,IAAK,UAChB,SAAW,QAAS,UACpB,SAAW,IAAK,WAelB,YAAA3S,OAAA,WACE,OACE,gBAAC,GAAS,CACR0Q,WAAY3S,KAAK+B,MAAM4Q,WACvBwB,QAASnU,KAAK+B,MAAMoS,QACpBpJ,aAAc/K,KAAK+B,MAAM4M,UACzB6D,sBAAuBxS,KAAK+B,MAAMyQ,sBAClCa,qBAAsBrT,KAAK+B,MAAMsR,qBACjClP,MAAOnE,KAAK+B,MAAMoC,MAClBqF,SAAUxJ,KAAKwU,kBACf7Q,SAAU3D,KAAK+B,MAAM4B,SACrB6P,QAASxT,KAAK+B,MAAMyR,QACpBxR,QAAShC,KAAK+B,MAAMC,QACpBoP,SAAUpR,KAAK+B,MAAMqP,SACrB2C,SAAU/T,KAAK+B,MAAMgS,SACrBlL,YAAa7I,KAAK6I,eArGjB,EAAAgM,aAAe,CACpBd,UAAU,GAwGd,EA1GA,CAAmC,iBAAd,Q,qBC1CrB,IAAI5Q,EAAM,EAAQ,KACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQd,QAAUc,KAG/CA,EAAU,CAAC,CAACE,EAAOC,EAAIH,EAAS,MAG9C,IAAII,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSN,EAAIC,EAASI,GAEXJ,EAAQM,OAASN,EAAQM,OAAS,IAIjDJ,EAAOxC,QAAU2C,G,sBClBjB3C,EADkC,EAAQ,IAChCgU,EAA4B,IAE9BC,KAAK,CAACzR,EAAOC,EAAI,02BAA22B,KAEp4BD,EAAOxC,QAAUA,G,kCCNjB,+DA4Bc,SAAUkU,EAAgBjT,GACtC,OACE,uBAAKS,UAAW,EAAW,mBAAoB,CAAEuR,SAAUhS,EAAMgS,YAC9DhS,EAAMgD,Y,qBC/Bb,IAAI5B,EAAM,EAAQ,KACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQd,QAAUc,KAG/CA,EAAU,CAAC,CAACE,EAAOC,EAAIH,EAAS,MAG9C,IAAII,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSN,EAAIC,EAASI,GAEXJ,EAAQM,OAASN,EAAQM,OAAS,IAIjDJ,EAAOxC,QAAU2C,G,sBClBjB3C,EADkC,EAAQ,IAChCgU,EAA4B,IAE9BC,KAAK,CAACzR,EAAOC,EAAI,mzBAAszB,KAE/0BD,EAAOxC,QAAUA,G,qBCNjB,IAAIqC,EAAM,EAAQ,KACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQd,QAAUc,KAG/CA,EAAU,CAAC,CAACE,EAAOC,EAAIH,EAAS,MAG9C,IAAII,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSN,EAAIC,EAASI,GAEXJ,EAAQM,OAASN,EAAQM,OAAS,IAIjDJ,EAAOxC,QAAU2C,G,sBClBjB3C,EADkC,EAAQ,IAChCgU,EAA4B,IAE9BC,KAAK,CAACzR,EAAOC,EAAI,wtFAA2tF,KAEpvFD,EAAOxC,QAAUA,G,kCCNjB,gEA4Bc,SAAUmU,EAAc,G,IAAEC,EAAY,eAAEC,EAAO,UAC3D,OACE,uBAAK3S,UAAU,mCACZ0S,GACC,uBAAK1S,UAAU,cACb,gBAAC,SAAM,CAACA,UAAU,aAAa4S,GAAG,iCAAiCpT,QAASmT,GACzE,oBAAU,uBAKjB,0BAAK,oBAAU,e,2sBCgCrB,yE,OACE,EAAAzJ,SAAU,EACV,EAAAsC,SAAW,IACX,EAAA/H,MAAe,CACboP,UAAW,CAAEC,WAAY,GAAIC,UAAW,GAAIC,IAAK,GAAIC,oBAAqB,KA4B5E,EAAAC,cAAgB,WACd,cAAezR,MACb,SAAC,G,IAAEqR,EAAU,aAAEC,EAAS,YAAEC,EAAG,MAAEC,EAAmB,sBAC5C,EAAK/J,SACP,EAAK5F,SAAS,CAAEuP,UAAW,CAAEC,WAAU,EAAEC,UAAS,EAAEC,IAAG,EAAEC,oBAAmB,QAGhF,gBAIJ,EAAAE,UAAY,WACV,SACK,EAAK5T,MAAM0T,oBAAoBxO,KAAI,SAAAtC,GACpC,mBAAkC,EAAKsB,MAAMoP,UAAW1Q,GAAM,MAE7D,EAAK5C,MAAMuT,WAAWrO,KAAI,SAAAtC,GAC3B,mBAAyB,EAAKsB,MAAMoP,UAAW1Q,GAAM,MAEpD,EAAK5C,MAAMwT,UAAUtO,KAAI,SAAAtC,GAC1B,mBAAwB,EAAKsB,MAAMoP,UAAW1Q,GAAM,MAEnD,EAAK5C,MAAMyT,IAAIvO,KAAI,SAAAtC,GAAQ,mBAAkB,EAAKsB,MAAMoP,UAA7B,QAIlC,EAAAO,kBAAoB,WAClB,EAAK7T,MAAM8T,SAAS,EAAK7H,WAG3B,EAAA8H,4BAA8B,WAC5B,EAAK/T,MAAM8T,SAAS,eAGtB,EAAAE,2BAA6B,WAC3B,EAAKhU,MAAM8T,SAAS,cAGtB,EAAAG,qCAAuC,WACrC,EAAKjU,MAAM8T,SAAS,wBAGtB,EAAAI,YAAc,W,MACZ,EAAKlU,MAAM4B,WAAQ,MAChB,EAAKqK,UAAW,GACjB,EAAAsH,WAAY,GACZ,EAAAC,UAAW,GACX,EAAAC,IAAK,GACL,EAAAC,oBAAqB,GACrB,KAGJ,EAAAS,gBAAkB,SAACC,EAAkBC,EAAmBC,G,QAChDjQ,EAAQ,EAAKrE,MAAMoU,GACzB,GAAIE,EAAU,CACZ,IAAMzW,EAAW,IACfwG,EAAMvG,SAASuW,GAAa,IAAQhQ,EAAOgQ,GAAY,EAAKhQ,EAAK,CAAEgQ,KAErE,EAAKrU,MAAM4B,WAAQ,MAAIwS,GAAOvW,EAAQ,SAEtC,EAAKmC,MAAM4B,WAAQ,MAChBwS,GAAO/P,EAAMvG,SAASuW,IAAchQ,EAAME,OAAS,EAAI,GAAK,CAAC8P,GAC9D,KAIN,EAAAE,0BAA4B,SAACF,EAAmBC,GAC9C,EAAKH,gBAAgB,IAAiBK,YAAaH,EAAWC,IAGhE,EAAAG,yBAA2B,SAACJ,EAAmBC,GAC7C,EAAKH,gBAAgB,IAAiBO,WAAYL,EAAWC,IAG/D,EAAAK,mCAAqC,SAACN,EAAmBC,GACvD,EAAKH,gBAAgB,IAAiBS,YAAaP,EAAWC,IAGhE,EAAAO,gBAAkB,SAACzP,GACjB,OAAO0P,QAAQC,QAAQ,CACrBC,QAAS5W,OAAO6W,KAAK,EAAK/Q,MAAMoP,UAAUG,KAAKhO,QAAO,SAAAgO,GACpD,mBAAkB,EAAKvP,MAAMoP,UAAWG,GACrCyB,cACApX,SAASsH,EAAM8P,qBAKxB,EAAAC,yBAA2B,SAACC,GAClB,IAAAC,EAA0B,EAAKrV,MAAV,sBAC7B,OAAOqV,EACHA,EAAsB,MAAO,CAAE5B,IAAK2B,IACpCN,QAAQC,QAAQ,KAGtB,EAAAO,WAAa,SACXC,EACAC,EACAC,EACAxV,GAEA,IAAMyV,EAAQ,EAAK1V,MAAMuV,GACnBI,EAAS,EAAK3V,MAAMwV,GAC1B,IAAKE,EACH,OAAO,KAET,IAAMN,EAAa,IAAOhX,OAAO6W,KAAKS,IAAQ,SAAA/X,GAAO,OAAC+X,EAAD,MACrD,OAAO,EAAKE,qBAAqBF,EAAOC,EAAQP,EAAYK,EAAYA,EAAYxV,IAItF,EAAA2V,qBAAuB,SACrBF,EACAC,EACAP,EACAK,EACAI,EACA5V,GAEA,IAAKmV,EAAW7Q,OACd,OACE,uBAAK9D,UAAU,kDACZ,oBAAU,eAKjB,IAAMqV,EAAU,SAACC,GACf,OAAOL,EAAQA,EAAMK,QAAY9T,GAGnC,OACE,gBAAC,IAAc,KACZmT,EAAWlQ,KAAI,SAAA6Q,GAAY,OAC1B,gBAAC,IAAS,CACR9S,OAAQ0S,EAAO7X,SAASiY,GACxBpY,IAAKoY,EACLjQ,KAAM2P,EAAW,EAAKvR,MAAMoP,UAAWyC,GACvC9V,QAASA,EACT+V,KAAM,YAAgBF,EAAQC,IAC9B3V,QAASyV,EAAc,EAAK3R,MAAMoP,UAAWyC,GAC7C/W,MARwB,SAelC,EAAAiX,WAAa,SAACV,EAAsBC,GAClC,IAAME,EAAQ,EAAK1V,MAAMuV,IAAc,GACjCI,EAAS,EAAK3V,MAAMwV,GAC1B,OAAO,gBAAC,IAAqB,CAAC/T,QAASrD,OAAO6W,KAAKS,GAAOnR,OAAQoR,OAAQA,EAAOpR,U,EAyIrF,OAhU2C,OAOzC,YAAAK,kBAAA,WACE3G,KAAK0L,SAAU,GAIb1L,KAAK+B,MAAM6G,MACX5I,KAAK+B,MAAMuT,WAAWhP,OAAS,GAC/BtG,KAAK+B,MAAMyT,IAAIlP,OAAS,GACxBtG,KAAK+B,MAAMwT,UAAUjP,OAAS,GAC9BtG,KAAK+B,MAAM0T,oBAAoBnP,OAAS,IAExCtG,KAAK0V,iBAIT,YAAA9O,mBAAA,SAAmBC,IACZA,EAAU+B,MAAQ5I,KAAK+B,MAAM6G,MAChC5I,KAAK0V,iBAIT,YAAA5O,qBAAA,WACE9G,KAAK0L,SAAU,GA6JjB,YAAAuM,qBAAA,WACE,OAAOjY,KAAKqX,WACV,kBACA,IAAiBd,YACjB,IACAvW,KAAKsW,4BAIT,YAAA4B,qBAAA,WACE,OAAOlY,KAAKgY,WAAW,kBAAmB,IAAiBzB,cAG7D,YAAA4B,oBAAA,WACE,OAAOnY,KAAKqX,WACV,iBACA,IAAiBZ,WACjB,IACAzW,KAAKwW,2BAIT,YAAA4B,oBAAA,WACE,OAAOpY,KAAKgY,WAAW,iBAAkB,IAAiBvB,aAG5D,YAAA4B,8BAAA,WACE,OAAOrY,KAAKqX,WACV,2BACA,IAAiBV,YACjB,IACA3W,KAAK0W,qCAIT,YAAA4B,8BAAA,WACE,OAAOtY,KAAKgY,WAAW,2BAA4B,IAAiBrB,cAGtE,YAAA4B,gBAAA,sBACE,OACE,gCACE,gBAAC,IAAQ,CAAC/V,UAAU,WAAWwL,SAAU,IAAiB2I,aACxD,gBAAC,IAAW,CACV6B,SAAUxY,KAAK+B,MAAM0W,4BACrB5Q,KAAM,oBAAU,oCAChB7F,QAAShC,KAAKgW,qCACdpN,KAAM5I,KAAK+B,MAAM2W,wBACjBhB,OAAQ1X,KAAK+B,MAAM0T,oBAAoBxO,KAAI,SAAAtC,GACzC,mBAAkC,EAAKsB,MAAMoP,UAAW1Q,QAG3D3E,KAAK+B,MAAM2W,yBACV,gCACG1Y,KAAKqY,gCACLrY,KAAKsY,kCAIZ,gBAAC,IAAQ,CAAC9V,UAAU,WAAWwL,SAAU,IAAiBuI,aACxD,gBAAC,IAAW,CACViC,SAAUxY,KAAK+B,MAAM4W,mBACrB9Q,KAAM,oBAAU,2BAChB7F,QAAShC,KAAK8V,4BACdlN,KAAM5I,KAAK+B,MAAM6W,eACjBlB,OAAQ1X,KAAK+B,MAAMuT,WAAWrO,KAAI,SAAAtC,GAChC,mBAAyB,EAAKsB,MAAMoP,UAAW1Q,QAGlD3E,KAAK+B,MAAM6W,gBACV,gCACG5Y,KAAKiY,uBACLjY,KAAKkY,yBAIZ,gBAAC,IAAQ,CAAC1V,UAAU,WAAWwL,SAAU,IAAiByI,YACxD,gBAAC,IAAW,CACV+B,SAAUxY,KAAK+B,MAAM8W,kBACrBhR,KAAM,oBAAU,0BAChB7F,QAAShC,KAAK+V,2BACdnN,KAAM5I,KAAK+B,MAAM+W,cACjBpB,OAAQ1X,KAAK+B,MAAMwT,UAAUtO,KAAI,SAAAtC,GAC/B,mBAAwB,EAAKsB,MAAMoP,UAAW1Q,QAGjD3E,KAAK+B,MAAM+W,eACV,gCACG9Y,KAAKmY,sBACLnY,KAAKoY,wBAIZ,gBAAC,IAAc,CACb5V,UAAU,WACVuW,YAAa,oBAAU,oBACvBP,SAAUxY,KAAK+B,MAAMiX,YACrBC,iBAAkB,SAAAtU,GAAQ,mBAAkB,EAAKsB,MAAMoP,UAA7B,IAC1B6D,mBAAoB,SAAAvU,GAAQ,OAAAA,GAC5BwU,oBAAqB,SAAAxU,GAAQ,mBAAkB,EAAKsB,MAAMoP,UAA7B,IAC7B+B,sBAAuBpX,KAAKkX,yBAC5BvT,SAAU3D,KAAK+B,MAAM4B,SACrBiI,SAAU5L,KAAK4W,gBACff,SAAU7V,KAAK+B,MAAM8T,SACrBjN,KAAM5I,KAAK+B,MAAMqX,QACjBpL,SAAU,IAAiBqL,IAC3BlS,MAAO,IAAKnH,KAAK+B,MAAMoF,MAAO,OAC9BmS,gBAAiB,SAAA3U,GAAQ,mBAAkB,EAAKsB,MAAMoP,UAA7B,IACzBkE,mBAAoB,SAAC5U,EAAMwC,GACzB,+BAAc,YAAkB,EAAKlB,MAAMoP,UAAW1Q,GAAOwC,IAE/DqS,kBAAmB,oBAAU,yBAC7B/B,MAAOzX,KAAK+B,MAAM0X,SAClB/B,OAAQ1X,KAAK+B,MAAMyT,QAM3B,YAAAvT,OAAA,WACE,OACE,gBAAC,IAAQ,CAAC+L,SAAUhO,KAAKgO,UACvB,gBAAC,IAAW,CACVnG,KAAM,oBAAU,eAAgB7H,KAAKgO,UACrC0L,QAAS1Z,KAAKiW,YACdjU,QAAShC,KAAK4V,kBACdhN,KAAM5I,KAAK+B,MAAM6G,KACjB8O,OAAQ1X,KAAK2V,cAGd3V,KAAK+B,MAAM6G,MAAQ5I,KAAKuY,oBAIjC,EAhUA,CAA2C,iB,4BCvE3C,IAAIpV,EAAM,EAAQ,KACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQd,QAAUc,KAG/CA,EAAU,CAAC,CAACE,EAAOC,EAAIH,EAAS,MAG9C,IAAII,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSN,EAAIC,EAASI,GAEXJ,EAAQM,OAASN,EAAQM,OAAS,IAIjDJ,EAAOxC,QAAU2C,G,sBClBjB3C,EADkC,EAAQ,IAChCgU,EAA4B,IAE9BC,KAAK,CAACzR,EAAOC,EAAI,2PAA4P,KAErRD,EAAOxC,QAAUA,G,kCCNjB,gEA8Bc,SAAU6Y,EAAY,G,IAAEnX,EAAS,YAAEoX,EAAO,UAAEzI,EAAK,QAAE0I,EAAK,QACpE,OACE,uBAAKrX,UAAW,EAAW,uBAAwBA,IACjD,0BAAQA,UAAU,4BACHwB,IAAZ4V,GAAyB,wBAAcA,EAAU,EAAG,OAAS,MAC9D,wBAAMpX,UAAU,yBAAyB,wBAAcqX,EAAO,SAE/D1I,K,kCCrCP,yEA4Bc,SAAU2I,EAAW/X,GACjC,OACE,wBAAMS,UAAWT,EAAMS,WACrB,gBAAC,IAAa,CAACA,UAAU,sBAAsB2E,MAAOpF,EAAM0E,OAC3D,oBAAU,aAAc1E,EAAM0E,S,qBChCrC,IAAItD,EAAM,EAAQ,KACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQd,QAAUc,KAG/CA,EAAU,CAAC,CAACE,EAAOC,EAAIH,EAAS,MAG9C,IAAII,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSN,EAAIC,EAASI,GAEXJ,EAAQM,OAASN,EAAQM,OAAS,IAIjDJ,EAAOxC,QAAU2C,G,sBClBjB3C,EADkC,EAAQ,IAChCgU,EAA4B,IAE9BC,KAAK,CAACzR,EAAOC,EAAI,2FAA4F,KAErHD,EAAOxC,QAAUA,G,kCCNjB,+DAuBc,SAAUiZ,IACtB,OACE,uBAAKvX,UAAU,gBACb,0BAAK,oBAAU,sBACf,qBAAGA,UAAU,kBAAkB,oBAAU,2B,sBCzB/C1B,EADkC,EAAQ,IAChCgU,EAA4B,IAE9BC,KAAK,CAACzR,EAAOC,EAAI,wGAAyG,KAElID,EAAOxC,QAAUA,G,qBCNjB,IAAIkZ,EAAe,EAAQ,KACvBC,EAAS,EAAQ,KACjBC,EAAW,EAAQ,KA0BvB5W,EAAOxC,QANP,SAAaqZ,GACX,OAAQA,GAASA,EAAM7T,OACnB0T,EAAaG,EAAOD,EAAUD,QAC9BjW,I,kCCxBN,IACQlE,EADJC,EAAaC,MAAQA,KAAKD,YACtBD,EAAgB,SAAUG,EAAGC,GAI7B,OAHAJ,EAAgBK,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,IAErB,SAAUD,EAAGC,GAEhB,SAASO,IAAOT,KAAKU,YAAcT,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEU,UAAkB,OAANT,EAAaC,OAAOS,OAAOV,IAAMO,EAAGE,UAAYT,EAAES,UAAW,IAAIF,KAGvFN,OAAOU,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,EAAa,EAAQ,KACrBC,EAAQ,EAAQ,IAChBC,EAAS,EAAQ,KACjBC,EAAU,EAAQ,KAClBC,EAAY,EAAQ,KACpBgZ,EAAc,SAAU9Y,GAExB,SAAS8Y,IACL,IAAI7Y,EAAmB,OAAXD,GAAmBA,EAAOE,MAAMxB,KAAMyB,YAAczB,KAUhE,OATAuB,EAAMG,YAAc,SAAUC,GAC1BA,EAAMC,iBACND,EAAME,cAAcC,OACfP,EAAMQ,MAAM0I,UACblJ,EAAMQ,MAAMC,WAGpBT,EAAM8Y,WAAa,WAAc,OAAQpZ,EAAMoB,cAAclB,EAAQuB,cAAe,MAAM,SAAUC,GAAS,OAAQ1B,EAAMoB,cAAc,MAAO,CAAEO,OAAQ,KAAMC,QAAS,YAAaC,MAAO,MACzL7B,EAAMoB,cAAc,OAAQ,CAAEpC,EAAG,ynBAA0nB8C,KAAMxB,EAAMQ,MAAM0I,SAAW9H,EAAMK,OAAOsX,gBAAkB3X,EAAMK,OAAOC,uBACjuB1B,EAOX,OAnBAxB,EAAUqa,EAAY9Y,GActB8Y,EAAWzZ,UAAUsB,OAAS,WAC1B,IAAIC,EAAKlC,KAAK+B,MAAMI,QAASA,OAAiB,IAAPD,EAAgBhB,EAAOkB,UAAU,yBAA2BF,EACnG,OAAQjB,EAAMoB,cAAcjB,EAAUkB,QAAS,CAAEC,QAASJ,GACtDlB,EAAMoB,cAAc,IAAK,CAAEG,UAAWxB,EAAW,oBAAqB,CAAE,qBAAsBhB,KAAK+B,MAAM0I,UAAYzK,KAAK+B,MAAMS,WAAYC,KAAM,IAAKT,QAAShC,KAAK0B,aAAe1B,KAAKqa,gBAE1LD,EApBM,CAqBfnZ,EAAMiC,eACRpC,EAAQwB,QAAU8X,G,kCCzClB,IACQta,EADJC,EAAaC,MAAQA,KAAKD,YACtBD,EAAgB,SAAUG,EAAGC,GAI7B,OAHAJ,EAAgBK,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,IAErB,SAAUD,EAAGC,GAEhB,SAASO,IAAOT,KAAKU,YAAcT,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEU,UAAkB,OAANT,EAAaC,OAAOS,OAAOV,IAAMO,EAAGE,UAAYT,EAAES,UAAW,IAAIF,KAGvFN,OAAOU,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIwZ,EAAa,EAAQ,KACrBC,EAAa,EAAQ,KACrBvZ,EAAQ,EAAQ,IAChBG,EAAY,EAAQ,KACxB,EAAQ,MACR,IAAIqZ,EAAY,SAAUnZ,GAEtB,SAASmZ,IACL,IAAIlZ,EAAmB,OAAXD,GAAmBA,EAAOE,MAAMxB,KAAMyB,YAAczB,KA8ChE,OA7CAuB,EAAMG,YAAc,SAAUgZ,GACtBnZ,EAAMQ,MAAM4Y,YACZpZ,EAAMQ,MAAM4Y,WAAWD,IAG/BnZ,EAAMqZ,aAAe,SAAUC,EAAQC,GACnC,IAAI5Y,EAAKX,EAAMQ,MAAOgZ,EAAO7Y,EAAG6Y,KAAMC,EAAK9Y,EAAG+Y,OAAQA,OAAgB,IAAPD,EAAgB,GAAKA,EACpF,IAAKC,EAAO3U,OACR,OAAO,KAEX,IAAI4U,EAAQD,EAAOhU,KAAI,SAAUkU,EAAMC,GACnC,IAAIV,EAAQK,EAAKK,GACbC,EAAIxP,KAAKyP,MAAMT,EAAOH,EAAMW,GAAKR,EAAOU,YAAc,GACtDC,EAAIV,EAAOW,QAAQ,GACnBxb,EAAI8a,EAAKK,GACTxQ,EAAQ3J,EAAMoB,cAAc,OAAQ,CAAEG,UAAW,iBAAkBkZ,GAAI,QAAShc,IAAK0b,EAAOpZ,QAAS,WAAc,OAAOT,EAAMG,YAAYgZ,IAAWlS,MAAO,CAAEmT,OAAQpa,EAAMQ,MAAM4Y,WAAa,UAAY,WAAaU,EAAGA,EAAGG,EAAGA,GAAKL,GAC5O,OAAQla,EAAMoB,cAAcjB,EAAUkB,QAAS,CAAE5C,IAAK0b,EAAO7Y,QAAStC,EAAEkC,cAAW6B,GAAa4G,MAEpG,OAAO3J,EAAMoB,cAAc,IAAK,KAAM6Y,IAE1C3Z,EAAMqa,cAAgB,SAAUf,EAAQC,GACpC,IAAI5Y,EAAKX,EAAMQ,MAAOgZ,EAAO7Y,EAAG6Y,KAAMC,EAAK9Y,EAAG2Z,QAASA,OAAiB,IAAPb,EAAgB,GAAKA,EACtF,IAAKa,EAAQvV,OACT,OAAO,KAEX,IAAI4U,EAAQW,EAAQ5U,KAAI,SAAUlG,EAAOqa,GACrC,IAAIV,EAAQK,EAAKK,GACbC,EAAIxP,KAAKyP,MAAMT,EAAOH,EAAMW,GAAKR,EAAOU,YAAc,GACtDC,EAAIV,EAAOJ,EAAMc,GACjB5Q,EAAQ3J,EAAMoB,cAAc,OAAQ,CAAEG,UAAW,iBAAkBkZ,GAAI,OAAQhc,IAAK0b,EAAOpZ,QAAS,WAAc,OAAOT,EAAMG,YAAYgZ,IAAWlS,MAAO,CAAEmT,OAAQpa,EAAMQ,MAAM4Y,WAAa,UAAY,WAAaU,EAAGA,EAAGG,EAAGA,GAAKza,GAC3O,OAAQE,EAAMoB,cAAcjB,EAAUkB,QAAS,CAAE5C,IAAK0b,EAAO7Y,QAASmY,EAAMvY,cAAW6B,GAAa4G,MAExG,OAAO3J,EAAMoB,cAAc,IAAK,KAAM6Y,IAE1C3Z,EAAMua,WAAa,SAAUjB,EAAQC,GACjC,IAAIiB,EAAOxa,EAAMQ,MAAMgZ,KAAK9T,KAAI,SAAUyT,EAAOU,GAC7C,IAAIC,EAAIxP,KAAKyP,MAAMT,EAAOH,EAAMW,IAC5BW,EAAOlB,EAAOW,QAAQ,GACtBD,EAAI3P,KAAKyP,MAAMR,EAAOJ,EAAMc,IAAM,EAClC5Y,EAASoZ,EAAOR,EAChBS,EAAQhb,EAAMoB,cAAc,OAAQ,CAAEG,UAAW,gBAAiBI,OAAQA,EAAQlD,IAAK0b,EAAOpZ,QAAS,WAAc,OAAOT,EAAMG,YAAYgZ,IAAWlS,MAAO,CAAEmT,OAAQpa,EAAMQ,MAAM4Y,WAAa,UAAY,WAAa7X,MAAOvB,EAAMQ,MAAMma,UAAWb,EAAGA,EAAGG,EAAGA,IACvQ,OAAQva,EAAMoB,cAAcjB,EAAUkB,QAAS,CAAE5C,IAAK0b,EAAO7Y,QAASmY,EAAMvY,cAAW6B,GAAaiY,MAExG,OAAOhb,EAAMoB,cAAc,IAAK,KAAM0Z,IAEnCxa,EAoBX,OApEAxB,EAAU0a,EAAUnZ,GAkDpBmZ,EAAS9Z,UAAUsB,OAAS,WACxB,IAAIC,EAAKlC,KAAK+B,MAAOma,EAAYha,EAAGga,UAAWnB,EAAO7Y,EAAG6Y,KAAMjY,EAAQZ,EAAGY,MAAOF,EAASV,EAAGU,OAAQoY,EAAK9Y,EAAGia,QAASA,OAAiB,IAAPnB,EAAgB,CAAC,GAAI,GAAI,GAAI,IAAMA,EAC/JoB,EAAiBtZ,EAAQqZ,EAAQ,GAAKA,EAAQ,GAC9CE,EAAkBzZ,EAASuZ,EAAQ,GAAKA,EAAQ,GAChDG,GAAgBF,EAAiBF,EAAYnB,EAAKzU,SAAWyU,EAAKzU,OAAS,GAC3EiW,EAAuBD,GAAgBA,EAAeJ,GACtDF,EAAOzB,EAAWiC,IAAIzB,GAAM,SAAU9a,GAAK,OAAOA,EAAEub,KACpDX,EAASL,EAAWiC,YACnBC,OAAO3B,EAAK9T,KAAI,SAAUhH,GAAK,OAAOA,EAAEob,MACxCI,MAAM,CAAC,EAAGW,IACVO,aAAaJ,GACdzB,EAASN,EAAWoC,cAAcF,OAAO,CAAC,EAAGV,IAAOP,MAAM,CAACY,EAAiB,IAChF,OAAQpb,EAAMoB,cAAc,MAAO,CAAEG,UAAW,YAAaI,OAAQA,EAAQE,MAAOA,GAChF7B,EAAMoB,cAAc,IAAK,CAAEwa,UAAW,aAAeV,EAAQ,GAAK,KAAOA,EAAQ,GAAK,KAClFnc,KAAK4a,aAAaC,EAAQC,GAC1B9a,KAAK4b,cAAcf,EAAQC,GAC3B9a,KAAK8b,WAAWjB,EAAQC,MAE7BL,EArEI,CAsEbxZ,EAAMiC,eACRpC,EAAQwB,QAAUmY,G,qBC3FlB,IAAItX,EAAM,EAAQ,KACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQd,QAAUc,KAG/CA,EAAU,CAAC,CAACE,EAAOC,EAAIH,EAAS,MAG9C,IAAII,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSN,EAAIC,EAASI,GAEXJ,EAAQM,OAASN,EAAQM,OAAS,IAIjDJ,EAAOxC,QAAU2C,G,sBClBjB3C,EADkC,EAAQ,IAChCgU,EAA4B,IAE9BC,KAAK,CAACzR,EAAOC,EAAI,i1JAAw1J,KAEj3JD,EAAOxC,QAAUA,G,+VCeX,SAAUgc,EAAyB7W,GAC/B,IAAA8W,EAAqC9W,EAA5B,UAAE+W,EAA0B/W,EAAL,sBACxC,OAAI8W,IAAcA,EAAU/K,mBAAmB1L,OAAS,GAAKyW,EAAU9K,MAAM3L,OAAS,GAI7E,CACL2W,oBAAoB,EACpBC,kBAJAjX,EAAMiX,oBAAsBH,EAAU9K,MAAM3L,OAAS,EAAI,OAAItC,GAM7DgZ,uBACGA,GAAyBA,EAAwB,EAAI,EAAIA,GAGzD,KAGH,SAAUG,IACd,MAAO,CAAEF,oBAAoB,GAqBzB,SAAUG,EACdnX,GAEQ,IAAAiX,EAA+DjX,EAA9C,kBAAyBmV,EAAqBnV,EAAhB,sBAAE8W,EAAc9W,EAAL,UAClE,GAAI8W,EAAW,CACb,IAIMM,QAHkBrZ,IAAtBkZ,EACIH,EAAU9K,MAAMiL,GAChBH,EAAU/K,oBACkB1L,OAAS,EAC3C,OAAI8U,IAAUiC,EAEL,CAAEL,uBAAwB,GAE5B,CACLA,2BAAiChZ,IAAVoX,GAAuBA,EAAQiC,EAAkBjC,EAAQ,EAAIA,GAGxF,OAAO,KAGH,SAAUkC,EAAuBrX,GAC7B,IAAAiX,EAA+DjX,EAA9C,kBAAyBmV,EAAqBnV,EAAhB,sBAAE8W,EAAc9W,EAAL,UAClE,OAAI8W,GACa,IAAX3B,EAMK,CAAE4B,4BAJehZ,IAAtBkZ,EACIH,EAAU9K,MAAMiL,GAChBH,EAAU/K,oBACkB1L,OAAS,GAGtC,CAAE0W,2BAAiChZ,IAAVoX,GAAuBA,EAAQ,EAAIA,EAAQ,EAAIA,GAE1E,KASH,SAAUmC,EAAetX,GACrB,IAAA8W,EAAiC9W,EAAxB,UAAEiX,EAAsBjX,EAAL,kBACpC,OACE8W,QACsB/Y,IAAtBkZ,GACAH,EAAU9K,MAAM3L,OAAS4W,EAAoB,EAEtC,CAAEA,kBAAmBA,EAAoB,EAAGF,sBAAuB,GAErE,KAGH,SAAUQ,EAAmBvX,GACzB,IAAA8W,EAAiC9W,EAAxB,UAAEiX,EAAsBjX,EAAL,kBACpC,OAAI8W,QAAmC/Y,IAAtBkZ,GAAmCA,EAAoB,EAC/D,CAAEA,kBAAmBA,EAAoB,EAAGF,sBAAuB,GAErE,K,gCC9FK,SAAUS,EAAoC,G,IAAEtZ,EAAK,QACjE,IAAKA,IAAWA,EAAM6N,mBAAmB1L,SAAWnC,EAAM8N,MAAM3L,OAC9D,OAAO,KAET,IAAMoX,EAAkBvZ,EAAM8N,MAAM3L,OAAS,EAC7C,OACE,uBAAK9D,UAAU,4DACb,4B,aACakb,GAAmB,sCAC7B,oBAAU,wC,wCCJL,SAAUC,EAA0B5b,GAChD,OACE,gBAAC,IAAO,CACN6b,gBAAiB,GACjBrb,QAAS,kCACP,6CACA,wBAAcR,EAAMiF,MAAO,SAE7B,gBAACsL,EAAA,EAAa,CAACtQ,QAASD,EAAMC,QAAS+R,SAAUhS,EAAMgS,UACpD,IACAhS,EAAMiF,Q,kVCNf,uE,OACE,EAAAf,MAAe,CAAE4X,WAAW,GAE5B,EAAAC,kBAAoB,WAClB,EAAKhY,SAAS,CAAE+X,WAAW,K,EAkD/B,OAtDmD,OAOjD,YAAAE,mBAAA,WACE,OACE,gBAAC,SAAM,CACLvb,UAAU,wDACVR,QAAShC,KAAK8d,mBAAiB,QAMrC,YAAA7b,OAAA,sBACQ,EAAgCjC,KAAK+B,MAAMoC,MAAzC6N,EAAkB,qBAAEC,EAAK,QAE3B+L,EAAwB,GAuB9B,OArBIhM,EAAmB1L,OAAS,GAC9B0X,EAAOjJ,KACL,gBAAC4I,EAAyB,CACxB3W,MAAOgL,EAAmB1L,OAC1B5G,IAAI,KACJqU,UAAW/T,KAAK+B,MAAMmb,qBAK5BjL,EAAMgM,SAAQ,SAACC,EAAM9C,GACnB4C,EAAOjJ,KACL,gBAAC4I,EAAyB,CACxB3W,MAAOkX,EAAK5X,OACZ5G,IAAK0b,EACLpZ,QAAS,WAAM,SAAKD,MAAMoc,aAAX,IACfpK,SAAUqH,IAAU,EAAKrZ,MAAMmb,yBAKhCld,KAAKiG,MAAM4X,WAAaG,EAAO1X,QA7C1B,EA8CD0X,EAIP,gCACGA,EAAOI,MAAM,EAAGC,GAChBre,KAAK+d,uBAId,EAtDA,CAAmD,iB,+YCJnD,uE,OAeE,EAAArc,YAAc,SAACC,GACbA,EAAMC,iBACN,EAAKG,MAAMC,QAAQ,EAAKD,MAAMqZ,Q,EAkBlC,OAnCoE,QAGlE,YAAAzU,kBAAA,WACM3G,KAAK+B,MAAMgS,UAAY/T,KAAKoU,MAC9BpU,KAAK+B,MAAMuc,OAAOte,KAAKoU,OAI3B,YAAAxN,mBAAA,SAAmBC,GACb7G,KAAK+B,MAAMgS,UAAYlN,EAAUkN,WAAa/T,KAAK+B,MAAMgS,UAAY/T,KAAKoU,MAC5EpU,KAAK+B,MAAMuc,OAAOte,KAAKoU,OAS3B,YAAAnS,OAAA,sBACQ,EAA+BjC,KAAK+B,MAAlCqZ,EAAK,QAAE5b,EAAO,UAAEuU,EAAQ,WAEhC,OACE,uBAAKvR,UAAU,oBAAoB+b,IAAK,SAAAnK,GAAQ,OAAC,EAAKA,KAAN,IAC9C,qBACE5R,UAAU,6CACVC,KAAK,IACLT,QAAShC,KAAK0B,aACd,gBAAC4Q,EAAA,EAAa,CAACyB,SAAUA,GAAWqH,EAAQ,GAC5C,gBAACpG,GAAA,EAAe,CAACjB,SAAUA,GAAWvU,MAKhD,EAnCA,CAAoE,iB,+WCcpE,uE,OACE,EAAAyG,MAAe,CAAE4X,WAAW,GAmB5B,EAAAW,yBAA2B,SAAC7c,GAC1BA,EAAMC,iBACND,EAAME,cAAcC,OACpB,EAAKgE,SAAS,CAAE+X,WAAW,KAG7B,EAAAY,YAAc,SAACrM,GAQb,IAPA,IAGIsM,EACAC,EAJEC,EAA0B,GAE5BC,EAAqC,GAGrCC,EAA4B,EAEvB1D,EAAQ,EAAGA,EAAQhJ,EAAU9L,OAAQ8U,IAAS,CACrD,IAAM2D,EAAW3M,EAAUgJ,GACvB2D,EAASC,YAAcN,EACzBG,EAAiB9J,KAAKgK,IAElBF,EAAiBvY,OAAS,GAC5BsY,EAAO7J,KAAK,CACViK,UAAWN,EACXO,cAAeN,EACfO,mBAAoBJ,EACpB1M,UAAWyM,IAGfA,EAAmB,CAACE,GACpBL,EAAmBK,EAASC,UAC5BL,EAAuBI,EAASE,cAChCH,EAA4B1D,GAahC,OATIyD,EAAiBvY,OAAS,GAC5BsY,EAAO7J,KAAK,CACViK,UAAWN,EACXO,cAAeN,EACfO,mBAAoBJ,EACpB1M,UAAWyM,IAIRD,GAGT,EAAAO,eAAiB,SAAC/D,EAAe5b,GAC/B,OACE,gBAAC,GAAsC,CACrC4b,MAAOA,EACP1b,IAAK0b,EACL5b,QAASA,EACTwC,QAAS,EAAKD,MAAMqd,iBACpBd,OAAQ,EAAKvc,MAAMuc,OACnBvK,SAAUqH,IAAU,EAAKrZ,MAAMib,yBAKrC,EAAAqC,YAAc,SACZC,EACAC,EACA,G,IAAA,aAA0C,GAAE,EAA1C,IAAAC,iBAAS,IAAG,GAAK,EAAE,IAAAC,gBAAQ,IAAG,GAAK,EAE7BP,EAAuBI,EAAL,mBACpBI,EAAoBJ,EAAMlN,UAAU9L,OAAS,EACnD,OACE,uBAAK9D,UAAU,yCAAyC9C,IAAK6f,GAC3D,uBAAK/c,UAAU,+BACb,qBAAGA,UAAU,2DACZ,wBAAa8c,EAAML,eAAiB,GA5FvB,KA8FfK,EAAMlN,UAAU9L,OAAS,GACxB,uBAAK9D,UAAU,yCACZgd,GAAa,EAAKL,eAAeD,EAAoBI,EAAMlN,UAAU,GAAGuN,KAExEF,GACC,EAAKN,eACHD,EAAqBQ,EACrBJ,EAAMlN,UAAUsN,GAAmBC,MAGrCH,IACCC,GACDH,EAAMlN,UAAUnL,KAAI,SAAC8X,EAAU3D,GAC7B,SAAK+D,eAAeD,EAAqB9D,EAAO2D,EAASY,W,EAwCzE,OAjJyD,QAGvD,YAAAC,0BAAA,SAA0BjL,GACpBA,EAAUxQ,MAAMzE,MAAQM,KAAK+B,MAAMoC,MAAMzE,KAC3CM,KAAK8F,SAAS,CAAE+X,WAAW,IAIrB,IAAWgC,EAAkBlL,EAAL,UAE9BA,EAAUqI,uBACVrI,EAAUqI,sBAAwB,QAChBhZ,IAAlB6b,GACAlL,EAAUqI,sBAAwB6C,EAAcvZ,OAAS,GAEzDtG,KAAK8F,SAAS,CAAE+X,WAAW,KAiG/B,YAAA5b,OAAA,sBACUmQ,EAAcpS,KAAK+B,MAAV,UACX6c,EAAS5e,KAAKye,YAAYrM,GAEhC,GAAIA,EAAU9L,OAAS,GAAKsY,EAAOtY,OAAS,GAAKtG,KAAKiG,MAAM4X,UAAW,CACrE,IAAMiC,EAAalB,EAAO,GACpBmB,EAAYnB,EAAOA,EAAOtY,OAAS,GACzC,OACE,uBAAK9D,UAAU,gDACZxC,KAAKqf,YAAYS,EAAY,EAAG,CAAEN,WAAW,IAC9C,uBAAKhd,UAAU,0CACb,uBAAKA,UAAU,+BACb,qBAAGA,UAAU,oEACb,qBACEA,UAAU,mCACVC,KAAK,IACLT,QAAShC,KAAKwe,0BACb,kCAAwB,0BAA2BpM,EAAU9L,OAAS,MAI5EtG,KAAKqf,YAAYU,EAAWnB,EAAOtY,OAAS,EAAG,CAAEmZ,UAAU,KAIhE,OACE,uBAAKjd,UAAU,gDACZoc,EAAO3X,KAAI,SAACqY,EAAOC,GAAe,SAAKF,YAAYC,EAAjB,QAK7C,EAjJA,CAAyD,iB,8hBCZzD,yB,+CAyCA,OAzC4D,QAC1D,YAAArd,OAAA,sBACQmQ,EAAY,aAAapS,KAAK+B,MAAMoC,MAAOnE,KAAK+B,MAAMmb,mBAE5D,IAAK9K,GAAkC,IAArBA,EAAU9L,QAAgB8L,EAAU4N,OAAM,SAAAjB,GAAY,OAACA,EAAD,OACtE,OAAO,KAGT,IAAMkB,EAAqB,GAAH,CACtBjgB,KAAK+B,MAAMoC,MAAM6a,WACd5M,EAAUnL,KAAI,SAAA8X,GAAY,OAAAA,EAAA,cAI/B,OAFoB,KAAKkB,GAAoB3Z,OAAS,EAIlD,gBAAC,GAA2B,CAC1BnC,MAAOnE,KAAK+B,MAAMoC,MAClBiO,UAAWA,EACXgN,iBAAkBpf,KAAK+B,MAAMqd,iBAC7Bd,OAAQte,KAAK+B,MAAMuc,OACnBtB,sBAAuBhd,KAAK+B,MAAMib,wBAKpC,uBAAKxa,UAAU,gDACZ4P,EAAUnL,KAAI,SAAC8X,EAAU3D,GAAU,OAClC,gBAAC,GAAsC,CACrCA,MAAOA,EACP1b,IAAK0b,EACL5b,QAASuf,EAASY,IAClB3d,QAAS,EAAKD,MAAMqd,iBACpBd,OAAQ,EAAKvc,MAAMuc,OACnBvK,SAAUqH,IAAU,EAAKrZ,MAPO,6BAc9C,EAzCA,CAA4D,iB,sjBCI5D,uE,OAgBE,EAAAL,YAAc,SAACC,GACbA,EAAMC,iBACN,EAAKG,MAAMC,QAAQ,EAAKD,MAAMoC,MAAMzE,MAGtC,EAAAwgB,aAAe,WACL,IAAAhD,EAAsB,EAAKnb,MAAV,kBACnB,EAAgC,EAAKA,MAAMoC,MAAzC8N,EAAK,QAAED,EAAkB,qBAE3BI,EAAYH,EAAM3L,OAAS,EAAI2L,EAAMiL,GAAqB,GAAKlL,GAEhEI,GAAaA,EAAU9L,OAAS,GAG/B,EAAK6Z,aACP,EAAKpe,MAAMuc,OAAO,EAAK6B,aAEhB,EAAKC,gBAEd,EAAKre,MAAMuc,OAAO,EAAK8B,eAAgBC,OAAOC,YAAc,M,EAiDlE,OApF6C,QAI3C,YAAA3Z,kBAAA,WACM3G,KAAK+B,MAAMgS,UACb/T,KAAKkgB,gBAIT,YAAAtZ,mBAAA,SAAmBC,GACb7G,KAAK+B,MAAMgS,UAAYlN,EAAUkN,WAAa/T,KAAK+B,MAAMgS,UAC3D/T,KAAKkgB,gBA2BT,YAAAje,OAAA,sBACQ,EAAsBjC,KAAK+B,MAAzBoC,EAAK,QAAE4P,EAAQ,WAEjBwM,EAAsBxM,EACxB,GACA,CAAE/R,QAAShC,KAAK0B,YAAasS,KAAM,WAAYC,SAAU,GAEvDuM,EAAuBzM,EACzB,CAAE/R,QAAShC,KAAK0B,YAAasS,KAAM,WAAYC,SAAU,GACzD,GAEJ,OACE,0BACEzR,UAAW,EAAW,oBAAqB,WAAY,CAAEuR,SAAQ,IACjEwK,IAAK,SAAAnK,GAAQ,OAAC,EAAK+L,YAAN,IACTI,GACJ,0BACE/d,UAAU,6BACNge,EAAoB,CACxBjC,IAAK,SAAAnK,GAAQ,OAAC,EAAKgM,eAAN,KACZjc,EAAM3E,SAET,uBAAKgD,UAAU,gCACb,gBAACsX,EAAA,EAAU,CAACtX,UAAU,oCAAoCiE,KAAMtC,EAAMsC,OACtE,gBAAC,EAAqB,CACpBtC,MAAOA,EACPga,aAAcne,KAAK+B,MAAMoc,aACzBjB,kBAAmBld,KAAK+B,MAAMmb,qBAGjCnJ,GACC,gCACE,gBAAC,GAA8B,CAC7B5P,MAAOA,EACPib,iBAAkBpf,KAAK+B,MAAMqd,iBAC7Bd,OAAQte,KAAK+B,MAAMuc,OACnBpB,kBAAmBld,KAAK+B,MAAMmb,kBAC9BF,sBAAuBhd,KAAK+B,MAAMib,wBAEpC,gBAACS,EAAmC,CAACtZ,MAAOA,OAMxD,EApFA,CAA6C,iBCZ/B,SAAUsc,GAAsB,G,IAAEC,EAAI,OAClD,OACE,uBAAKle,UAAU,6CAA6C2C,MAAOub,GAChEA,G,yWCOP,yB,+CAsBA,OAtB0C,QACxC,YAAAze,OAAA,WACQ,MAAqCjC,KAAK+B,MAAxCoC,EAAK,QAAEwc,EAAa,gBAAE5M,EAAQ,WAEhC6M,GAAoBD,GAAiBA,EAAc3B,YAAc7a,EAAM6a,UAE7E,OACE,2BACG4B,GAAoB,gBAACH,GAAqB,CAACC,KAAMvc,EAAMwN,oBACxD,gBAAC,GAAe,CACdxN,MAAOA,EACPnC,QAAShC,KAAK+B,MAAM2C,SACpByZ,aAAcne,KAAK+B,MAAMoc,aACzBiB,iBAAkBpf,KAAK+B,MAAMqd,iBAC7Bd,OAAQte,KAAK+B,MAAMuc,OACnBvK,SAAUA,EACVmJ,kBAAmBnJ,EAAW/T,KAAK+B,MAAMmb,uBAAoBlZ,EAC7DgZ,sBAAuBjJ,EAAW/T,KAAK+B,MAAMib,2BAAwBhZ,MAK/E,EAtBA,CAA0C,iB,qWCF1C,uE,OACE,EAAAkc,aAAe,SAACW,EAAkBC,QAAA,IAAAA,MAAA,KAChC,IAAMC,EAAoBC,SAASC,cAAc,qBAC7CJ,GAAWE,GACb,0BAAgBF,EAAS,CAAEK,UAAW,IAAKJ,aAAY,EAAEK,OAAQJ,K,EAwBvE,OA5B+C,QAQ7C,YAAA9e,OAAA,sBACE,OACE,2BACGjC,KAAK+B,MAAM6Q,OAAO3L,KAAI,SAAC9C,EAAOiX,GAAU,OACvC,gBAAC,GAAY,CACXjX,MAAOA,EACPzE,IAAKyE,EAAMzE,IACXye,aAAc,EAAKpc,MAAMoc,aACzBiB,iBAAkB,EAAKrd,MAAMqd,iBAC7B1a,SAAU,EAAK3C,MAAMqf,cACrBT,cAAevF,EAAQ,EAAI,EAAKrZ,MAAM6Q,OAAOwI,EAAQ,QAAKpX,EAC1Dsa,OAAQ,EAAK4B,aACbnM,SAAU5P,EAAMzE,MAAQ,EAAKqC,MAAMgS,SACnCmJ,kBAAmB,EAAKnb,MAAMmb,kBAC9BF,sBAAuB,EAAKjb,MAXS,6BAiBjD,EA5BA,CAA+C,iB,uDCLjC,SAAUsf,GAActf,GACpC,OACE,gBAAC4X,GAAA,EAAW,CACVnX,UAAU,cACVoX,QAAS7X,EAAM6X,QACfzI,MAAO,oBAAU,iBACjB0I,MAAO9X,EAAM8X,QCDL,SAAUyH,GAAwBvf,GACtC,MAAoDA,EAA5B,kBAAxBwf,OAAiB,IAAG,GAAI,EAAEC,EAA0Bzf,EAApB,OAAE0f,EAAkB1f,EAAL,cAEvD,OACE,0BAAQS,UAAU,uDAChB,uBAAKA,UAAU,mEACZ+e,GACC,gBAAC,KAAU,CAAC/e,UAAU,YAAYiI,SAAU1I,EAAM2f,QAAS1f,QAASD,EAAM4f,cAE3E5f,EAAM2f,QACL,qBAAGlf,UAAU,uBAEb,gBAAC,KAAY,CAACA,UAAU,aAAaR,QAASD,EAAM6f,WAErDJ,GAAU,gBAACH,GAAa,CAACzH,QAAS6H,EAAe5H,MAAO2H,EAAO3H,U,6nBCLxE,uE,OACE,EAAAgI,aAAe,SAAC1a,EAAe2a,GAC7B,OAAO,aAAgB3a,EAAO2a,IAGhC,EAAA5L,gBAAkB,SAACE,EAAmBC,GAC5B,IAAA0L,EAAc,EAAKhgB,MAAV,UACjB,GAAkB,KAAdqU,EAEF,EAAKrU,MAAM4B,SAAS,CAAEqe,UAAW,EAAKjgB,MAAMigB,SAAUD,UAAW,UAC5D,GAAI1L,EAAU,CACnB,IAAMzW,EAAW,KACfmiB,EAAUliB,SAASuW,GAAa,IAAQ2L,EAAW3L,GAAY,GAAK2L,EAAS,CAAE3L,KAEjF,EAAKrU,MAAM4B,SAAS,CAAEqe,UAAU,EAAMD,UAAWniB,SAEjD,EAAKmC,MAAM4B,SAAS,CAClBqe,UAAU,EACVD,UAAWA,EAAUliB,SAASuW,IAAc2L,EAAUzb,OAAS,EAAI,GAAK,CAAC8P,MAK/E,EAAAH,YAAc,WACZ,EAAKlU,MAAM4B,SAAS,CAAEqe,UAAU,EAAMD,UAAW,MAGnD,EAAAE,gBAAkB,SAAChZ,GACjB,GAAiB,KAAbA,EACF,OAAO,oBAAU,cAEjB,IAAMd,EAAO,EAAKpG,MAAMmgB,gBAAgBjZ,GACxC,OAAKd,EAGE,aAAaA,GAAQA,EAAKN,KAAO,kCAAwB,iBAAkBM,EAAKT,OAF9EuB,GAMb,EAAAmO,sBAAwB,SAAC2K,GACvB,OAAO,EAAKhgB,MAAMqV,sBAAsB,YAAa,CACnD4K,cAAUhe,EACV+d,UAAWA,EAAU9a,KAAI,SAAAgC,GAAY,OAAAA,EAAA,YAIzC,EAAAkZ,eAAiB,WACP,MAAe,EAAKpgB,MAAV,MAAV0V,OAAK,IAAG,KAAE,EAClB,OAAO,KACLtX,OAAO6W,KAAKS,IAEZ,SAAA/X,GAAO,MAAS,KAARA,EAAa,EAAd,KAEP,SAAAA,GAAO,OAAC+X,EAAD,OAIX,EAAA6B,gBAAkB,SAACrQ,GACjB,GAAiB,KAAbA,EACF,OAAO,oBAAU,cAGnB,IAAMd,EAAO,EAAKpG,MAAMmgB,gBAAgBjZ,GAExC,IAAKd,EACH,OAAOc,EAGT,IAAMkH,EAAWhI,EAAKN,MAAQM,EAAKT,MAEnC,OACE,gCACE,gBAACU,GAAA,EAAM,CAAC5F,UAAU,sBAAsB6F,KAAMF,EAAKG,OAAQT,KAAMsI,EAAU5H,KAAM,KAChF,aAAaJ,GAAQgI,EAAW,kCAAwB,iBAAkBA,KAKjF,EAAAoJ,mBAAqB,SAAC6I,EAAoBjb,GACxC,IAAMoI,EAAc,aAAa6S,GAC7BA,EAAOva,KACP,kCAAwB,iBAAkBua,EAAO1a,OACrD,OACE,gCACE,gBAACU,GAAA,EAAM,CACL5F,UAAU,sBACV6F,KAAM+Z,EAAO9Z,OACbT,KAAMua,EAAOva,MAAQua,EAAO1a,MAC5Ba,KAAM,KAEP,yBAAcgH,EAAapI,K,EAqCpC,OA/H2C,QA+FzC,YAAAlF,OAAA,WACE,IAAMyV,EAAS,GAAI1X,KAAK+B,MAAMggB,WAK9B,OAJK/hB,KAAK+B,MAAMigB,UACdtK,EAAO3C,KAAK,IAIZ,gBAACsN,GAAA,EAAc,CACbtJ,YAAa,oBAAU,0BACvBP,SAAUxY,KAAK+B,MAAMyW,SACrBS,iBAAkBjZ,KAAKiiB,gBACvB/I,mBAAoB,SAAA/Q,GAAQ,OAAAA,EAAA,OAC5BgR,oBAAqB,SAAAhR,GAAQ,OAAAA,EAAKN,MAAQM,EAAb,OAE7Bga,eAAgBniB,KAAKmiB,eACrB/K,sBAAuBpX,KAAKoX,sBAC5BzT,SAAU3D,KAAK+B,MAAM4B,SACrB+V,QAAS1Z,KAAKiW,YACdqM,YAAatiB,KAAKkW,gBAClBtK,SAAU5L,KAAK6hB,aACfhM,SAAU7V,KAAK+B,MAAM8T,SACrBjN,KAAM5I,KAAK+B,MAAM6G,KACjBoF,SAAS,YACT7G,MAAO,IAAKnH,KAAK+B,MAAMoF,MAAO,WAAY,aAC1CmS,gBAAiBtZ,KAAKsZ,gBACtBC,mBAAoBvZ,KAAKuZ,mBACzBC,kBAAmB,oBAAU,2BAC7B/B,MAAOzX,KAAK+B,MAAM0V,MAClBC,OAAQA,KAIhB,EA/HA,CAA2C,iB,+WCA3C,uE,OACE,EAAAwC,SAAW,SAAC7K,GACV,OAAOA,GAGT,EAAAwS,aAAe,SAAC1a,EAAeob,GACrB,IAAAvD,EAAc,EAAKjd,MAAV,UACX2Q,EACJsM,GAAa,CAAC,MAAO,KAAM,OAAOnf,SAASmf,EAAUzN,WAAayN,EAAUtf,SAAMsE,EACpF,OAAO,aAAmB,CACxB0O,QAAO,EACPrL,GAbc,IAcdD,EAAGD,IACFlD,MAAK,SAAAue,GAAW,MAAC,CAAEC,WAfN,MAekBD,EAAQlc,OAAwByQ,QAA/C,OAGrB,EAAAK,sBAAwB,SAACoL,GACvB,OAAO,EAAKzgB,MAAMqV,sBAAsB,UAAW,CAAEoL,QAAO,KAG9D,EAAAjJ,mBAAqB,SAAClK,EAAgBqT,GACpC,OAAO,yBAAcrT,EAAQqT,I,EA0BjC,OA/CyC,QAwBvC,YAAAzgB,OAAA,WACE,OACE,gBAACogB,GAAA,EAAc,CACbtJ,YAAa,oBAAU,wBACvBP,SAAUxY,KAAK+B,MAAMyW,SACrBS,iBAAkBjZ,KAAKka,SACvBhB,mBAAoBlZ,KAAKka,SACzBf,oBAAqBnZ,KAAKka,SAC1B9C,sBAAuBpX,KAAKoX,sBAC5BzT,SAAU3D,KAAK+B,MAAM4B,SACrBiI,SAAU5L,KAAK6hB,aACfhM,SAAU7V,KAAK+B,MAAM8T,SACrBjN,KAAM5I,KAAK+B,MAAM6G,KACjBoF,SAAS,UACT7G,MAAO,IAAKnH,KAAK+B,MAAMoF,MAAO,WAC9BmS,gBAAiBtZ,KAAKka,SACtBX,mBAAoBvZ,KAAKuZ,mBACzBC,kBAAmB,oBAAU,6BAC7B/B,MAAOzX,KAAK+B,MAAM0V,MAClBC,OAAQ1X,KAAK+B,MAAMygB,WAI3B,EA/CA,CAAyC,iB,gtBCWzC,0E,OACE,EAAAxU,SAAW,YAMX,EAAA2U,SAAW,WACT,YAA4B3e,IAA5B,EAAKjC,MAAM6gB,cACX,EAAK7gB,MAAM+N,UAAUxJ,OAAS,QACDtC,IAA7B,EAAKjC,MAAM8gB,eACX,EAAK9gB,MAAM+gB,cAAcxc,OAAS,GAClC,EAAKvE,MAAMghB,iBAEb,EAAAnN,kBAAoB,WAClB,EAAK7T,MAAM8T,SAAS,EAAK7H,WAG3B,EAAAiI,YAAc,WACZ,EAAK+M,QAAQ,KAGf,EAAAA,QAAU,SAACC,GACT,EAAKlhB,MAAM4B,SAAQ,IACjBif,kBAAc5e,EACd8L,eAAW9L,EACX6e,mBAAe7e,EACf8e,mBAAe9e,EACf+e,qBAAiB/e,GACdif,KAIP,EAAAC,eAAiB,SAAC,G,IAChBN,EAAY,eACZC,EAAa,gBAKb,EAAKG,QAAQ,CAAEJ,aAAY,EAAEC,cAAa,KAG5C,EAAAM,mBAAqB,SAAC,G,IAAEC,EAAI,OAAE9P,EAAE,KAC9B,EAAK0P,QAAQ,CAAEJ,aAAcQ,EAAMP,cAAevP,KAGpD,EAAA+P,kBAAoB,SAACC,GAAmB,SAAKN,QAAQ,CAAEF,cAAf,KAExC,EAAAS,sBAAwB,WAAM,SAAKP,QAAQ,CAAED,iBAAf,K,EAuNhC,OAxQuC,QAmDrC,YAAApN,UAAA,WACQ,MAOF3V,KAAK+B,MANP6gB,EAAY,eACZY,EAAwB,2BACxB1T,EAAS,YACT+S,EAAa,gBACbC,EAAa,gBACbC,EAAe,kBAETU,EAAezjB,KAAK+B,MAAM2hB,KAAhB,WACZhM,EAAS,GA2Bf,OA1BIkL,GACFlL,EAAO3C,KACL0O,EACEb,EACAY,EAA2B,mBAA0B,yBAIvD1T,GACF4H,EAAO3C,KAAK0O,EAAW3T,EAAW,yBAEhC+S,GACFnL,EAAO3C,KAAK0O,EAAWZ,EAAe,yBAElB,OAAlBC,GACFpL,EAAO3C,KAAK,oBAAU,qCAEF,OAAlB+N,GACFpL,EAAO3C,KAAK,oBAAU,sCAEF,OAAlB+N,GACFpL,EAAO3C,KAAK,oBAAU,qCAEpBgO,GACFrL,EAAO3C,KAAK,oBAAU,oBAEjB2C,GAGT,YAAAiM,eAAA,WACQ,MAA2B3jB,KAAK+B,MAA9B8gB,EAAa,gBAAEpL,EAAK,QAE5B,IAAKA,EACH,OAAO,KAGT,IAAMmM,EAAUzjB,OAAO6W,KAAKS,GAE5B,GAAImM,EAAQtd,OAAS,GAAKsd,EAAQ5D,OAAM,SAAAsD,GAAU,OAAC7L,EAAD,MAChD,OAAO,KAGD,IAAAgM,EAAezjB,KAAK+B,MAAM2hB,KAAhB,WACZ3I,EAAO6I,EAAQ3c,KAAI,SAAC4c,EAAOzI,GAC/B,IACI0I,EADEC,EAAY,qBAAUF,GAExBzI,EAAQwI,EAAQtd,OAAS,GAC3Bwd,EAAU,qBAAUF,EAAQxI,EAAQ,KAC5B4I,QAAQF,EAAQG,UAAY,GAEpCH,EAAUjB,EAAgB,qBAAUA,QAAiB7e,EAGvD,IAAMkgB,EAAiBJ,GAAW,IAAIK,KAYtC,MAAO,CACLvB,aAAcmB,EACdlB,cAAeiB,EACf3hB,QAZA,gBAAC,WAAc,KACZ,wBAAcsV,EAAMoM,GAAQ,aAC7B,2BACCJ,EAAWM,EAAW,yBACrB,GAAUG,EAAgBH,IAC1B,MAAMN,EAAWS,EAAgB,yBAQrC7I,EAAGD,EACHI,EAAG/D,EAAMoM,OAIP3H,EAAYrQ,KAAKuY,MAAM,IAAMrJ,EAAKzU,QAClCxD,EAAQoZ,EAAYnB,EAAKzU,OAAS,EAAI,GAEtC+d,EAAW,KAAItJ,EAAK9T,KAAI,SAAAhH,GAAK,OAAAA,EAAA,MAC7B4b,EAAUd,EAAK9T,KAAI,SAAAhH,GAAK,OAACA,EAAEub,IAAM6I,EAAW,wBAAcA,EAAU,aAA5C,MAE9B,OACE,gBAAC,KAAQ,CACPnI,UAAWA,EAAY,EACvBnB,KAAMA,EACNnY,OAAQ,GACR+X,WAAY3a,KAAKkjB,eACjB/G,QAAS,CAAC,GAAI,EAAG,EAAG,IACpBrZ,MAAOA,EACP+Y,QAASA,KAKf,YAAAyI,sBAAA,WACQ,MAAkCtkB,KAAK+B,MAArC6gB,EAAY,eAAEC,EAAa,gBACnC,OACE,uBAAKrgB,UAAU,yCACb,gBAAC+hB,GAAA,EAAc,CACb5gB,SAAU3D,KAAKmjB,mBACfpiB,MAAO,CAAEqiB,KAAMR,EAActP,GAAIuP,OAMzC,YAAA2B,wBAAA,WACQ,MAAgDxkB,KAAK+B,MAAnDid,EAAS,YAAE8D,EAAa,gBAAEC,EAAe,kBACjD,OACE,uBAAKvgB,UAAU,wCACb,gBAACiiB,GAAA,EAAS,CACRzf,QAAShF,KAAK2iB,WACd9a,KAAM,oBAAU,8BAChB7F,QAAShC,KAAKqjB,kBACdlhB,QAAS,oBAAU,8BACnBpB,MAAM,KAEPie,EACC,gBAACyF,GAAA,EAAS,CACRzf,OAAQ+d,EACRlb,KAAM,oBAAU,mBAChB7F,QAAShC,KAAKujB,sBACdphB,QAAS,oBAAU,0BACnBpB,MAAM,KAGR,gCACE,gBAAC0jB,GAAA,EAAS,CACRzf,OAA0B,OAAlB8d,EACRjb,KAAM,oBAAU,oCAChB7F,QAAShC,KAAKqjB,kBACdlhB,QAAS,oBAAU,oCACnBpB,MAAM,OAER,gBAAC0jB,GAAA,EAAS,CACRzf,OAA0B,OAAlB8d,EACRjb,KAAM,oBAAU,qCAChB7F,QAAShC,KAAKqjB,kBACdlhB,QAAS,oBAAU,qCACnBpB,MAAM,OAER,gBAAC0jB,GAAA,EAAS,CACRzf,OAA0B,OAAlB8d,EACRjb,KAAM,oBAAU,oCAChB7F,QAAShC,KAAKqjB,kBACdlhB,QAAS,oBAAU,oCACnBpB,MAAM,UAQlB,YAAA2jB,YAAA,WACQ,MAAwD1kB,KAAK+B,MAA3D6gB,EAAY,eAAEY,EAAwB,2BAE9C,OAFyD,YAIrD,uBAAKhhB,UAAU,oCACb,gBAAC,KAAiB,CAACqN,KAAM7P,KAAK+B,MAAM+N,YACpC,2BACA,wBAAMtN,UAAU,QACd,gBAAC,KAAW,CAACqN,KAAM7P,KAAK+B,MAAM+N,cAMlC8S,GAAgBY,EAEhB,uBAAKhhB,UAAU,oCACb,8BAAS,oBAAU,SAAmB,KACtC,gBAAC,KAAiB,CAACqN,KAAM+S,KAM7B,2BACG5iB,KAAK2jB,iBACL3jB,KAAKskB,wBACLtkB,KAAKwkB,4BAKZ,YAAAviB,OAAA,WACE,OACE,gBAAC0iB,GAAA,EAAQ,CAAC3W,SAAUhO,KAAKgO,UACvB,gBAAC4W,GAAA,EAAW,CACVpM,SAAUxY,KAAK+B,MAAMyW,SACrB3Q,KAAM,oBAAU,eAAgB7H,KAAKgO,UACrC0L,QAAS1Z,KAAKiW,YACdjU,QAAShC,KAAK4V,kBACdhN,KAAM5I,KAAK+B,MAAM6G,KACjB8O,OAAQ1X,KAAK2V,cAGd3V,KAAK+B,MAAM6G,MAAQ5I,KAAK0kB,gBAjQxB,EAAA7P,aAAe,CACpBjM,MAAM,GAoQV,EAxQA,CAAuC,iBA0QxB,wBAAW,I,qlBCjR1B,uE,OACE,EAAAqQ,iBAAmB,SAACyH,GAClB,OAAOA,GAGT,EAAAxH,mBAAqB,SAAC2L,GACpB,OAAOA,EAAUnE,MAGnB,EAAAvH,oBAAsB,SAAC0L,GACrB,OAAOA,EAAUnE,MAGnB,EAAAmB,aAAe,SAAC1a,EAAe2a,GACrB,IAAAnP,EAAe,EAAK5Q,MAAV,WAElB,OAAO,aAAe,GAAD,IACnBid,UAAW,EAAKjd,MAAM+iB,cACnB,YAAmBnS,IAAW,CACjCvL,EAAGD,EACH5G,EAAGuhB,EACHza,GAAI,MACHpD,MAAK,SAAC,G,IAAEG,EAAU,aAAe,MAAC,CACnCod,OAD2B,SAE3BzK,QAAS3S,EAAWoD,QAAO,SAAAud,GAAO,gBAAAA,EAAIrE,aAI1C,EAAAtJ,sBAAwB,SAAC4N,GACvB,OAAO,EAAKjjB,MAAMqV,sBAAsB,cAAe,CACrD4N,YAAaA,EAAY/d,KAAI,SAAA4d,GAAa,OAAAA,EAAA,WAI9C,EAAAI,gBAAkB,SAACJ,GAA+B,OAChD,gCACE,gBAAC,KAAa,CAACriB,UAAU,sBAAsB+O,UAAU,QAFX,IAOlD,EAAA+H,gBAAkB,SAACoH,GACjB,OAAO,EAAKuE,gBAAgB,wBAAavE,EAAM,MAGjD,EAAAnH,mBAAqB,SAACsL,EAAkCnC,GACtD,OAAO,EAAKuC,gBAAgB,yBAAc,wBAAaJ,EAAUnE,KAAM,IAAKgC,K,EA2BhF,OAzE4C,QAiD1C,YAAAzgB,OAAA,WACE,OACE,gBAACogB,GAAA,EAAc,CACbtJ,YAAa,oBAAU,4BACvBP,SAAUxY,KAAK+B,MAAMyW,SACrBS,iBAAkBjZ,KAAKiZ,iBACvBC,mBAAoBlZ,KAAKkZ,mBACzBC,oBAAqBnZ,KAAKmZ,oBAC1B/B,sBAAuBpX,KAAKoX,sBAC5B8N,gBAAiB,EACjBvhB,SAAU3D,KAAK+B,MAAM4B,SACrBiI,SAAU5L,KAAK6hB,aACfhM,SAAU7V,KAAK+B,MAAM8T,SACrBjN,KAAM5I,KAAK+B,MAAM6G,KACjBoF,SAAS,cACT7G,MAAO,IAAKnH,KAAK+B,MAAMoF,MAAO,eAC9BmS,gBAAiBtZ,KAAKsZ,gBACtBC,mBAAoBvZ,KAAKuZ,mBACzBC,kBAAmB,oBAAU,iCAC7B/B,MAAOzX,KAAK+B,MAAM0V,MAClBC,OAAQ1X,KAAK+B,MAAMijB,eAI3B,EAzEA,CAA4C,iB,gkBCE5C,uE,OACE,EAAA/L,iBAAmB,SAACyH,GAClB,OAAOA,GAGT,EAAAxH,mBAAqB,SAACiM,GACpB,OAAOA,EAAKzE,MAGd,EAAAvH,oBAAsB,SAACgM,GACrB,OAAOA,EAAKzE,MAGd,EAAAmB,aAAe,SAAC1a,EAAe2a,GACrB,IAAAnP,EAAe,EAAK5Q,MAAV,WAElB,OAAO,aAAS,GAAD,IACbid,UAAW,EAAKjd,MAAM+iB,cACnB,YAAmBnS,IAAW,CACjCvL,EAAGD,EACH5G,EAAGuhB,EACHza,GAAI,MACHpD,MAAK,SAAC,G,IAAEG,EAAU,aAAe,MAAC,CACnCod,OAD2B,SAE3BzK,QAAS3S,EAAWoD,QAAO,SAAA2d,GAAQ,gBAAAA,EAAKzE,aAI5C,EAAAtJ,sBAAwB,SAACgO,GACvB,OAAO,EAAKrjB,MAAMqV,sBAAsB,QAAS,CAC/CgO,MAAOA,EACJne,KAAI,SAAAke,GACH,OAAOA,EAAKzE,QAEblZ,OAAO,iBAId,EAAA6d,WAAa,SAACF,GAA0B,OACtC,gCACE,gBAAC,KAAa,CAAC3iB,UAAU,sBAAsB+O,UAAU,QAFrB,IAOxC,EAAA+H,gBAAkB,SAACoH,GACjB,OAAO,EAAK2E,WAAW3E,IAGzB,EAAAnH,mBAAqB,SAAC4L,EAA6BzC,GAC3C,MAAiB,qBAAU,wBAAayC,EAAKzE,KAnD/B,KAmDZ4E,EAAI,OAAEC,EAAI,OAElB,OAAO,EAAKF,WACV,gCACGC,E,IAAO,yBAAcC,EAAM7C,M,EA6BpC,OAnFuC,QA2DrC,YAAAzgB,OAAA,WACE,OACE,gBAACogB,GAAA,EAAc,CACbtJ,YAAa,oBAAU,sBACvBP,SAAUxY,KAAK+B,MAAMyW,SACrBS,iBAAkBjZ,KAAKiZ,iBACvBC,mBAAoBlZ,KAAKkZ,mBACzBC,oBAAqBnZ,KAAKmZ,oBAC1B/B,sBAAuBpX,KAAKoX,sBAC5B8N,gBAAiB,EACjBvhB,SAAU3D,KAAK+B,MAAM4B,SACrBiI,SAAU5L,KAAK6hB,aACfhM,SAAU7V,KAAK+B,MAAM8T,SACrBjN,KAAM5I,KAAK+B,MAAM6G,KACjBoF,SAAS,QACT7G,MAAO,IAAKnH,KAAK+B,MAAMoF,MAAO,SAC9BmS,gBAAiBtZ,KAAKsZ,gBACtBC,mBAAoBvZ,KAAKuZ,mBACzBC,kBAAmB,oBAAU,2BAC7B/B,MAAOzX,KAAK+B,MAAM0V,MAClBC,OAAQ1X,KAAK+B,MAAMqjB,SAI3B,EAnFA,CAAuC,iB,gjBCDvC,0E,OACE,EAAAI,gBAAkB,SAACC,GACT,IAAAC,EAAwB,EAAK3jB,MAAV,oBAC3B,OAAO2jB,EAAoBD,GAAYC,EAAoBD,GAAU5d,KAAO4d,GAG9E,EAAA5D,aAAe,SAAC1a,GACd,IACM4P,EADU,EAAK4O,wBACGne,QAAO,SAAAie,GAC7B,OAAAA,EAAS5d,KAAKoP,cAAcpX,SAASsH,EAAM8P,kBAEvCuK,EAAS,CAAEoE,UAAW,EAAGC,SAAU9O,EAAQzQ,OAAQuT,MAAO9C,EAAQzQ,QACxE,OAAOuQ,QAAQC,QAAQ,CAAE0K,OAAM,EAAEzK,QAAO,KAG1C,EAAA4O,sBAAwB,WAChB,MAAqC,EAAK5jB,MAAxC+jB,EAAkB,qBAAE,IAAArO,aAAK,IAAG,KAAE,EAKtC,OAAO,KAAM,GACPqO,EAAuB3lB,OAAO6W,KAAKS,GAAOxQ,KAAI,SAAAvH,GAAO,MAAC,CAAEA,IAAG,EAAEmI,KAAR,QACzD,SAAA4d,GAAY,OAAAA,EAAA,QAIhB,EAAArO,sBAAwB,SAAC2O,GACvB,OAAO,EAAKhkB,MAAMqV,sBAAsB,YAAa,CACnD2O,UAAWA,EAAU9e,KAAI,SAAAwe,GAAY,OAAAA,EAAA,UAIzC,EAAAlM,mBAAqB,SAAC,EAA6BmJ,G,IAA3B7a,EAAI,OAC1B,OAAO,yBAAcA,EAAM6a,I,EA2B/B,OA7D4B,QAqC1B,YAAAzgB,OAAA,WACE,OACE,gBAACogB,GAAA,EAAc,CACbtJ,YAAa,oBAAU,0BACvBP,SAAUxY,KAAK+B,MAAMyW,SACrBS,iBAAkBjZ,KAAKwlB,gBACvBtM,mBAAoB,SAAAuM,GAAY,OAAAA,EAAA,KAChCtM,oBAAqB,SAAAsM,GAAY,OAAAA,EAAA,MACjCrO,sBAAuBpX,KAAKoX,sBAC5B8N,gBAAiB,EACjBvhB,SAAU3D,KAAK+B,MAAM4B,SACrBiI,SAAU5L,KAAK6hB,aACfhM,SAAU7V,KAAK+B,MAAM8T,SACrBjN,KAAM5I,KAAK+B,MAAM6G,KACjBoF,SAAS,YACT7G,MAAO,IAAKnH,KAAK+B,MAAMoF,MAAO,aAC9BmS,gBAAiBtZ,KAAKwlB,gBACtBjM,mBAAoBvZ,KAAKuZ,mBACzBC,kBAAmB,oBAAU,+BAC7B/B,MAAOzX,KAAK+B,MAAM0V,MAClBC,OAAQ1X,KAAK+B,MAAMgkB,aAI3B,EA7DA,CAA4B,iBAmEb,iBAJS,SAAC9f,GAAiB,MAAC,CACzC6f,mBAAoB3lB,OAAOuX,OAAO,wBAAazR,OAGlC,CAAyB,I,qWClExC,uE,OACE,EAAA4b,aAAe,SACb1a,EACA2a,QAAA,IAAAA,MAAA,GAEQ,IAAA9C,EAAc,EAAKjd,MAAV,UACjB,OACEid,GACA,CACE,KAAmBgH,UACnB,KAAmBC,aACnB,KAAmBC,aACnBrmB,SAASmf,EAAUzN,WAEd,aAAQ,CACbyN,UAAWA,EAAUtf,IACrBa,EAAGuhB,EACHza,GAAI,GACJD,EAAGD,EACHgf,WAAY,KAAmBC,UAC9BniB,MAAK,SAAC,G,IAAEG,EAAU,aAAe,MAAC,CACnCod,OAD2B,SAE3BzK,QAAS3S,EAAW6C,KAAI,SAAA+X,GAAa,MAAC,CACpCtf,IAAKsf,EAAUqH,QAAUrH,EAAUtf,IACnCmI,KAAMmX,EAAUnX,aAKf,aAAe,CACpBtH,EAAGuhB,EACHza,GAAI,GACJG,OAAQL,EAAQ,YAAYA,EAAK,IAAM,KACtClD,MAAK,SAAC,G,IAAEG,EAAU,aAAe,MAAC,CACnCod,OAD2B,SAE3BzK,QAAS3S,EAAW6C,KAAI,SAAA+X,GAAa,MAAC,CACpCtf,IAAKsf,EAAUtf,IACfmI,KAAMmX,EAAUnX,cAKtB,EAAAye,eAAiB,SAAC5T,GACR,IAAA6T,EAAyB,EAAKxkB,MAAV,qBAC5B,OAAOwkB,EAAqB7T,GAAW6T,EAAqB7T,GAAS7K,KAAO6K,GAG9E,EAAA0E,sBAAwB,SAACoP,GACvB,OAAO,EAAKzkB,MAAMqV,sBAAsB,WAAY,CAClDoP,SAAUA,EAASvf,KAAI,SAAAyL,GAAW,OAAAA,EAAA,UAItC,EAAA4G,gBAAkB,SAACmN,GACjB,OACE,4BACE,gBAAC,KAAa,CAACjkB,UAAU,sBAAsB+O,UAAW,KAAmB6U,UAC5E,EAAKE,eAAeG,KAK3B,EAAAlN,mBAAqB,SAAC7G,EAAwCgQ,GAAiB,OAC7E,gCACE,gBAAC,KAAa,CAAClgB,UAAU,sBAAsB+O,UAAW,KAAmB6U,UAC5E,yBAAc1T,EAAQ7K,KAHoD,K,EA8BjF,OA5F0C,QAqExC,YAAA5F,OAAA,WACE,OACE,gBAACogB,GAAA,EAAc,CACbtJ,YAAa,oBAAU,yBACvBP,SAAUxY,KAAK+B,MAAMyW,SACrBS,iBAAkBjZ,KAAKsmB,eACvBpN,mBAAoB,SAAAxG,GAAW,OAAAA,EAAA,KAC/ByG,oBAAqB,SAAAzG,GAAW,OAAAA,EAAA,MAChC0E,sBAAuBpX,KAAKoX,sBAC5BzT,SAAU3D,KAAK+B,MAAM4B,SACrBiI,SAAU5L,KAAK6hB,aACfhM,SAAU7V,KAAK+B,MAAM8T,SACrBjN,KAAM5I,KAAK+B,MAAM6G,KACjBoF,SAAS,WACT7G,MAAO,IAAKnH,KAAK+B,MAAMoF,MAAO,YAC9BmS,gBAAiBtZ,KAAKsZ,gBACtBC,mBAAoBvZ,KAAKuZ,mBACzBC,kBAAmB,oBAAU,8BAC7B/B,MAAOzX,KAAK+B,MAAM0V,MAClBC,OAAQ1X,KAAK+B,MAAMykB,YAI3B,EA5FA,CAA0C,iB,okBCTpCE,GAAc,CAAC,GAAI,iBAAkB,QAAS,UAAW,WAE1C,GAArB,uE,OACE,EAAA1Y,SAAW,cAMX,EAAAkI,gBAAkB,SAACE,EAAmBC,G,QAC5BsQ,EAAgB,EAAK5kB,MAAV,YACnB,GAAkB,KAAdqU,EAEF,EAAKrU,MAAM4B,SAAS,CAAEijB,UAAW,EAAK7kB,MAAM6kB,SAAUD,YAAa,UAC9D,GAAItQ,EAAU,CACnB,IAAMzW,EAAW,KACf+mB,EAAY9mB,SAASuW,GACjB,IAAQuQ,EAAavQ,GACtB,GAAKuQ,EAAW,CAAEvQ,KAEvB,EAAKrU,MAAM4B,WAAQ,GAAGijB,UAAU,IAAO,EAAK5Y,UAAWpO,EAAQ,SAE/D,EAAKmC,MAAM4B,WAAQ,GACjBijB,UAAU,IACT,EAAK5Y,UACJ2Y,EAAY9mB,SAASuW,IAAcuQ,EAAYrgB,OAAS,EAAI,GAAK,CAAC8P,GACpE,KAIN,EAAAR,kBAAoB,WAClB,EAAK7T,MAAM8T,SAAS,EAAK7H,WAG3B,EAAAiI,YAAc,WACZ,EAAKlU,MAAM4B,SAAS,CAAEijB,UAAU,EAAOD,YAAa,MAgBtD,EAAAE,WAAa,SAACrZ,GACZ,IAAMxI,EAAS,EAAK8hB,kBAAkBtZ,GAChCuK,EAAO,EAAKF,QAAQrK,GAE1B,OACE,gBAACiX,GAAA,EAAS,CACRzf,OAAQA,EACR+hB,WAAW,EACXrnB,IAAK8N,EACL3F,KAAM,EAAKmf,iBAAiBxZ,GAC5BxL,QAAS,EAAKkU,gBACd6B,KAAM,aAAgBA,GACtB5V,QAAS,EAAK6kB,iBAAiBxZ,GAC/BzM,MAAOyM,K,EAgCf,OA9F6C,QAoC3C,YAAAsZ,kBAAA,SAAkBtZ,GAChB,MAAsB,KAAfA,GAAqBxN,KAAK+B,MAAM6kB,SAAW5mB,KAAK+B,MAAM4kB,YAAY9mB,SAAS2N,IAGpF,YAAAwZ,iBAAA,SAAiBxZ,GACf,MAAsB,KAAfA,EAAoB,oBAAU,cAAgB,oBAAU,mBAAoBA,IAGrF,YAAAqK,QAAA,SAAQrK,GACE,IAAAiK,EAAUzX,KAAK+B,MAAV,MACb,OAAO0V,EAAQA,EAAMjK,QAAcxJ,GAqBrC,YAAA/B,OAAA,sBACQ,EAA8BjC,KAAK+B,MAAjC4kB,EAAW,cAAE,IAAAlP,aAAK,IAAG,KAAE,EACzBC,EAASiP,EAAY1f,KAAI,SAAAuG,GAAc,SAAKwZ,iBAAL,MAE7C,OACE,gBAACrC,GAAA,EAAQ,CAAC3W,SAAUhO,KAAKgO,UACvB,gBAAC4W,GAAA,EAAW,CACVpM,SAAUxY,KAAK+B,MAAMyW,SACrB3Q,KAAM,oBAAU,eAAgB7H,KAAKgO,UACrC0L,QAAS1Z,KAAKiW,YACdjU,QAAShC,KAAK4V,kBACdhN,KAAM5I,KAAK+B,MAAM6G,KACjB8O,OAAQA,IAGT1X,KAAK+B,MAAM6G,MACV,gCACE,gBAACqe,GAAA,EAAc,KAAEP,GAAYzf,IAAIjH,KAAK6mB,aACtC,gBAACK,GAAA,EAAqB,CACpB1jB,QAASrD,OAAO6W,KAAKS,GAAOnR,OAC5BoR,OAAQiP,EAAYrgB,YApFzB,EAAAuO,aAAe,CACpBjM,MAAM,GA0FV,EA9FA,CAA6C,iB,+WCD7C,uE,OACE,EAAAiZ,aAAe,SAAC1a,EAAe2a,QAAA,IAAAA,MAAA,GACrB,IAAAiE,EAAc,EAAKhkB,MAAV,UACjB,OAAO,aAAY,CACjBolB,EAAG,gBACHpB,UAAWA,EAAUzf,OAASyf,EAAUtZ,YAASzI,EACjDoD,EAAGD,EACH5G,EAAGuhB,EACHza,GAAI,GACJ+f,EAAG,OACHC,kBAAkB,IACjBpjB,MAAK,SAAAC,GAAY,MAAC,CACnBsd,OAAQ,CAAEoE,UAAW1hB,EAAS3D,EAAGslB,SAAU3hB,EAASmD,GAAIwS,MAAO3V,EAAS2V,OACxE9C,QAAS7S,EAASI,WAItB,EAAA8S,sBAAwB,SAAC9S,GACvB,OAAO,EAAKvC,MAAMqV,sBAAsB,QAAS,CAAE9S,MAAOA,EAAM2C,KAAI,SAAAiM,GAAQ,OAAAA,EAAA,UAG9E,EAAAoU,YAAc,SAAC3W,GACb,IAAMuC,EAAO,EAAKnR,MAAMwlB,gBAAgB5W,GACxC,OAAOuC,EAAO,EAAKsU,eAAetU,EAAKrL,KAAMqL,EAAKuU,UAAY9W,GAGhE,EAAA6W,eAAiB,SAAC3f,EAAc4f,GAG9B,OAAOA,EAAW,IAAIA,EAAQ,KAAK5f,EAASA,GAG9C,EAAA0R,mBAAqB,SAACrG,GACpB,OAAO,EAAKsU,eAAetU,EAAKrL,KAAMqL,EAAKuU,W,EA0B/C,OA3DuC,QAoCrC,YAAAxlB,OAAA,WACE,OACE,gBAACogB,GAAA,EAAc,CACbtJ,YAAa,oBAAU,sBACvBP,SAAUxY,KAAK+B,MAAMyW,SACrBS,iBAAkBjZ,KAAKsnB,YACvBpO,mBAAoB,SAAAhG,GAAQ,OAAAA,EAAA,KAC5BiG,oBAAqB,SAAAjG,GAAQ,OAAAA,EAAA,MAC7BkE,sBAAuBpX,KAAKoX,sBAC5BzT,SAAU3D,KAAK+B,MAAM4B,SACrBiI,SAAU5L,KAAK6hB,aACfhM,SAAU7V,KAAK+B,MAAM8T,SACrBjN,KAAM5I,KAAK+B,MAAM6G,KACjBoF,SAAS,QACT7G,MAAO,IAAKnH,KAAK+B,MAAMoF,MAAO,SAC9BmS,gBAAiBtZ,KAAKsnB,YACtB/N,mBAAoBvZ,KAAKuZ,mBACzBC,kBAAmB,oBAAU,2BAC7B/B,MAAOzX,KAAK+B,MAAM0V,MAClBC,OAAQ1X,KAAK+B,MAAMuC,SAI3B,EA3DA,CAAuC,iB,mMCAzB,SAAUojB,GAAW3lB,GACzB,IAAAyW,EAA4CzW,EAApC,SAAE6G,EAAkC7G,EAA9B,KAAE,EAA4BA,EAAjB,OAAX4lB,OAAM,IAAG,KAAE,EAAE,EAAe5lB,EAAL,MAAV0V,OAAK,IAAG,KAAE,EACzCC,EAASiQ,EAAO1gB,KAAI,SAAA2gB,GAAS,2BAAU,cAAV,MAEnC,OACE,gBAACjD,GAAA,EAAQ,CAAC3W,SAAS,UACjB,gBAAC4W,GAAA,EAAW,CACVpM,SAAUA,EACV3Q,KAAM,oBAAU,uBAChB6R,QAAS,WAAM,OAAA3X,EAAM4B,SAAS,CAAEgkB,OAAjB,MACf3lB,QAAS,WAAM,OAAAD,EAAM8T,SAAN,WACfjN,KAAMA,EACN8O,OAAQA,IAGT9O,GACC,gCACE,gBAACqe,GAAA,EAAc,KACZ,KAAchgB,KAAI,SAAC,G,IAAE2gB,EAAK,QAAErW,EAAS,YAC9BvM,EAAS2iB,EAAO9nB,SAAS+nB,GACzB7P,EAAON,EAAMmQ,GAEnB,OACE,gBAACnD,GAAA,EAAS,CACRzf,OAAQA,EACRtF,IAAKkoB,EACL/f,KACE,wBAAMrF,UAAU,uBACd,gBAAC,KAAa,CAACA,UAAU,sBAAsB+O,UAAWA,IAAc,IACvE,oBAAU,cAAeqW,IAG9B5lB,QAAS,SAACoU,EAAmBC,GACvBA,EACFtU,EAAM4B,SAAS,CACbgkB,OAAQ3iB,EAAS,IAAQ2iB,EAAQvR,GAAY,GAAKuR,EAAM,CAAEvR,MAG5DrU,EAAM4B,SAAS,CACbgkB,OAAQ3iB,GAA4B,IAAlB2iB,EAAOrhB,OAAe,GAAK,CAAC8P,MAIpD2B,KAAM,aAAgBA,GACtBhX,MAAO6mB,QAKf,gBAACV,GAAA,EAAqB,CAAC1jB,QAASrD,OAAO6W,KAAKS,GAAOnR,OAAQoR,OAAQiQ,EAAOrhB,W,yiBClD9EuhB,GAAa,CAAC,UAAW,QAAS,WAAY,OAAQ,SAEvC,GAArB,uE,OACE,EAAA7Z,SAAW,aAMX,EAAAkI,gBAAkB,SAACE,EAAmBC,G,QAC5ByR,EAAe,EAAK/lB,MAAV,WAClB,GAAIsU,EAAU,CACZ,IAAMzW,EAAW,KACfkoB,EAAWjoB,SAASuW,GAAa,IAAQ0R,EAAY1R,GAAY,GAAK0R,EAAU,CAAE1R,KAEpF,EAAKrU,MAAM4B,WAAQ,MAAI,EAAKqK,UAAWpO,EAAQ,SAE/C,EAAKmC,MAAM4B,WAAQ,MAChB,EAAKqK,UAAW8Z,EAAWjoB,SAASuW,IAAc0R,EAAWxhB,OAAS,EAAI,GAAK,CAAC8P,GACjF,KAIN,EAAAR,kBAAoB,WAClB,EAAK7T,MAAM8T,SAAS,EAAK7H,WAG3B,EAAAiI,YAAc,W,MACZ,EAAKlU,MAAM4B,WAAQ,MAAI,EAAKqK,UAAW,GAAE,KAQ3C,EAAA6Y,WAAa,SAACzb,GACZ,IAAMpG,EAAS,EAAKjD,MAAM+lB,WAAWjoB,SAASuL,GACxC2M,EAAO,EAAKF,QAAQzM,GAE1B,OACE,gBAACqZ,GAAA,EAAS,CACRzf,OAAQA,EACR+hB,WAAW,EACXrnB,IAAK0L,EACLvD,KAAM,gBAAC4D,GAAA,EAAc,CAACL,SAAUA,IAChCpJ,QAAS,EAAKkU,gBACd6B,KAAM,aAAgBA,GACtB5V,QAAS,oBAAU,WAAYiJ,GAC/BrK,MAAOqK,K,EA6Bf,OA5E2C,QA6BzC,YAAAyM,QAAA,SAAQzM,GACE,IAAAqM,EAAUzX,KAAK+B,MAAV,MACb,OAAO0V,EAAQA,EAAMrM,QAAYpH,GAqBnC,YAAA/B,OAAA,WACQ,MAA6BjC,KAAK+B,MAAhC+lB,EAAU,aAAE,IAAArQ,aAAK,IAAG,KAAE,EACxBC,EAASoQ,EAAW7gB,KAAI,SAAAmE,GAAY,2BAAU,WAAV,MAE1C,OACE,gBAACuZ,GAAA,EAAQ,CAAC3W,SAAUhO,KAAKgO,UACvB,gBAAC4W,GAAA,EAAW,CACVpM,SAAUxY,KAAK+B,MAAMyW,SACrB3Q,KAAM,oBAAU,eAAgB7H,KAAKgO,UACrC0L,QAAS1Z,KAAKiW,YACdjU,QAAShC,KAAK4V,kBACdhN,KAAM5I,KAAK+B,MAAM6G,KACjB8O,OAAQA,IAGT1X,KAAK+B,MAAM6G,MACV,gCACE,gBAACqe,GAAA,EAAc,KAAEY,GAAW5gB,IAAIjH,KAAK6mB,aACrC,gBAACK,GAAA,EAAqB,CAAC1jB,QAASrD,OAAO6W,KAAKS,GAAOnR,OAAQoR,OAAQoQ,EAAWxhB,YAnEjF,EAAAuO,aAAe,CACpBjM,MAAM,GAwEV,EA5EA,CAA2C,iB,gjBCFrCmf,GAAW,CAAC,OAAQ,YAAa,WAAY,WAAY,UAE1C,GAArB,uE,OACE,EAAA/Z,SAAW,WAIX,EAAAkI,gBAAkB,SAACE,EAAmBC,G,QAC5B2R,EAAa,EAAKjmB,MAAV,SAChB,GAAIsU,EAAU,CACZ,IAAMzW,EAAW,KACfooB,EAASnoB,SAASuW,GAAa,IAAQ4R,EAAU5R,GAAY,GAAK4R,EAAQ,CAAE5R,KAE9E,EAAKrU,MAAM4B,WAAQ,MAAI,EAAKqK,UAAWpO,EAAQ,SAE/C,EAAKmC,MAAM4B,WAAQ,MAChB,EAAKqK,UAAWga,EAASnoB,SAASuW,IAAc4R,EAAS1hB,OAAS,EAAI,GAAK,CAAC8P,GAC7E,KAIN,EAAAR,kBAAoB,WAClB,EAAK7T,MAAM8T,SAAS,EAAK7H,WAG3B,EAAAiI,YAAc,W,MACZ,EAAKlU,MAAM4B,WAAQ,MAAI,EAAKqK,UAAW,GAAE,KAQ3C,EAAA6Y,WAAa,SAACpZ,GACZ,IAAMzI,EAAS,EAAKjD,MAAMimB,SAASnoB,SAAS4N,GACtCsK,EAAO,EAAKF,QAAQpK,GAE1B,OACE,gBAACgX,GAAA,EAAS,CACRzf,OAAQA,EACR+hB,WAAW,EACXrnB,IAAK+N,EACL5F,KAAM,gBAAC0F,GAAA,EAAY,CAACC,gBAAYxJ,EAAWyJ,OAAQA,IACnDzL,QAAS,EAAKkU,gBACd6B,KAAM,aAAgBA,GACtB5V,QAAS,oBAAU,eAAgBsL,GACnC1M,MAAO0M,K,EA6Bf,OA1EyC,QA2BvC,YAAAoK,QAAA,SAAQpK,GACE,IAAAgK,EAAUzX,KAAK+B,MAAV,MACb,OAAO0V,EAAQA,EAAMhK,QAAUzJ,GAqBjC,YAAA/B,OAAA,WACQ,MAA2BjC,KAAK+B,MAA9BimB,EAAQ,WAAE,IAAAvQ,aAAK,IAAG,KAAE,EACtBC,EAASsQ,EAAS/gB,KAAI,SAAAwG,GAAU,2BAAU,eAAV,MAEtC,OACE,gBAACkX,GAAA,EAAQ,CAAC3W,SAAUhO,KAAKgO,UACvB,gBAAC4W,GAAA,EAAW,CACVpM,SAAUxY,KAAK+B,MAAMyW,SACrB3Q,KAAM,oBAAU,eAAgB7H,KAAKgO,UACrC0L,QAAS1Z,KAAKiW,YACdjU,QAAShC,KAAK4V,kBACdhN,KAAM5I,KAAK+B,MAAM6G,KACjB8O,OAAQA,IAGT1X,KAAK+B,MAAM6G,MACV,gCACE,gBAACqe,GAAA,EAAc,KAAEc,GAAS9gB,IAAIjH,KAAK6mB,aACnC,gBAACK,GAAA,EAAqB,CAAC1jB,QAASrD,OAAO6W,KAAKS,GAAOnR,OAAQoR,OAAQsQ,EAAS1hB,YAjE/E,EAAAuO,aAAe,CAAEjM,MAAM,GAuEhC,EA1EA,CAAyC,iB,oYCGzC,uE,OACE,EAAAiZ,aAAe,SAAC1a,GACN,IAAA6X,EAAc,EAAKjd,MAAV,UACX2Q,EACJsM,GAAa,CAAC,MAAO,KAAM,OAAOnf,SAASmf,EAAUzN,WAAayN,EAAUtf,SAAMsE,EACpF,OAAO,aAAgB,CACrB0O,QAAO,EACPrL,GATc,IAUdD,EAAGD,IACFlD,MAAK,SAAA+H,GAAQ,MAAC,CAAEyW,WAXH,MAWezW,EAAK1F,OAAwByQ,QAA5C,OAGlB,EAAAkR,WAAa,SAAChc,GACZ,OAAOA,GAGT,EAAAmL,sBAAwB,SAACpL,GACvB,OAAO,EAAKjK,MAAMqV,sBAAsB,OAAQ,CAAEpL,KAAI,KAGxD,EAAAkc,UAAY,SAACjc,GACX,OACE,gCACE,gBAAC,KAAQ,CAACzJ,UAAU,sBAAsBO,KAAM,UAAOolB,SACtDlc,IAKP,EAAAsN,mBAAqB,SAACtN,EAAayW,GAAiB,OAClD,gCACE,gBAAC,KAAQ,CAAClgB,UAAU,sBAAsBO,KAAM,UAAOolB,SACtD,yBAAclc,EAHiC,K,EA8BtD,OA3DsC,QAoCpC,YAAAhK,OAAA,WACE,OACE,gBAACogB,GAAA,EAAc,CACbtJ,YAAa,oBAAU,qBACvBP,SAAUxY,KAAK+B,MAAMyW,SACrBS,iBAAkBjZ,KAAKioB,WACvB/O,mBAAoB,SAAAjN,GAAO,OAAAA,GAC3BkN,oBAAqB,SAAAlN,GAAO,OAAAA,GAC5BmL,sBAAuBpX,KAAKoX,sBAC5BzT,SAAU3D,KAAK+B,MAAM4B,SACrBiI,SAAU5L,KAAK6hB,aACfhM,SAAU7V,KAAK+B,MAAM8T,SACrBjN,KAAM5I,KAAK+B,MAAM6G,KACjBoF,SAAS,OACT7G,MAAO,IAAKnH,KAAK+B,MAAMoF,MAAO,QAC9BmS,gBAAiBtZ,KAAKkoB,UACtB3O,mBAAoBvZ,KAAKuZ,mBACzBC,kBAAmB,oBAAU,0BAC7B/B,MAAOzX,KAAK+B,MAAM0V,MAClBC,OAAQ1X,KAAK+B,MAAMiK,QAI3B,EA3DA,CAAsC,iB,gjBCJjB,GAArB,uE,OACE,EAAAgC,SAAW,QAMX,EAAAkI,gBAAkB,SAACE,EAAmBC,G,QAC5BxD,EAAU,EAAK9Q,MAAV,MACb,GAAIsU,EAAU,CACZ,IAAMzW,EAAW,KACfiT,EAAMhT,SAASuW,GAAa,IAAQvD,EAAOuD,GAAY,GAAKvD,EAAK,CAAEuD,KAErE,EAAKrU,MAAM4B,WAAQ,MAAI,EAAKqK,UAAWpO,EAAQ,SAE/C,EAAKmC,MAAM4B,WAAQ,MAChB,EAAKqK,UAAW6E,EAAMhT,SAASuW,IAAcvD,EAAMvM,OAAS,EAAI,GAAK,CAAC8P,GACvE,KAIN,EAAAR,kBAAoB,WAClB,EAAK7T,MAAM8T,SAAS,EAAK7H,WAG3B,EAAAiI,YAAc,W,MACZ,EAAKlU,MAAM4B,WAAQ,MAAI,EAAKqK,UAAW,GAAE,KAY3C,EAAA6Y,WAAa,SAACpgB,GACZ,IAAMzB,EAAS,EAAK8hB,kBAAkBrgB,GAChCsR,EAAO,EAAKF,QAAQpR,GAE1B,OACE,gBAACge,GAAA,EAAS,CACRzf,OAAQA,EACRtF,IAAK+G,EACLoB,KACE,wBAAMrF,UAAU,uBACd,gBAAC,KAAa,CAACA,UAAU,sBAAsB2E,MAAOV,IAAS,IAC9D,oBAAU,aAAcA,IAG7BzE,QAAS,EAAKkU,gBACd6B,KAAM,aAAgBA,GACtBhX,MAAO0F,K,EA+Bf,OArFuC,QA6BrC,YAAAoR,QAAA,SAAQpR,GACE,IAAAgR,EAAUzX,KAAK+B,MAAV,MACb,OAAO0V,EAAQA,EAAMhR,QAAQzC,GAG/B,YAAA8iB,kBAAA,SAAkBrgB,GAChB,OAAOzG,KAAK+B,MAAM8Q,MAAMhT,SAAS4G,IAwBnC,YAAAxE,OAAA,WACQ,MAAwBjC,KAAK+B,MAA3B8Q,EAAK,QAAE,IAAA4E,aAAK,IAAG,KAAE,EACnBC,EAAS7E,EAAM5L,KAAI,SAAAR,GAAQ,2BAAU,aAAV,MAEjC,OACE,gBAACke,GAAA,EAAQ,CAAC3W,SAAUhO,KAAKgO,UACvB,gBAAC4W,GAAA,EAAW,CACVpM,SAAUxY,KAAK+B,MAAMyW,SACrB3Q,KAAM,oBAAU,eAAgB7H,KAAKgO,UACrC0L,QAAS1Z,KAAKiW,YACdjU,QAAShC,KAAK4V,kBACdhN,KAAM5I,KAAK+B,MAAM6G,KACjB8O,OAAQA,IAGT1X,KAAK+B,MAAM6G,MACV,gCACE,gBAACqe,GAAA,EAAc,KACZ,KAAYzf,QAAO,SAAA4gB,GAAK,2BAAAA,KAA0BnhB,IAAIjH,KAAK6mB,aAE9D,gBAACK,GAAA,EAAqB,CAAC1jB,QAASrD,OAAO6W,KAAKS,GAAOnR,OAAQoR,OAAQ7E,EAAMvM,YA5E5E,EAAAuO,aAAe,CACpBjM,MAAM,GAiFV,EArFA,CAAuC,iB,mjBC2BvC,4B,+CA2MA,OA3M6B,QAC3B,YAAAyf,sBAAA,WACQ,MAAsEroB,KAAK+B,MAAzEid,EAAS,YAAEsJ,EAAM,SAAEC,EAAa,gBAAEC,EAAU,aAAErhB,EAAK,QAAEwL,EAAU,aACvE,IAAKqM,EACH,OAAO,KAET,IAAMyJ,EAAc,CAClB3D,aAAc9F,EAAUtf,IACxB0X,sBAAuBpX,KAAK+B,MAAMqV,sBAClCzT,SAAU3D,KAAK+B,MAAM2mB,eACrB7S,SAAU7V,KAAK+B,MAAM4mB,cACrBxhB,MAAK,GAEP,OACE,gCACG6X,EAAUzN,YAAc,KAAmBqX,WAC1C,gBAAC,GAAc,IACbjW,WAAYA,EACZqS,YAAa7d,EAAM6d,YACnBxM,UAAwC,IAA9B+P,EAAcvD,YACxBpc,OAAQ4f,EAAWxD,YACnBvN,MAAO6Q,EAAOtD,aACVyD,IAGR,gBAAC,GAAS,IACR9V,WAAYA,EACZ6F,UAAkC,IAAxB+P,EAAcnD,MACxBA,MAAOje,EAAMie,MACbxc,OAAQ4f,EAAWpD,MACnB3N,MAAO6Q,EAAOlD,OACVqD,MAMZ,YAAAxmB,OAAA,WACQ,MAAqEjC,KAAK+B,MAAxEid,EAAS,YAAEwE,EAAwB,2BAAE8E,EAAM,SAAEE,EAAU,aAAErhB,EAAK,QAEhE0hB,GACH7J,IAAc,CAAC,MAAO,MAAO,MAAO,WAAWnf,SAASmf,EAAUzN,WAC/DuX,GAAsB9J,GAAqC,QAAxBA,EAAUzN,UAEnD,OACE,gCACE,gBAAC,GAAS,CACRiH,UAA6C,IAAnCxY,KAAK+B,MAAMwmB,cAAc1V,MACnClP,SAAU3D,KAAK+B,MAAM2mB,eACrB7S,SAAU7V,KAAK+B,MAAM4mB,cACrB/f,OAAQ4f,EAAW3V,MACnB4E,MAAO6Q,EAAOzV,MACdA,MAAO1L,EAAM0L,QAEf,gBAAC,GAAa,CACZ2F,UAAkD,IAAxCxY,KAAK+B,MAAMwmB,cAAcT,WACnCnkB,SAAU3D,KAAK+B,MAAM2mB,eACrB7S,SAAU7V,KAAK+B,MAAM4mB,cACrB/f,OAAQ4f,EAAWV,WACnBA,WAAY3gB,EAAM2gB,WAClBrQ,MAAO6Q,EAAOR,aAEhB,gBAACJ,GAAU,CACTlP,UAA8C,IAApCxY,KAAK+B,MAAMwmB,cAAcZ,OACnChkB,SAAU3D,KAAK+B,MAAM2mB,eACrB7S,SAAU7V,KAAK+B,MAAM4mB,cACrB/f,OAAQ4f,EAAWb,OACnBlQ,MAAO6Q,EAAOX,OACdA,OAAQxgB,EAAMwgB,SAEhB,gBAAC,GAAe,CACdnP,UAAmD,IAAzCxY,KAAK+B,MAAMwmB,cAAc5B,YACnChjB,SAAU3D,KAAK+B,MAAM2mB,eACrB7S,SAAU7V,KAAK+B,MAAM4mB,cACrB/f,OAAQ4f,EAAW7B,YACnBA,YAAaxf,EAAMwf,YACnBC,SAAUzf,EAAMyf,SAChBnP,MAAO6Q,EAAO3B,cAEhB,gBAAC,GAAW,CACVnO,UAAgD,IAAtCxY,KAAK+B,MAAMwmB,cAAcP,SACnCrkB,SAAU3D,KAAK+B,MAAM2mB,eACrB7S,SAAU7V,KAAK+B,MAAM4mB,cACrB/f,OAAQ4f,EAAWR,SACnBvQ,MAAO6Q,EAAON,SACdA,SAAU7gB,EAAM6gB,WAElB,gBAACe,GAAA,EAAa,CACZvT,IAAKrO,EAAMqO,IACX4D,UAAWoP,EAAWhT,IACtBiE,SAAU6O,EAAO9S,IACjBwD,aAA8C,IAAjChZ,KAAK+B,MAAMwmB,cAAc/S,IACtCmD,oBAA4D,IAAxC3Y,KAAK+B,MAAMwmB,cAAcjT,WAC7CuD,mBAA0D,IAAvC7Y,KAAK+B,MAAMwmB,cAAchT,UAC5CkD,6BAA8E,IAAjDzY,KAAK+B,MAAMwmB,cAAc9S,oBACtD2B,sBAAuBpX,KAAK+B,MAAMqV,sBAClCzT,SAAU3D,KAAK+B,MAAM2mB,eACrB7S,SAAU7V,KAAK+B,MAAM4mB,cACrB/f,OAAQ4f,EAAWnT,UACnBC,WAAYnO,EAAMmO,WAClBsD,iBAAkB4P,EAAWlT,WAC7B0T,gBAAiBV,EAAOhT,WACxBnO,MAAOA,EACPoO,UAAWpO,EAAMoO,UACjBuD,gBAAiB0P,EAAWjT,UAC5B0T,eAAgBX,EAAO/S,UACvBE,oBAAqBtO,EAAMsO,oBAC3BiD,0BAA2B8P,EAAW/S,oBACtCyT,yBAA0BZ,EAAO7S,sBAEnC,gBAAC,GAAiB,CAChBuJ,UAAWA,EACX4D,aAAczb,EAAMyb,aACpBY,yBAA0BA,EAC1B1T,UAAW3I,EAAM2I,UACjB+S,cAAe1b,EAAM0b,cACrBC,cAAe3b,EAAM2b,cACrBtK,UAAiD,IAAvCxY,KAAK+B,MAAMwmB,cAAczY,UACnCnM,SAAU3D,KAAK+B,MAAM2mB,eACrB7S,SAAU7V,KAAK+B,MAAM4mB,cACrB/f,OAAQ4f,EAAW1Y,UACnBiT,gBAAiB5b,EAAM4b,gBACvBtL,MAAO6Q,EAAOxY,YAEhB,gBAAC,GAAa,CACZ0I,UAAiD,IAAvCxY,KAAK+B,MAAMwmB,cAAcxC,UACnCA,UAAW5e,EAAM4e,UACjB3O,sBAAuBpX,KAAK+B,MAAMqV,sBAClCzT,SAAU3D,KAAK+B,MAAM2mB,eACrB7S,SAAU7V,KAAK+B,MAAM4mB,cACrB/f,OAAQ4f,EAAWzC,UACnB5e,MAAOA,EACPue,oBAAqB1lB,KAAK+B,MAAM2jB,oBAChCjO,MAAO6Q,EAAOvC,YAEhB,gBAAC,GAAS,CACRvN,UAA6C,IAAnCxY,KAAK+B,MAAMwmB,cAAcjkB,MACnCyhB,UAAW5e,EAAM4e,UACjB3O,sBAAuBpX,KAAK+B,MAAMqV,sBAClCzT,SAAU3D,KAAK+B,MAAM2mB,eACrB7S,SAAU7V,KAAK+B,MAAM4mB,cACrB/f,OAAQ4f,EAAWlkB,MACnB6C,MAAOA,EACPogB,gBAAiBvnB,KAAK+B,MAAMwlB,gBAC5BjjB,MAAO6C,EAAM7C,MACbmT,MAAO6Q,EAAOhkB,QAEhB,gBAAC,GAAQ,CACP0a,UAAWA,EACXxG,UAA4C,IAAlCxY,KAAK+B,MAAMwmB,cAAcvc,KACnCoL,sBAAuBpX,KAAK+B,MAAMqV,sBAClCzT,SAAU3D,KAAK+B,MAAM2mB,eACrB7S,SAAU7V,KAAK+B,MAAM4mB,cACrB/f,OAAQ4f,EAAWxc,KACnB7E,MAAOA,EACPsQ,MAAO6Q,EAAOtc,KACdA,KAAM7E,EAAM6E,OAEb6c,GACC,gBAAC,GAAY,CACX7J,UAAWA,EACXxG,UAAgD,IAAtCxY,KAAK+B,MAAMwmB,cAAc/B,SACnCpP,sBAAuBpX,KAAK+B,MAAMqV,sBAClCzT,SAAU3D,KAAK+B,MAAM2mB,eACrB7S,SAAU7V,KAAK+B,MAAM4mB,cACrB/f,OAAQ4f,EAAWhC,SACnBA,SAAUrf,EAAMqf,SAChBrf,MAAOA,EACPof,qBAAsBvmB,KAAK+B,MAAMonB,0BACjC1R,MAAO6Q,EAAO9B,WAGjBxmB,KAAKqoB,yBACJroB,KAAK+B,MAAMqnB,WAAappB,KAAK+B,MAAMsnB,gCACnC,gBAAC,GAAa,CACZrH,SAAU7a,EAAM6a,SAChBD,UAAW5a,EAAM4a,UACjBvJ,UAAiD,IAAvCxY,KAAK+B,MAAMwmB,cAAcxG,UACnC3K,sBAAuBpX,KAAK+B,MAAMqV,sBAClCzT,SAAU3D,KAAK+B,MAAM2mB,eACrB7S,SAAU7V,KAAK+B,MAAM4mB,cACrB/f,OAAQ4f,EAAWzG,UACnB5a,MAAOA,EACP+a,gBAAiBliB,KAAK+B,MAAMmgB,gBAC5BzK,MAAO6Q,EAAOvG,YAGjB+G,IAAuB9oB,KAAK+B,MAAMsnB,gCACjC,gBAAC,GAAW,CACV7G,QAASrb,EAAMqb,QACfxD,UAAWA,EACXxG,UAA+C,IAArCxY,KAAK+B,MAAMwmB,cAAc/F,QACnCpL,sBAAuBpX,KAAK+B,MAAMqV,sBAClCzT,SAAU3D,KAAK+B,MAAM2mB,eACrB7S,SAAU7V,KAAK+B,MAAM4mB,cACrB/f,OAAQ4f,EAAWhG,QACnBrb,MAAOA,EACPsQ,MAAO6Q,EAAO9F,YAM1B,EA3MA,CAA6B,iBAuNd,iBAVgB,SAACvc,GAC9B,IAAMojB,EAAiC,iCACrCpjB,EACA,0CAEF,MAAO,CACLojB,gCAAgCA,aAA8B,EAA9BA,EAAgCtoB,WAAU,GAAKuoB,cAIpE,CAAyB,I,8fCxMlCC,GAAiB,KAGjBC,GAAY,K,GAIlB,YAGE,WAAYznB,GAAZ,MACE,YAAMA,IAAM,K,OAHd,EAAA2J,SAAU,EAiCV,EAAA+d,WAAa,WACX,OAAO,EAAK1nB,MAAM2nB,YAAY,CAAEC,iBAAkB,sBAAuBtiB,GArChD,OAwC3B,EAAAuiB,mBAAqB,WACX,IAAAniB,EAAgB,EAAK1F,MAAV,YACX6Q,EAAW,EAAK3M,MAAV,OACRzC,EAAU,GAEZ,aAAWiE,KAEXmL,EAAOpL,QAAO,SAAArD,GAAS,OAAAA,EAAM8E,WAAaxB,EAAnB,SAAsCnB,OAAS,GAEtE9C,EAAQuR,KAAK,CACXzM,OAAQb,EAAYa,OACpB6I,MAAO1J,EAAYI,KACnB9G,MAAO0G,EAAYC,SAUzB,OALwBkL,EAAOpL,QAAO,SAAArD,GAAS,OAAAA,EAAA,YAAgBmC,OAAS,GAEtE9C,EAAQuR,KAAK,CAAE5D,MAAO,oBAAU,cAAepQ,MAAO,KAGjDyC,GAGT,EAAAqmB,qBAAuB,SAAC1iB,GACtB,OAAO,aAAgBA,GAAOlD,MAAK,SAAC,GAClC,OAD2C,UACnCgD,KAAI,SAAA6iB,GACV,IAAMC,EAAWD,EAAEjiB,MAAQiiB,EAAEpiB,MAE7B,MAAO,CACLY,OAAQwhB,EAAExhB,OACV6I,MAAO,aAAa2Y,GAAKC,EAAW,kCAAwB,iBAAkBA,GAC9EhpB,MAAO+oB,EAAEpiB,cAMjB,EAAAsiB,qBAAuB,SAAC/gB,GACtB,EAAKnD,SAAS,CAAEmD,SAAQ,KAG1B,EAAAghB,iBAAmB,SAAC9iB,GAClB,OAAO,aAAgB,CAAEC,EAAGD,IAASlD,MAAK,SAAA+H,GACxC,OAAAA,EAAK/E,KAAI,SAAAgF,GAAO,MAAC,CAAEkF,MAAOlF,EAAKlL,MAAf,UAIpB,EAAAmpB,iBAAmB,SAACC,GAAoC,gBACtD3mB,G,MAEA,EAAKsC,WAAQ,MAAsBqkB,GAAQ3mB,EAAO,MAGpD,EAAA4mB,iBAAmB,SAACD,GAA4B,gBAAChW,G,QAC1CA,EAEgB,kBAAVgW,GACT,EAAKrkB,WAAQ,MAAsBqkB,IAAQ,EAAI,IAF/C,EAAKrkB,WAAQ,MAAsBqkB,QAAQnmB,EAAS,MAMxD,EAAAqmB,4BAA8B,SAACpd,GAC7B,EAAKnH,SAAS,CAAEmH,WAAU,KAG5B,EAAAxD,oBAAsB,SAAC9H,GACrB,EAAKmE,SAAS,CAAEsE,QAASzI,EAAME,cAAcd,SAG/C,EAAAupB,wBAA0B,SAACH,GAA+B,gBAACpP,G,QACrDA,EACF,EAAKjV,WAAQ,MAAsBqkB,GAAQpP,EAAKha,MAAK,IAErD,EAAK+E,WAAQ,MAAsBqkB,QAAQnmB,EAAS,MAIxD,EAAAumB,aAAe,SAAC5oB,GACdA,EAAMC,iBAEN,IAAMuF,EAAQ,KACZ,CACEqjB,SAAU,EAAKvkB,MAAMwkB,SAAW,EAAKxkB,MAAMwkB,QAAQxjB,KAAI,SAAAmhB,GAAK,OAAAA,EAAA,SAAS3b,OACrEie,OAAQ,EAAKzkB,MAAMgD,SAAW,EAAKhD,MAAMgD,SAASlI,MAAQ,KAC1DqJ,QAAS,EAAKnE,MAAMmE,QACpBugB,cAAe,EAAK1kB,MAAMgH,WAC1B2d,YAAa,EAAK3kB,MAAM4kB,YAAc,EAAK5kB,MAAM4kB,WAAW5jB,KAAI,SAAAmhB,GAAK,OAAAA,EAAA,SAAS3b,OAC9Eqe,kBAAmB,EAAK7kB,MAAM8kB,cAC9BC,aAAc,EAAK/kB,MAAMmF,SACzB6f,SAAU,EAAKhlB,MAAMQ,OAEvB,SAAA4U,GAAK,gBAAAA,KAGD6P,EAAY,EAAKjlB,MAAM2M,OAAO3L,KAAI,SAAA9C,GAAS,OAAAA,EAAA,OAEjD,EAAK2B,SAAS,CAAEqlB,YAAY,IAC5B,aAAiBD,EAAW/jB,GAAOlD,MACjC,WACE,EAAK6B,SAAS,CAAEqlB,YAAY,IAC5B,EAAKppB,MAAMqpB,YAEb,SAAAC,GACE,EAAKvlB,SAAS,CAAEqlB,YAAY,IAC5B,OAAA3mB,GAAA,GAAiB6mB,OAwBvB,EAAAC,cAAgB,WAAM,OACpB,2BACE,uBAAK9oB,UAAU,cACb,0BAAK,oBAAU,iBAEjB,uBAAKA,UAAU,cACb,uBAAKA,UAAU,eACb,qBAAGA,UAAU,qBAGjB,uBAAKA,UAAU,cACb,gBAAC,kBAAe,CAACR,QAAS,EAAKD,MAAMwpB,SAAU,oBAX/B,cAgBtB,EAAAC,eAAiB,SAACC,GAAqB,OACrC,uBAAKjpB,UAAU,mB,IACX,kCAAwB,6BAA8BipB,GAFrB,MAMvC,EAAAC,YAAc,SACZvB,EACAhZ,EACAsa,EACAE,GACG,OACH,uBAAKnpB,UAAU,cAAc4S,GAAI,sBAAsB+U,GACrD,yBAAOyB,QAASzB,GAAQ,oBAAUhZ,IACjCwa,OACa3nB,IAAbynB,GAA0B,EAAKD,eAJ/B,KAQL,EAAAK,qBAAuB,SAACC,GACtB,OACE,iCACqB9nB,IAAlB8nB,EAAOxjB,QACN,gBAACF,GAAA,EAAM,CAAC5F,UAAU,eAAe6F,KAAMyjB,EAAOxjB,OAAQT,KAAMikB,EAAO3a,MAAO5I,KAAM,KAEjFujB,EAAO3a,QAKd,EAAA4a,oBAAsB,WACpB,IAAMN,EAAW,EAAKxlB,MAAM2M,OAAOpL,OAAOwkB,GAAU,WAAW1lB,OAE/D,GAAiB,IAAbmlB,EACF,OAAO,KAGT,IAAME,EACJ,gBAACpC,GAAc,CACb/mB,UAAU,oBACVypB,WAAW,EACXC,eAAgB,EAAKtC,qBACrBhe,SAAU,EAAKie,qBACfnlB,SAAU,EAAKslB,qBACfmC,aAAc,EAAKN,qBACnBO,aAAa,EACbrrB,MAAO,EAAKkF,MAAMgD,WAItB,OAAO,EAAKyiB,YAAY,WAAY,wBAAyBD,EAAUE,IAGzE,EAAAU,gBAAkB,WAChB,IAAMZ,EAAW,EAAKxlB,MAAM2M,OAAOpL,OAAOwkB,GAAU,aAAa1lB,OAEjE,GAAiB,IAAbmlB,EACF,OAAO,KAGT,IACMjoB,EADuB,CAAC,MAAO,gBAAiB,cAChCyD,KAAI,SAAAR,GAAQ,MAAC,CAAE0K,MAAO,oBAAU,aAAc1K,GAAO1F,MAAzC,MAE5BurB,EAAiB,SAACR,GAA6C,OACnE,gCACE,gBAAC,KAAa,CAAC3kB,MAAO2kB,EAAO/qB,QAC7B,wBAAMyB,UAAU,sBAAsBspB,EAH2B,SAO/DH,EACJ,gBAAC,KAAM,CACLnpB,UAAU,oBACVypB,WAAW,EACXtoB,SAAU,EAAK2mB,wBAAwB,QACvCgC,eAAgBA,EAChB9oB,QAASA,EACT+oB,YAAY,EACZxrB,MAAO,EAAKkF,MAAMQ,KAClB+lB,cAAeF,IAInB,OAAO,EAAKZ,YAAY,OAAQ,iBAAkBD,EAAUE,IAG9D,EAAAc,oBAAsB,WACpB,IAAMhB,EAAW,EAAKxlB,MAAM2M,OAAOpL,OAAOwkB,GAAU,iBAAiB1lB,OAErE,GAAiB,IAAbmlB,EACF,OAAO,KAGT,IACMjoB,EADa,CAAC,UAAW,WAAY,QAAS,QAAS,QAClCyD,KAAI,SAAAmE,GAAY,MAAC,CAC1C+F,MAAO,oBAAU,WAAY/F,GAC7BrK,MAAOqK,MAGHugB,EACJ,gBAAC,KAAM,CACLnpB,UAAU,oBACVypB,WAAW,EACXtoB,SAAU,EAAK2mB,wBAAwB,YACvCgC,eAAgB,SAACR,GAA8B,uBAACrgB,GAAA,EAAc,CAACL,SAAU0gB,EAA1B,SAC/CtoB,QAASA,EACT+oB,YAAY,EACZxrB,MAAO,EAAKkF,MAAMmF,SAClBohB,cAAe,SAACV,GAA8B,uBAACrgB,GAAA,EAAc,CAACL,SAAU0gB,EAA1B,WAIlD,OAAO,EAAKJ,YAAY,WAAY,qBAAsBD,EAAUE,IAGtE,EAAAe,gBAAkB,SAACZ,GACjB,OAAO,4BAAOA,EAAO3a,QAGvB,EAAAwb,gBAAkB,SAACxC,EAAiChZ,EAAeyb,GACzD,IAAAC,EAAgB,EAAK5mB,MAAV,YACbwlB,EAAW,EAAKxlB,MAAM2M,OAAOpL,OAAOwkB,GAAU,aAAa1lB,OAEjE,QAAoBtC,IAAhB6oB,GAA0C,IAAbpB,EAC/B,OAAO,KAGT,IAAME,EACJ,gBAACnC,GAAS,CACRsD,UAAWF,EACXpqB,UAAU,oBACVypB,WAAW,EACXC,eAAgB,EAAKjmB,MAAM4mB,YAC3BE,mBAAoB,EACpBC,OAAO,EACPC,cAAe,EAAK/C,iBAAiBC,GACrCve,SAAU,EAAKqe,iBACfiD,kBAAmBC,GACnBhB,aAAc,EAAKO,gBACnBN,aAAa,EACbrrB,MAAO,EAAKkF,MAAMkkB,KAItB,OAAO,EAAKuB,YAAYvB,EAAOhZ,EAAOsa,EAAUE,IAGlD,EAAAyB,uBAAyB,WACvB,IAAMrgB,EAAc,EAAKsgB,wBAAwB,EAAKpnB,MAAM2M,QAE5D,OAA2B,IAAvB7F,EAAYzG,OACP,KAIP,uBAAK9D,UAAU,eACb,6BAAQ,oBAAU,qBACjBuK,EAAY9F,KAAI,SAAAgG,GAAc,OAC7B,wBACEzK,UAAU,0EACV9C,IAAKuN,EAAWA,YAChB,gBAAC,KAAK,CACJkH,QAAS,EAAKlO,MAAMgH,aAAeA,EAAWA,WAC9CuG,QAAS,EAAK6W,4BACdtpB,MAAOkM,EAAWA,YACjB,oBAAU,mBAAoBA,EAAWA,aAE3C,EAAKue,eAAeve,EAVM,aAiBrC,EAAAqgB,mBAAqB,WAGnB,OAAiB,IAFA,EAAKrnB,MAAM2M,OAAOpL,OAAOwkB,GAAU,YAAY1lB,OAGvD,KAIP,uBAAK9D,UAAU,eACb,yBAAOopB,QAAQ,WACb,wBAAMppB,UAAU,eAAe,oBAAU,2BACzC,gBAAC,KAAW,CACVA,UAAU,cACVD,QAAS,oBAAU,qCAGvB,4BACE6S,GAAG,UACHzR,SAAU,EAAK8F,oBACfe,KAAM,EACNzJ,MAAO,EAAKkF,MAAMmE,SAAW,KAE/B,gBAACM,GAAA,EAAc,CAAClI,UAAU,wCAKhC,EAAA+qB,yBAA2B,WAAM,OAC/B,gBAAC,IAAQ,CACPpZ,aAAsCnQ,IAA7B,EAAKiC,MAAM8kB,cACpBvoB,UAAU,kCACV4S,GAAG,qBACH5B,QAAS,EAAK4W,iBAAiB,iBAC/BoD,OAAO,GACP,0BAAQhrB,UAAU,uBAAuB,oBAPZ,+BAWjC,EAAAirB,WAAa,WACL,MAAiC,EAAKxnB,MAApC2M,EAAM,SAAE4O,EAAM,SAAE2J,EAAU,aAE5BuC,EAAelM,GAAUA,EAAO3H,MAjZb,IAmZzB,OACE,wBAAMzE,GAAG,mBAAmBuY,SAAU,EAAKpD,cACzC,uBAAK/nB,UAAU,cACb,0BAAK,kCAAwB,+BAAgCoQ,EAAOtM,UAGtE,uBAAK9D,UAAU,8BACZkrB,GACC,gBAACE,EAAA,MAAK,CAACC,QAAQ,WACb,gBAAC,mBAAgB,CACfC,eAAgB,oBAAU,wCAC1B1Y,GAAG,uCACHsC,OAAQ,CAAE8E,IAAK,8BA/ZF,SAoalB,EAAKuP,sBACL,EAAKM,kBACL,EAAKI,sBACL,EAAKE,gBAAgB,UAAW,kBAAkB,GAClD,EAAKA,gBAAgB,aAAc,qBAAqB,GACxD,EAAKS,yBACL,EAAKE,qBACL1a,EAAOtM,OAAS,GAAK,EAAKinB,2BACR,IAAlB3a,EAAOtM,QACN,gBAACsnB,EAAA,MAAK,CAACC,QAAQ,WAAW,oBAAU,gCAIxC,uBAAKrrB,UAAU,cACZ2oB,GAAc,qBAAG3oB,UAAU,yBAC5B,gBAAC,eAAY,CAACiI,SAAU0gB,GAAgC,IAAlBvY,EAAOtM,OAAc8O,GAAG,sBAC3D,oBAAU,UAEb,gBAAC,kBAAe,CAACpT,QAAS,EAAKD,MAAMwpB,SAAU,oBAAU,cA/a/D,EAAKtlB,MAAQ,CAAE4mB,YAAa,GAAIja,OAAQ,GAAI8O,SAAS,EAAMyJ,YAAY,G,EA4b3E,OAjc6C,QAQ3C,YAAAxkB,kBAAA,sBACE3G,KAAK0L,SAAU,EAEfmL,QAAQkX,IAAI,CAAC/tB,KAAKypB,aAAc,aAAgB,MAAMxlB,MACpD,SAAC,G,IAAC,OAAE2O,EAAM,SAAE4O,EAAM,SAAIxV,EAAI,KACpB,EAAKN,UACHkH,EAAOtM,OAhBQ,MAiBjBsM,EAASA,EAAOwL,MAAM,EAjBL,MAoBnB,EAAKtY,SAAS,CACZ+mB,YAAa7gB,EAAK/E,KAAI,SAAAgF,GAAO,MAAC,CAAEkF,MAAOlF,EAAKlL,MAAf,MAC7B6R,OAAM,EACN8O,SAAS,EACTF,OAAM,QAIZ,gBAIJ,YAAA1a,qBAAA,WACE9G,KAAK0L,SAAU,GAsHjB,YAAA2hB,wBAAA,SAAwBza,GACtB,IAAM7F,EAA8B,GAYpC,OAXA6F,EAAOqL,SAAQ,SAAA9Z,GACTA,EAAM4I,aACR5I,EAAM4I,YAAYkR,SAAQ,SAAAmK,QACDpkB,IAAnB+I,EAAYqb,GACdrb,EAAYqb,KAEZrb,EAAYqb,GAAK,QAKlB,KAAOjoB,OAAO6W,KAAKjK,IAAc9F,KAAI,SAAAgG,GAAc,MAAC,CACzDA,WAAU,EACVjG,MAAO+F,EAAYE,QAsRvB,YAAAhL,OAAA,WACE,OACE,gBAAC,KAAK,CAAC+rB,aAAa,QAAQ1kB,eAAgBtJ,KAAK+B,MAAMwpB,QAAShjB,KAAK,SAClEvI,KAAKiG,MAAMyb,QAAU1hB,KAAKsrB,gBAAkBtrB,KAAKytB,eAI1D,EAjcA,CAA6C,iBAmc7C,SAASzB,GAAUiC,GACjB,OAAO,SAAC9pB,GAAmB,OAAAA,EAAMiK,SAAWjK,EAAMiK,QAAQvO,SAA/B,IAG7B,SAASstB,GAAgBhc,GACvB,MAAO,KAAKA,E,eClgBA,SAAU+c,GAAqB,G,IAC3ClP,EAAS,YACT7a,EAAK,QACL+Y,EAAiB,oBACjBF,EAAqB,wBAEfmR,GAAkBnP,IAAc,CAAC,MAAO,MAAO,OAAOnf,SAASmf,EAAUzN,WACzE6c,GAAqBpP,IAAc,CAAC,MAAO,OAAOnf,SAASmf,EAAUzN,WAErE8c,EAAmB,aAAoBlqB,EAAO+Y,EAAmBF,GACjEiC,EAAgBoP,EAAmBA,EAAiBpP,cAAgB9a,EAAMwN,kBAEhF,OACE,uBAAKnP,UAAU,gCACb,gBAAC,KAAa,CAACA,UAAU,eAAe+O,UAAWpN,EAAMuN,qBAExDyc,GACC,wBAAMhpB,MAAOhB,EAAMqN,aAChB,8BAAmBrN,EAAMqN,aAC1B,wBAAMhP,UAAU,qBAInB4rB,QAA0CpqB,IAArBG,EAAMkN,iBAAqDrN,IAAzBG,EAAMsN,gBAC5D,wBAAMtM,MAAOhB,EAAMsN,gBAChB,8BAAmBtN,EAAMsN,gBAC1B,wBAAMjP,UAAU,qBAIpB,wBAAM2C,MAAO8Z,GAAgB,wBAAaA,GAAiB,M,0jBCrBjE,uE,OACE,EAAArN,aAAe,SAAC5D,EAAkB7J,GACxB,IAAAukB,EAAmB,EAAK3mB,MAAV,eAEhBusB,EAAc,CAAE1b,OAAQ,IAE9B,GAAI5E,EAASugB,WAAW,UAAW,CACjC,IAAMtiB,EAAM+B,EAASwgB,OAAO,GAC5B9F,EAAe,GAAD,MAAM4F,GAAW,CAAEtiB,KAAM,CAACC,WAExC,OAAQ+B,GACN,IAAK,OACH0a,EAAe,GAAD,MAAM4F,GAAW,CAAEzb,MAAO,CAAC1O,EAAMsC,SAC/C,MACF,IAAK,WACHiiB,EAAe,GAAD,MAAM4F,GAAW,CAAExG,WAAY,CAAC3jB,EAAMiH,aACpD,MACF,IAAK,SACHsd,EAAe,GAAD,MAAM4F,GAAW,CAAEtG,SAAU,CAAC7jB,EAAMsJ,WAClD,MACF,IAAK,aACCtJ,EAAMqJ,WACRkb,EAAe,GAAD,MAAM4F,GAAW,CAAE1H,UAAU,EAAMD,YAAa,CAACxiB,EAAMqJ,eAErEkb,EAAe,GAAD,MAAM4F,GAAW,CAAE1H,UAAU,EAAOD,YAAa,MAEjE,MACF,IAAK,WACCxiB,EAAM8E,SACRyf,EAAe,GAAD,MAAM4F,GAAW,CAAEtM,UAAU,EAAMD,UAAW,CAAC5d,EAAM8E,aAEnEyf,EAAe,GAAD,MAAM4F,GAAW,CAAEtM,UAAU,EAAOD,UAAW,MAE/D,MACF,IAAK,OACH2G,EAAe,GAAD,MAAM4F,GAAW,CAAEhqB,MAAO,CAACH,EAAM+O,SAC/C,MACF,IAAK,UACHwV,EAAe,GAAD,MAAM4F,GAAW,CAAE9H,SAAU,CAACriB,EAAMsiB,eAClD,MACF,IAAK,SACCtiB,EAAMsqB,gBACR/F,EAAe,GAAD,MAAM4F,GAAW,CAAEI,QAAS,CAACvqB,EAAMsqB,mBAEnD,MACF,IAAK,OACH/F,EAAe,GAAD,MAAM4F,GAAW,CAAElJ,MAAO,CAACjhB,EAAMwqB,oB,EAgCzD,OA9EsC,QAmDpC,YAAA1sB,OAAA,WACQ,MAAkDjC,KAAK+B,MAArD4Q,EAAU,aAAEqM,EAAS,YAAE7a,EAAK,QAAEwc,EAAa,gBAE7CC,GAAoBD,GAAiBA,EAAc3B,YAAc7a,EAAM6a,UAE7E,OACE,uBAAKxc,UAAU,8BACZoe,GACC,uBAAKpe,UAAU,wCACb,gBAAC0rB,GAAoB,CAAClP,UAAWA,EAAW7a,MAAOnE,KAAK+B,MAAMoC,SAGlE,gBAACyqB,GAAA,EAAK,CACJjc,WAAYA,EACZwB,QAASnU,KAAK+B,MAAMoS,QACpBhQ,MAAOA,EACPR,SAAU3D,KAAK+B,MAAM4B,SACrB6P,QAASxT,KAAK+B,MAAMyR,QACpBxR,QAAShC,KAAK+B,MAAMC,QACpBoP,SAAUpR,KAAK4R,aACf2C,cAAevU,KAAK+B,MAAMwS,cAC1B5F,UAAW3O,KAAK+B,MAAM4M,UACtBoF,SAAU/T,KAAK+B,MAAMgS,aAK/B,EA9EA,CAAsC,iB,qWCEtC,uE,OACE,EAAA9N,MAAe,CACb4oB,WAAW,G,EAiDf,OAnDwC,QAKtC,YAAAloB,kBAAA,sBAIEmoB,YAAW,WACT,EAAKhpB,SAAS,CAAE+oB,WAAW,IACvB,EAAK9sB,MAAMgtB,eACb,aAAc,EAAKhtB,MAAMgtB,cAAcrvB,KAAK,KAE7C,KAGL,YAAAuC,OAAA,sBACQ,EAAuEjC,KAAK+B,MAA1E4Q,EAAU,aAAEwB,EAAO,UAAE6K,EAAS,YAAEpM,EAAM,SAAEjE,EAAS,YAAEogB,EAAa,gBAGxE,OAFsB/uB,KAAKiG,MAAV,UAIb,2BACE,qBAAGzD,UAAU,aAMjB,2BACGoQ,EAAO3L,KAAI,SAAC9C,EAAOiX,GAAU,OAC5B,gBAAC,GAAQ,CACPzI,WAAYA,EACZwB,QAASA,EAAQtU,SAASsE,EAAMzE,KAChCsf,UAAWA,EACX7a,MAAOA,EACPzE,IAAKyE,EAAMzE,IACXiE,SAAU,EAAK5B,MAAMitB,cACrBxb,QAAS,EAAKzR,MAAMktB,aACpBjtB,QAAS,EAAKD,MAAMmtB,aACpBxG,eAAgB,EAAK3mB,MAAM2mB,eAC3BnU,cAAe,EAAKxS,MAAMwS,cAC1B5F,UAAWA,GAAaA,EAAUxK,QAAUA,EAAMzE,IAAMiP,EAAU9G,UAAO7D,EACzE2c,cAAevF,EAAQ,EAAIxI,EAAOwI,EAAQ,QAAKpX,EAC/C+P,SAA2B,MAAjBgb,GAAyBA,EAAcrvB,MAAQyE,EAd/B,WAoBtC,EAnDA,CAAwC,iB,oBChBzB,GALoB,OAAAgrB,GAAA,oBACjC,WAAM,uEACN,8B,qWCgBF,uE,OAiBE,EAAAC,cAAgB,SAACC,GACf,QADe,IAAAA,OAAA,GACX,EAAKjb,KAAM,CACb,IAAMyM,EAAU,EAAKzM,KAAK6M,cAAc,gBAAgB,EAAKlf,MAAMgb,UAAUrd,IAAG,MAC5EmhB,GACF,EAAKX,aAAaW,OAAS7c,EAAWqrB,KAK5C,EAAAnP,aAAe,SAACW,EAAkByO,EAAiCD,QAAjC,IAAAC,MAASjP,OAAOC,YAAc,QAAG,IAAA+O,OAAA,GACjE,0BAAgBxO,EAAS,CAAEK,UAAWoO,EAAS,IAAKxO,aAAcwO,EAAQD,OAAM,KAGlF,EAAAE,aAAe,WACb,EAAKH,eAAc,I,EAiFvB,OAhHgD,QAG9C,YAAAxoB,mBAAA,SAAmBC,GACX,MAAuC7G,KAAK+B,MAA1Cgb,EAAS,YAAEC,EAAqB,wBAGlCwS,GACuB,IAA3BxS,GAAgCA,IAA0BnW,EAAUmW,sBAEpEnW,EAAUkW,UAAUiC,YAAcjC,EAAUiC,WAC3CnY,EAAUkW,YAAcA,IAAayS,GAEtCxvB,KAAKovB,iBAqBT,YAAAntB,OAAA,sBACQ,EAA0DjC,KAAK+B,MAA7Dgb,EAAS,YAAEG,EAAiB,oBAAEF,EAAqB,wBAErD5K,EAAY,aAAa2K,EAAWG,GAAmBjW,KAAI,SAACwoB,EAAKrU,GAErE,OADAqU,EAAIrU,MAAQA,EACLqU,KAEHpB,EAAmB,aACvBtR,EACAG,EACAF,GAGI0S,EACJ1vB,KAAK+B,MAAMkb,yBAAgDjZ,IAA1BgZ,EAC7BqR,GAAoB,CAAEjT,MAAO4B,EAAuBpS,KAAMyjB,EAAiB1O,UAC3E3b,EAEN,GAAIoO,EAAU9L,OAAS,EACrB,OACE,uBAAKiY,IAAK,SAAAnK,GAAQ,OAAC,EAAKA,KAAN,IAChB,gBAAC,GAA0B,CACzBzB,WAAY3S,KAAK+B,MAAM4Q,WACvB+c,2BAA4BA,EAC5BvrB,MAAO4Y,EACPnK,OAAQ5S,KAAK+B,MAAM6Q,OACnBR,UAAWA,EACX4c,cAAehvB,KAAK+B,MAAMitB,cAC1BW,SAAU3vB,KAAKuvB,aACfnQ,iBAAkBpf,KAAK+B,MAAMqd,iBAC7Bd,OAAQte,KAAKkgB,aACbhD,kBAAmBA,KAOzB,IAAM0S,EAAavB,EACfA,EAAiBlb,UAAU0c,UAC3B9S,EAAU5J,WAAa4J,EAAU5J,UAAUC,QAEzC,EAAYib,EAAmBA,EAAiBrP,UAAYjC,EAAUiC,UACtE8Q,OACU9rB,IAAdoO,GAA2BA,EAAU4N,OAAM,SAAAjB,GAAY,OAACA,EAAD,OAEnDgR,EAAuB3d,EAAU5K,QAAO,SAAAuX,GAAY,OAAAA,EAASC,YAAT,KAGpDyK,EACJ,IAAc1M,EAAUiC,UAAYhf,KAAK+B,MAAM0nB,WAAa,WAAM,OAAA5S,QAAQC,QAAR,KAC9DiY,EAAgB,IAAchS,EAAUiC,UAAYjC,EAAUrd,SAAMsE,EAE1E,OACE,uBAAKua,IAAK,SAAAnK,GAAQ,OAAC,EAAKA,KAAN,IAChB,gBAAC4b,GAAA,EAAY,CACXJ,WAAYA,EACZjd,WAAY3S,KAAK+B,MAAM4Q,WACvBqM,UAAW,EACXiR,kBAAkB,EAClBC,4BAA4B,EAC5BC,2BAA2B,EAC3BC,wBAAyBN,EACzBJ,2BAA4BA,EAC5BK,qBAAsBA,EACtBtG,WAAYA,EACZuF,cAAehvB,KAAK+B,MAAMitB,cAC1B5N,cAAephB,KAAK+B,MAAMqf,cAC1BuO,SAAU3vB,KAAKuvB,aACfnQ,iBAAkBpf,KAAK+B,MAAMqd,iBAC7Bd,OAAQte,KAAKkgB,aACb6O,cAAeA,EACfsB,YAAY,MAMxB,EAhHA,CAAgD,iB,qWCXhD,uE,OACE,EAAA3uB,YAAc,SAAC0nB,GAAsB,kBACnC,EAAKrnB,MAAMuuB,iBAAiBlH,K,EAuBhC,OAzB4C,QAK1C,YAAAnnB,OAAA,WACU,IAAAmnB,EAAappB,KAAK+B,MAAV,SAEhB,OACE,uBAAKS,UAAU,2BACb,uBAAKA,UAAU,gBACb,gBAAC,SAAM,CACLA,UAAW4mB,EAAW,qBAAkBplB,EACxChC,QAAShC,KAAK0B,aAAY,IACzB,oBAAU,qBAEb,gBAAC,SAAM,CACLc,UAAW4mB,OAAWplB,EAAY,gBAClChC,QAAShC,KAAK0B,aAAY,IACzB,oBAAU,WAMvB,EAzBA,CAA4C,iB,QCL9B,SAAU6uB,KACtB,OACE,uBAAK/tB,UAAU,gBACb,0BAAK,oBAAU,sBCHP,SAAUguB,KACtB,OACE,uBAAKhuB,UAAU,gBACb,0BAAK,oBAAU,yB,cCFP,SAAUiuB,GAAY,G,IAAEliB,EAAM,SAC1C,OACE,uBAAK/L,UAAU,kDACb,uBAAKA,UAAU,eACb,gBAAC,mBAAgB,CACfsrB,eAAgB,oBAAU,kBAC1B1Y,GAAG,iBACHsC,OAAQ,CAAEgZ,EAAG,8BAAS,wBAAcniB,EAAQ,kB,yWCItD,yB,+CAyCA,OAzCyC,QACvC,YAAAoiB,gBAAA,WACE,OACE,wBAAMnuB,UAAU,yBACd,wBAAMA,UAAU,oBACd,wBAAMA,UAAU,uCAAqC,KACrD,wBAAMA,UAAU,uCAAqC,KACpD,oBAAU,4BAGb,4BACE,wBAAMA,UAAU,uCAAqC,KACrD,wBAAMA,UAAU,uCAAqC,KACpD,oBAAU,yBAMnB,YAAAP,OAAA,WACQ,MAAyCjC,KAAK+B,MAA5C6uB,EAAW,cAAEpP,EAAM,SAAEC,EAAa,gBAE1C,OACE,uBAAKjf,UAAU,cACZxC,KAAK2wB,kBAEN,uBAAKnuB,UAAU,uBACb,gBAAC,KAAY,CAACR,QAAShC,KAAK+B,MAAM6f,WACvB,MAAVJ,GAAkB,gBAACH,GAAa,CAACzH,QAAS6H,EAAe5H,MAAO2H,EAAO3H,aACvD7V,IAAhB4sB,GAA6B,gBAACH,GAAW,CAACliB,OAAQqiB,KAGpD5wB,KAAK+B,MAAM8uB,YACV,gBAACC,GAAA,EAAc,CACbtuB,UAAU,mBACVuuB,YAAa,yBAAiB,CAAEtqB,KAAM,aAAgB,CAAEA,KAAM,cAM1E,EAzCA,CAAyC,iB,yjCC8FnCuqB,GAAgB,CAAEpK,SAAU,SAGlC,eAGE,WAAY7kB,GAAZ,MACE,YAAMA,IAAM,KAHd,EAAA2J,SAAU,EAkIV,EAAAulB,cAAgB,SAACtvB,GACQ,WAAnB,eAGkB,KAAlBA,EAAMkE,SAERlE,EAAMC,iBACN,EAAKkE,SAAS,IACa,KAAlBnE,EAAMkE,SAAkBlE,EAAMuvB,QAEvCvvB,EAAMC,iBACN,EAAKwb,sBACsB,KAAlBzb,EAAMkE,SAAkBlE,EAAMuvB,QAEvCvvB,EAAMC,iBACN,EAAK0b,0BACsB,KAAlB3b,EAAMkE,SAAkBlE,EAAMuvB,QAEvCvvB,EAAMC,iBACN,EAAK4b,sBACsB,KAAlB7b,EAAMkE,SAAkBlE,EAAMuvB,SAEvCvvB,EAAMC,iBACN,EAAK2b,oBAIT,EAAA4T,YAAc,SAACxvB,GACU,WAAnB,cAGkB,KAAlBA,EAAMkE,SAER,EAAKC,SAAS,IAUlB,EAAAsrB,aAAe,SAACrvB,EAAc6Q,GAC5B,IAAMhK,EAAO,aAAQ7G,EAAMgd,SAAS5X,OACpC,OAAOyB,EAAOgK,EAAOye,MAAK,SAAAltB,GAAS,OAAAA,EAAMzE,MAAN,UAAsBsE,GAG3D,EAAAstB,gBAAkB,WACR,IAAA1e,EAAW,EAAK3M,MAAV,OACRwb,EAAgB,EAAK8P,wBACLvtB,IAAlByd,GAA+BA,EAAgB7O,EAAOtM,OAAS,IAC7D,EAAKL,MAAM8W,UACb,EAAKA,UAAUnK,EAAO6O,EAAgB,GAAG/hB,KAEzC,EAAKoG,SAAS,CACZiO,SAAUnB,EAAO6O,EAAgB,GAAG/hB,IACpCwd,uBAAmBlZ,EACnBgZ,2BAAuBhZ,MAM/B,EAAAwtB,oBAAsB,WACZ,IAAA5e,EAAW,EAAK3M,MAAV,OACRwb,EAAgB,EAAK8P,wBACLvtB,IAAlByd,GAA+BA,EAAgB,IAC7C,EAAKxb,MAAM8W,UACb,EAAKA,UAAUnK,EAAO6O,EAAgB,GAAG/hB,KAEzC,EAAKoG,SAAS,CACZiO,SAAUnB,EAAO6O,EAAgB,GAAG/hB,IACpCwd,uBAAmBlZ,EACnBgZ,2BAAuBhZ,MAM/B,EAAA+Y,UAAY,SAAClS,GACX,IAAM6V,EAAO,CACX+Q,SAAU,EAAK1vB,MAAMgd,SAAS0S,SAC9BtqB,MAAO,GAAF,SACA,aAAe,EAAKlB,MAAMkB,QAC1B,YAAmB,EAAKpF,MAAM4Q,aAAW,CAC5CyC,GAAI,EAAKrT,MAAMid,WAAa,EAAKjd,MAAMid,UAAUtf,IACjD0pB,SAAU,EAAKnjB,MAAMmjB,SAAW,YAASplB,EACzC4E,KAAMiC,KAGN,EAAK5E,MAAM8W,UACT2D,EAAKvZ,MAAMyB,MAAQ8X,EAAKvZ,MAAMyB,OAAS,EAAK3C,MAAM8W,UAAUrd,IAC9D,EAAKoG,SACH,CACEmX,oBAAoB,EACpBC,uBAAmBlZ,EACnBgZ,2BAAuBhZ,GAEzB,EAAK0tB,uBAGP,EAAK3vB,MAAM4vB,OAAOC,QAAQlR,GAG5B,EAAK3e,MAAM4vB,OAAO5c,KAAK2L,IAI3B,EAAAmR,WAAa,WACP,EAAK5rB,MAAMkB,OACb,EAAKpF,MAAM4vB,OAAO5c,KAAK,CACrB0c,SAAU,EAAK1vB,MAAMgd,SAAS0S,SAC9BtqB,MAAO,GAAF,SACA,aAAe,EAAKlB,MAAMkB,QAC1B,YAAmB,EAAKpF,MAAM4Q,aAAW,CAC5CyC,GAAI,EAAKrT,MAAMid,WAAa,EAAKjd,MAAMid,UAAUtf,IACjD0pB,SAAU,EAAKnjB,MAAMmjB,SAAW,YAASplB,EACzC4E,UAAM5E,OAMd,EAAA8tB,kBAAoB,WACV,IAAA/d,EAAa,EAAK9N,MAAV,SACZ8N,GACF,EAAKgJ,UAAUhJ,IAInB,EAAA2d,sBAAwB,SAACrC,QAAA,IAAAA,OAAA,GACf,IAAAtb,EAAa,EAAK9N,MAAV,SACZ8N,GACF,aAAcA,EAAUsb,IAI5B,EAAA7L,yBAA2B,iBAAM,OAAAuO,QAA8C,QAAvC,EAAC,EAAKhwB,MAAMgd,SAAS5X,MAAMyb,oBAAY,eAAE/iB,SAAS,OAE1F,EAAA6pB,YAAc,SAACsI,EAAwBC,QAAA,IAAAA,OAAA,GAC7B,IAAAjT,EAAc,EAAKjd,MAAV,UACX,EAAkC,EAAKkE,MAArCmjB,EAAQ,WAAEZ,EAAU,aAAErhB,EAAK,QAE7BmhB,EAAS2J,EACX9xB,OAAO6W,KAAKwR,GACThhB,QAAO,SAAA0qB,GAAS,OAAAA,IAAA,QAChBjrB,IAAI,MACJwF,KAAK,UACRzI,EAEEmuB,EAAU,kBACX,YAAmB,EAAKpwB,MAAM4Q,aAAW,CAC5Cyf,cAAepT,GAAaA,EAAUtf,IACtC0nB,EAAG,cACA,aAAejgB,IAAM,CACxBE,GAAI,MACJihB,OAAM,IACH0J,GAgBL,YAb2BhuB,IAAvBmD,EAAMyb,cAA8B,EAAKY,6BAC3C2O,EAAWvP,aAAe,wBAAczb,EAAMyb,eAI5Czb,EAAMkrB,MACRlyB,OAAOuqB,OAAOyH,EAAY,CAAEG,IAAK,UAG/BlJ,GACFjpB,OAAOuqB,OAAOyH,EAAY,CAAEpQ,UAAW,WAGlC,EAAKhgB,MAAM2nB,YAAYyI,IA4DhC,EAAAI,gBAAkB,SAAChyB,GACjB,OAAO,EAAKmpB,YAAY,CAAEnpB,EAAC,KAG7B,EAAAiyB,iBAAmB,SACjBjyB,EACAkyB,GAWA,OATuB,SAAjBC,EAAkBnyB,EAAWoyB,GACjC,OAAO,EAAKJ,gBAAgBhyB,GAAG0D,MAAK,SAAC,GAAE,IAAQ2uB,EAAU,SAAEpR,EAAM,SAAKqR,EAAK,KAAtC,qBAC7BjgB,EAAS,GAAI+f,EAAeC,GAClC,OAAOH,EAAKG,EAAYpR,GACrB,IAAG5O,OAAM,EAAE4O,OAAM,GAAKqR,GACrBH,EAAenyB,EAAI,EAAGqS,MAIvB8f,CAAenyB,EAAG,KAG3B,EAAAuyB,gBAAkB,WACR,IAAAtR,EAAW,EAAKvb,MAAV,OAEd,IAAKub,EACH,OAAO3K,QAAQkc,SAGjB,IAAMxyB,EAAIihB,EAAOoE,UAAY,EAG7B,OADA,EAAK9f,SAAS,CAAEktB,UAAU,EAAOC,aAAa,IACvC,EAAKV,gBAAgBhyB,GAAG0D,MAC7B,SAAAC,GACM,EAAKwH,SACP,EAAK5F,UAAS,SAAAG,GAAS,MAAC,CACtBgtB,aAAa,EACbrgB,OAAQ,GAAI3M,EAAM2M,OAAW1O,EAAS0O,QACtC4O,OAAQtd,EAASsd,cAIvB,WACM,EAAK9V,SACP,EAAK5F,SAAS,CAAEmtB,aAAa,QAMrC,EAAAC,wBAA0B,SAACC,EAAoBC,EAAe9f,GACtD,MAAgC,EAAKrN,MAAnC2M,EAAM,SAAEmK,EAAS,YAAEyE,EAAM,SAEjC,IAAKzE,IAAcyE,EACjB,OAAO3K,QAAQkc,YAAO/uB,GAGxB,IAAMqvB,EAAkB,SAAClvB,GAAmB,OAAAA,EAAM6a,YAAcjC,EAApB,WAEtC0V,EAAO,SAACG,EAAuBpR,GACnC,IAAM8R,EAAYV,EAAWA,EAAWtsB,OAAS,GACjD,OAAIkb,EAAO3H,OAAS2H,EAAOoE,UAAYpE,EAAOqE,WAG1CyN,EAAUtU,YAAcjC,EAAUiC,gBAGPhb,IAAxBsvB,EAAUngB,WAA2BmgB,EAAUngB,UAAUC,QAAUE,IAG5E,OAAImf,EAAK7f,EAAQ4O,GACR3K,QAAQC,QAAQlE,EAAOpL,OAAO6rB,KAGvC,EAAKvtB,SAAS,CAAE4b,SAAS,IAClB,EAAK8Q,iBAAiBhR,EAAOoE,UAAY,EAAG6M,GAAMxuB,MACvD,SAAAC,GACE,IAAMqvB,EAAa,GAAI3gB,EAAW1O,EAAS0O,QAQ3C,OAPI,EAAKlH,SACP,EAAK5F,SAAS,CACZ8M,OAAQ2gB,EACR7R,SAAS,EACTF,OAAQtd,EAASsd,SAGd+R,EAAW/rB,OAAO6rB,MAE3B,WAIE,OAHI,EAAK3nB,SACP,EAAK5F,SAAS,CAAE4b,SAAS,IAEpB,QAKb,EAAA8R,WAAa,SAACtB,GACZ,OAAO,EAAKxI,YAAY,CAAEriB,GAAI,EAAGihB,OAAQ,aAAS4J,KAAU,GAAOjuB,MACjE,SAAC,GAAE,IAAAqkB,EAAM,SAAKuK,EAAK,KAAlB,YACK,EAAKnnB,SACP,EAAK5F,UAAS,SAAAG,GAAS,MAAC,CACtBqiB,OAAQ,GAAF,MAAOriB,EAAMqiB,QAAW,aAAYA,IAC1CC,cAAe,IAAKtiB,EAAMsiB,cAAe2J,GACzCuB,yBAA0B,GAAF,MACnBxtB,EAAMwtB,0BACN,IAAMZ,EAAMzuB,WAAY,SAE7B+kB,0BAA2B,GAAF,MACpBljB,EAAMkjB,2BACN,IAAM0J,EAAMzuB,WAAY,QAE7BshB,oBAAqB,GAAF,MACdzf,EAAMyf,qBACN,IAAMmN,EAAM9M,UAAW,QAE5BwB,gBAAiB,GAAF,MAAOthB,EAAMshB,iBAAoB,IAAMsL,EAAMvuB,MAAO,QACnE4d,gBAAiB,GAAF,MAAOjc,EAAMic,iBAAoB,IAAM2Q,EAAMxuB,MAAO,iBAIzE,gBAMJ,EAAAqvB,WAAa,WACX,IAAMC,EAAa,aAAe,EAAK1tB,MAAMkB,OAC7C,OAAQ,aAAgBwsB,EAAY3C,KAGtC,EAAA4C,iBAAmB,WACjB,IAAMhhB,EAAS,EAAK3M,MAAMkO,QACvBlN,KAAI,SAAAkN,GAAW,SAAKlO,MAAM2M,OAAOye,MAAK,SAAAltB,GAAS,OAAAA,EAAMzE,MAAN,QAC/C8H,QAAO,SAACrD,GAA4B,gBAAAA,KACjCqd,EAAS,CAAEoE,UAAW,EAAGC,SAAUjT,EAAOtM,OAAQuT,MAAOjH,EAAOtM,QACtE,OAAOuQ,QAAQC,QAAQ,CAAElE,OAAM,EAAE4O,OAAM,KAGzC,EAAAqS,eAAiB,SAAC1f,EAAmB6e,EAAoBxR,GACvD,GAAIrN,EAAQ7N,OAAS,EAAG,CACtB,IAAIU,OAAK,EAOT,OALEA,EADEgsB,GAAYxR,EACNA,EAAO3H,MXviBM,QWuiBkC2H,EAAO3H,MAEtDhO,KAAKC,IAAIqI,EAAQ7N,OXziBJ,KW4iBhB,kCAAwB,8BAA+BU,GAE9D,OAAO,oBAAU,gBAIrB,EAAA8sB,mBAAqB,SAAC7Q,GACpB,EAAKlhB,MAAM4vB,OAAO5c,KAAK,CACrB0c,SAAU,EAAK1vB,MAAMgd,SAAS0S,SAC9BtqB,MAAO,GAAF,SACA,aAAe,GAAD,MAAM,EAAKlB,MAAMkB,OAAU8b,KACzC,YAAmB,EAAKlhB,MAAM4Q,aAAW,CAC5CyC,GAAI,EAAKrT,MAAMid,WAAa,EAAKjd,MAAMid,UAAUtf,IACjD0pB,SAAU,EAAKnjB,MAAMmjB,SAAW,YAASplB,MAG7C,EAAK8B,UAAS,SAAC,G,IAAE0iB,EAAU,aAAO,MAAC,CACjCA,WAAY,GAAF,MACLA,GAAU,CACb/S,oBAAqB,aAAmC+S,EAAYvF,GACpE5N,UAAW,aAAyBmT,EAAYvF,UAKtD,EAAA8Q,qBAAuB,SAAC3K,GACtB,EAAK4K,WAAW,aACX,EAAKjyB,MAAMid,WACd,aAAaoK,GAEf,EAAKrnB,MAAM4vB,OAAO5c,KAAK,CACrB0c,SAAU,EAAK1vB,MAAMgd,SAAS0S,SAC9BtqB,MAAO,GAAF,SACA,aAAe,GAAD,MAAM,EAAKlB,MAAMkB,OAAK,CAAE6a,UAAU,EAAMD,UAAW,OACjE,YAAmB,EAAKhgB,MAAM4Q,aAAW,CAC5CyC,GAAI,EAAKrT,MAAMid,WAAa,EAAKjd,MAAMid,UAAUtf,IACjD0pB,SAAUA,EAAW,YAASplB,OAKpC,EAAAoT,sBAAwB,SAACpJ,EAAkBiV,GACjC,IAAAjE,EAAc,EAAKjd,MAAV,UACX,EAAsB,EAAKkE,MAAzBmjB,EAAQ,WAAEjiB,EAAK,QAEjBgrB,EAAa,GAAH,YACX,YAAmB,EAAKpwB,MAAM4Q,aAAW,CAC5Cyf,cAAepT,GAAaA,EAAUtf,IACtC4oB,OAAQ,aAASta,GACjBoZ,EAAG,cACA,aAAe,GAAD,MAAMjgB,GAAU8b,KAAU,CAC3C5b,GAAI,IAON,OAJI+hB,GACFjpB,OAAOuqB,OAAOyH,EAAY,CAAEpQ,UAAW,WAGlC,EAAKhgB,MAAM2nB,YAAYyI,GAAYluB,MAAK,SAAC,G,IAAEqkB,EAAM,SAAO,oBAAYA,GAAQta,OAGrF,EAAAgmB,WAAa,SAAChmB,GACZ,EAAKlI,UAAS,SAAAG,G,MAAS,MAAC,CACtBuiB,WAAY,GAAF,MAAOviB,EAAMuiB,aAAU,OAAGxa,IAAW,EAAK,SAIxD,EAAAimB,kBAAoB,SAACjmB,GACnB,EAAKlI,UAAS,SAAAG,G,MACNiuB,GAAoBjuB,EAAMuiB,WAAWxa,GACrCmmB,EAAW,CACf5L,cAAetiB,EAAMsiB,cACrBC,WAAY,GAAF,MAAOviB,EAAMuiB,aAAU,OAAGxa,GAAWkmB,EAAgB,KAmBjE,OAfIA,GAAoBlmB,IAAa,OACnCmmB,EAAS3L,WAAW/S,oBAAsB,aACxC0e,EAAS3L,WACTviB,EAAMkB,OAGR6G,EAAWmmB,EAAS3L,WAAW/S,oBAAsB,sBAAwBzH,GAI3EA,IAAa,MAAc/H,EAAMqiB,OAAOta,KAC1CmmB,EAAS5L,cAAcva,IAAY,EACnC,EAAKwlB,WAAWxlB,IAGXmmB,MAIX,EAAAC,YAAc,WACZ,EAAKryB,MAAM4vB,OAAO5c,KAAK,CACrB0c,SAAU,EAAK1vB,MAAMgd,SAAS0S,SAC9BtqB,MAAO,GAAF,SACA6pB,IACA,YAAmB,EAAKjvB,MAAM4Q,aAAW,CAC5CyC,GAAI,EAAKrT,MAAMid,WAAa,EAAKjd,MAAMid,UAAUtf,IACjD0pB,SAAU,EAAKnjB,MAAMmjB,SAAW,YAASplB,OAK/C,EAAAqwB,kBAAoB,SAAClwB,EAAe8K,EAAmBrG,GACrD,EAAK9C,UAAS,SAACG,GACL,IAAA0I,EAAc1I,EAAL,UACXquB,EAAY3lB,GAAaA,EAAU9G,OAASoH,GAAaN,EAAUxK,QAAUA,EAEnF,OAAa,IAATyE,GAAmB0rB,GAEH,IAAT1rB,GAAiB0rB,EAC1B,SAAYruB,GAAK,CAAE0I,eAAW3K,IAGzBiC,EALL,SAAYA,GAAK,CAAE0I,UAAW,CAAExK,MAAK,EAAE0D,KAAMoH,SASnD,EAAAslB,iBAAmB,SAACpwB,GAClB,EAAK2B,UAAS,SAAAG,GAAS,MAAC,CACtB+sB,UAAU,EACV7e,QAASlO,EAAMkO,QAAQtU,SAASsE,GAC5B,IAAQ8B,EAAMkO,QAAShQ,GACxB,GAAK8B,EAAMkO,QAAO,CAAEhQ,SAI3B,EAAAqwB,kBAAoB,SAACrwB,GACnB,EAAKswB,sBACL,EAAK3uB,UAAS,SAAAG,GAAS,MAAC,CACtB2M,OAAQ3M,EAAM2M,OAAO3L,KAAI,SAAAytB,GAAa,OAACA,EAAUh1B,MAAQyE,EAAMzE,IAAMyE,EAA/B,KACtC4Y,UAAW9W,EAAM8W,WAAa9W,EAAM8W,UAAUrd,MAAQyE,EAAMzE,IAAMyE,EAAQ8B,EAAM8W,eAIpF,EAAA4X,qBAAuB,WACrB,WAAa,sBACb,EAAK7uB,SAAS,CAAE8uB,iBAAiB,KAGnC,EAAAC,sBAAwB,WACtB,WAAa,UACb,EAAK/uB,SAAS,CAAE8uB,iBAAiB,KAGnC,EAAAE,qBAAuB,WACrB,EAAKhvB,SAAS,CAAEktB,UAAU,IAC1B,EAAKyB,sBACL,EAAKM,mBACL,EAAKF,yBAGP,EAAAG,aAAe,WACb,EAAKD,mBACL,EAAKN,sBACC,MAAmC,EAAK1yB,MAAtC4Q,EAAU,aAAEsiB,EAAgB,mBAChCA,GAAoB,YAActiB,IACpCsiB,KAIJ,EAAAC,yBAA2B,WACzB,EAAKH,mBAAmB9wB,MACtB,SAAC2O,GACKA,EAAOtM,OAAS,GAClB,EAAKyW,UAAUnK,EAAO,GAAGlT,QAG7B,gBAIJ,EAAAy1B,eAAiB,SAAC/Z,GvCzwBd,IAAyBga,EuC0wB3B,EAAKtvB,UvC1wBsBsvB,EuC0wBUha,EvCzwBhC,SAACnV,GACE,IAAuBmV,EAAqBnV,EAAhB,sBACpC,OADoDA,EAAL,UAEzCmV,IAAUga,EAEL,CACLnY,oBAAoB,EACpBD,2BAAuBhZ,GAGlB,CAAEiZ,oBAAoB,EAAMD,sBAAuBoY,GAGvD,SuC+vBT,EAAAhY,mBAAqB,WACnB,EAAKtX,SAAS,IAGhB,EAAAwX,uBAAyB,WACvB,EAAKxX,SAAS,IAGhB,EAAAuvB,eAAiB,SAAClhB,GACZA,EACF,EAAKrO,UAAS,SAAAG,GAAS,MAAC,CACtB+sB,UAAU,EACV7e,QAASlO,EAAM2M,OAAO3L,KAAI,SAAA9C,GAAS,OAAAA,EAAA,WAGrC,EAAK2B,SAAS,CAAEktB,UAAU,EAAO7e,QAAS,MAI9C,EAAAmhB,WAAa,SAACla,GvCzuBV,IAAqBga,EuC0uBvB,EAAKtvB,UvC1uBkBsvB,EuC0uBUha,EvCzuB5B,WACL,MAAO,CAAE6B,oBAAoB,EAAMC,kBAAmBkY,EAAWpY,sBAAuB,OuC2uB1F,EAAAO,eAAiB,WACf,EAAKzX,SAAS,IAGhB,EAAA0X,mBAAqB,WACnB,EAAK1X,SAAS,IAGhB,EAAA2uB,oBAAsB,WACd,MAA4B,EAAK1yB,MAA/B4Q,EAAU,aAAEqM,EAAS,YACzBrM,GAAcqM,GAAa,YAAcrM,IAC3C,EAAK5Q,MAAMwzB,kBAAkB5iB,EAAYqM,EAAUtf,MAhtBrD,IAAMyH,EAAQ,aAAWpF,EAAMgd,SAAS5X,O,OACxC,EAAKlB,MAAQ,CACX2uB,iBAAiB,EACjBzgB,QAAS,GACTmU,OAAQ,GACR1V,OAAQ,GACR8O,SAAS,EACT6G,cAAe,GACf0K,aAAa,EACbhW,oBAAoB,EACpBmM,SAAU,aAAoBrnB,EAAMgd,SAAS5X,OAC7CqhB,WAAY,CACVlT,WAAY,aAA8B,GAAInO,EAAO,IAAiBoP,aACtEhB,UAAW,aAA8B,GAAIpO,EAAO,IAAiBsP,YACrEqR,YAAY,EACZrS,oBAAqB,aAAmC,GAAItO,GAC5DkO,UAAW,aAAyB,GAAIlO,GACxC0L,OAAO,GAET1L,MAAK,EACLssB,yBAA0B,GAC1BtK,0BAA2B,GAC3BzD,oBAAqB,GACrB6B,gBAAiB,GACjBrF,gBAAiB,GACjBnO,SAAU,aAAQhS,EAAMgd,SAAS5X,QAEnC,EAAKstB,oBAAsB,IAAS,EAAKA,oBAAqB,K,EA+8BlE,OA/+BiC,QAmC/B,YAAA9tB,kBAAA,WACE3G,KAAK0L,SAAU,GAEX1L,KAAKiG,MAAMmjB,UAAappB,KAAK+B,MAAM0F,YAAY+tB,YAKnD,8BACA,4BACAx1B,KAAKqF,kBACLrF,KAAK+0B,oBAPH,OAUJ,YAAAnV,0BAAA,SAA0BjL,GAClB,MAAuB3U,KAAKiG,MAA1B2M,EAAM,SAAEmB,EAAQ,WAClBgJ,EAAY/c,KAAKoxB,aAAazc,EAAW/B,GAE3CmK,GAAaA,EAAUrd,MAAQqU,GACjC/T,KAAK8F,SAAS,CACZmX,oBAAoB,EACpBlJ,SAAUgJ,EAAUrd,IACpBwd,uBAAmBlZ,EACnBgZ,2BAAuBhZ,IAItB+Y,GACH/c,KAAK8F,SAAS,CAAEoX,uBAAmBlZ,EAAWgZ,2BAAuBhZ,IAGvEhE,KAAK8F,SAAS,CACZsjB,SAAU,aAAoBzU,EAAUoK,SAAS5X,OACjD4V,UAAS,EACT5V,MAAO,aAAWwN,EAAUoK,SAAS5X,UAIzC,YAAAP,mBAAA,SAAmBC,EAAkBsI,GAC3B,IAAAhI,EAAUnH,KAAK+B,MAAMgd,SAAhB,MACE0W,EAAc5uB,EAAUkY,SAAf,MAEtBlY,EAAUmY,YAAchf,KAAK+B,MAAMid,WAClC,YAAiBnY,EAAU8L,WAAY3S,KAAK+B,MAAM4Q,aAClD,aAAgB8iB,EAAWtuB,IAC5B,aAAoBsuB,KAAe,aAAoBtuB,GAKtDnH,KAAKiG,MAAM8W,WACX5N,EAAU4E,WAAa/T,KAAKiG,MAAM8N,WAAY5E,EAAU4N,WAIzD/c,KAAK0xB,yBARL1xB,KAAK+0B,mBACL/0B,KAAK8F,SAAS,CAAEktB,UAAU,MAW9B,YAAAlsB,qBAAA,WACE9G,KAAKkG,kBACLlG,KAAK0L,SAAU,EACf,iCACA,gCAGF,YAAArG,gBAAA,sBACE,WAAa,UACb,EAAI,KAAM,UAAU,WAElB,OADA,EAAKmsB,uBACE,KAET,EAAI,OAAQ,UAAU,WAEpB,OADA,EAAKF,mBACE,KAET,EAAI,QAAS,UAAU,WAErB,OADA,EAAKQ,qBACE,KAET,EAAI,OAAQ,UAAU,WAIpB,OAHuC,IAAnC,EAAK7rB,MAAMkB,MAAMyL,OAAOtM,QAC1B,EAAKurB,cAEA,KAETxR,OAAOqV,iBAAiB,UAAW11B,KAAKixB,eACxC5Q,OAAOqV,iBAAiB,QAAS11B,KAAKmxB,cAGxC,YAAAjrB,gBAAA,WACE,cAAgB,UAChBma,OAAOsV,oBAAoB,UAAW31B,KAAKixB,eAC3C5Q,OAAOsV,oBAAoB,QAAS31B,KAAKmxB,cAwC3C,YAAAI,iBAAA,WACQ,MAA4BvxB,KAAKiG,MAA/B,IAAA2M,cAAM,IAAG,KAAE,EAAEmB,EAAQ,WACvBqH,EAAQxI,EAAOgjB,WAAU,SAAAzxB,GAAS,OAAAA,EAAMzE,MAAN,KACxC,OAAkB,IAAX0b,EAAeA,OAAQpX,GAyIhC,YAAA+wB,iBAAA,sBACQU,EAAYz1B,KAAK+B,MAAMgd,SAAS5X,MAChC0uB,EAAe,aAAQ71B,KAAK+B,MAAMgd,SAAS5X,OAkBjD,OAfAnH,KAAK8F,SAAS,CAAEqO,QAAS,GAAIuN,SAAS,UACjB1d,IAAjB6xB,EACa71B,KAAKwyB,iBAAiB,GAAG,SAACI,EAAuBpR,GAC9D,OACEA,EAAO3H,OAAS2H,EAAOoE,UAAYpE,EAAOqE,UAC1CrE,EAAOoE,UAAYpE,EAAOqE,UAhUX,KAoUV+M,EAAWkD,MAAK,SAAA3xB,GAAS,OAAAA,EAAMzE,MAAN,QAGnBM,KAAK0pB,YAAY,IAAI,IAGlBzlB,MAClB,SAAC,GAAE,IAAA2sB,EAAW,cAAEtI,EAAM,SAAE1V,EAAM,SAAE4O,EAAM,SAAKqR,EAAK,KAA/C,4CACC,GAAI,EAAKnnB,SAAW,aAAgB+pB,EAAW,EAAK1zB,MAAMgd,SAAS5X,OAAQ,CACzE,IAAM,EAAY,EAAKiqB,aAAa,EAAKrvB,MAAO6Q,GAC5C,OAA+B5O,EAC/B4O,EAAOtM,OAAS,IAClB,EAAW,EAAY,EAAU5G,IAAMkT,EAAO,GAAGlT,KAEnD,EAAKoG,UAAS,SAAAG,GAAS,MAAC,CACtB8vB,oBAAqBhE,QAAQ8D,IAAiB,GAC9CjF,YAAW,EACXtI,OAAQ,GAAF,MAAOriB,EAAMqiB,QAAW,aAAYA,IAC1C5G,SAAS,EACT9O,OAAM,EACNmK,UAAS,EACTyE,OAAM,EACNiS,yBAA0B,IAAMZ,EAAMzuB,WAAY,QAClD+kB,0BAA2B,IAAM0J,EAAMzuB,WAAY,OACnDshB,oBAAqB,IAAMmN,EAAM9M,UAAW,OAC5CwB,gBAAiB,IAAMsL,EAAMvuB,MAAO,OACpC4d,gBAAiB,IAAM2Q,EAAMxuB,MAAO,SACpC0P,SAAQ,EACRmJ,uBAAmBlZ,EACnBgZ,2BAAuBhZ,MAG3B,OAAO4O,KAET,WAIE,OAHI,EAAKlH,SAAW,aAAgB+pB,EAAW,EAAK1zB,MAAMgd,SAAS5X,QACjE,EAAKrB,SAAS,CAAE4b,SAAS,IAEpB,OAiXb,YAAAsU,iBAAA,WACQ,MAA6Bh2B,KAAK+B,MAAhCid,EAAS,YAAEvX,EAAW,cACxB,EAAyDzH,KAAKiG,MAA5D+sB,EAAQ,WAAE4B,EAAe,kBAAEzgB,EAAO,UAAEvB,EAAM,SAAE4O,EAAM,SAEpDyU,EAAe9hB,EAAQ7N,OAAS,GAAKsM,EAAOtM,SAAW6N,EAAQ7N,OAC/D4vB,EAAa/hB,EAAQ7N,OAAS,IAAM2vB,EACpCE,EAAYF,GAAgBC,EAElC,OAAKzuB,EAAY+tB,WAKf,uBAAKhzB,UAAU,aACb,gBAAC,IAAQ,CACP2R,QAASgiB,EACT3zB,UAAU,2BACViI,SAA4B,IAAlBmI,EAAOtM,OACjB8O,GAAG,mBACH5B,QAASxT,KAAKq1B,eACda,WAAYA,EACZ/wB,MAAO,oBAAU,8BAEnB,gBAAC,SAAM,CACLsF,SAA6B,IAAnB0J,EAAQ7N,OAClB8O,GAAG,qBACHpT,QAAShC,KAAK20B,sBACb30B,KAAK6zB,eAAe1f,EAAS6e,EAAUxR,IAGzCoT,GACC,gBAAC,GAAe,CACd5V,UAAWA,EACXvX,YAAaA,EACbiiB,YAAasJ,EAAWhzB,KAAK0pB,YAAc1pB,KAAK4zB,iBAChDrI,QAASvrB,KAAK60B,sBACdzJ,OAAQprB,KAAK80B,wBA3BZ,MAkCX,YAAAsB,aAAA,WACQ,MAAyCp2B,KAAK+B,MAA5Cid,EAAS,YAAEvX,EAAW,cAAEkL,EAAU,aAClCxL,EAAUnH,KAAKiG,MAAV,MAEb,OACE,uBAAKzD,UAAU,uBACZiF,EAAY+tB,aAAe,0BAC1B,gBAAC,GAAc,CACbpM,SAAUppB,KAAKiG,MAAMmjB,SACrBkH,iBAAkBtwB,KAAK+zB,uBAG3B,gBAAC9e,EAAA,EAAa,CAACC,aAAclV,KAAK0zB,aAAcve,QAASnV,KAAKo0B,cAC9D,gBAAC,GAAO,CACNzhB,WAAYA,EACZqM,UAAWA,EACXwE,yBAA0BxjB,KAAKwjB,2BAC/B8E,OAAQtoB,KAAKiG,MAAMqiB,OACnBlR,sBAAuBpX,KAAKoX,sBAC5BmR,cAAevoB,KAAKiG,MAAMsiB,cAC1Ba,SAAUppB,KAAKiG,MAAMmjB,SACrBT,cAAe3oB,KAAKi0B,kBACpBvL,eAAgB1oB,KAAK8zB,mBACrBtL,WAAYxoB,KAAKiG,MAAMuiB,WACvBrhB,MAAOA,EACPssB,yBAA0BzzB,KAAKiG,MAAMwtB,yBACrCtK,0BAA2BnpB,KAAKiG,MAAMkjB,0BACtCzD,oBAAqB1lB,KAAKiG,MAAMyf,oBAChC6B,gBAAiBvnB,KAAKiG,MAAMshB,gBAC5BrF,gBAAiBliB,KAAKiG,MAAMic,oBAMpC,YAAAmU,wBAAA,WACQ,MAAyCr2B,KAAKiG,MAA5C2M,EAAM,SAAEqgB,EAAW,cAAEzR,EAAM,SAAEra,EAAK,QAE1C,OACE,uBAAK3E,UAAU,uBACb,gBAAC8e,GAAuB,CACtBC,kBAA2C,IAAxBpa,EAAMyL,OAAOtM,OAChCob,QAAS1hB,KAAKiG,MAAMyb,QACpBC,YAAa3hB,KAAK6xB,WAClBjQ,SAAU5hB,KAAKk1B,yBACf1T,OAAQA,EACRC,cAAezhB,KAAKuxB,qBAEtB,gBAAC,GAAiB,CAChB3e,OAAQA,EACRuL,aAAcne,KAAKs1B,WACnBlU,cAAephB,KAAK+c,UACpBqC,iBAAkBpf,KAAKm1B,eACvBphB,SAAU/T,KAAKiG,MAAM8N,SACrBmJ,kBAAmBld,KAAKiG,MAAMiX,kBAC9BF,sBAAuBhd,KAAKiG,MAAM+W,wBAEnCwE,GAAUA,EAAO3H,MAAQ,GACxB,gBAAC,IAAU,CACT7S,MAAO4L,EAAOtM,OACdgwB,SAAUt2B,KAAK8yB,gBACfpR,QAASuR,EACTpZ,MAAO2H,EAAO3H,UAOxB,YAAA0c,WAAA,SAAWxZ,GAAX,WACE,OACE,gBAACyZ,EAAA,EAAoB,CAACh0B,UAAU,2BAC7B,SAAC,G,IAAEi0B,EAAG,MAAO,OACZ,uBAAKj0B,UAAU,mBAAmBgG,MAAO,CAAEiuB,IAAG,IAC5C,uBAAKj0B,UAAU,0BACb,gBAACk0B,EAAA,EAAc,CACbC,OAAO,iBACPxlB,MACE4L,EAAY,oBAAU,uBAAyB,oBAAU,0BAE3D6Z,OAAQ,KAET7Z,EAAY,EAAKsZ,0BAA4B,EAAKD,qBAQ/D,YAAA/e,WAAA,WACQ,MAAyCrX,KAAK+B,MAA5C4Q,EAAU,aAAEqM,EAAS,YAAEvX,EAAW,cACpC,EAAsDzH,KAAKiG,MAAzD2M,EAAM,SAAE8O,EAAO,UAAEuR,EAAW,cAAElW,EAAS,YAAEyE,EAAM,SACjDC,EAAgBzhB,KAAKuxB,mBACrBxC,OAAkC/qB,IAAlByd,EAA8B7O,EAAO6O,QAAiBzd,EAE5E,IAAKwd,GAAUzE,EACb,OAAO,KAGT,IAAI8Z,EAAkB,KAWtB,OAVqB,IAAjBrV,EAAO3H,OAAgB6H,IAEvBmV,EADE72B,KAAK0zB,aACW,gBAAC3Z,EAAA,EAAW,MACrB/Z,KAAKiG,MAAMmjB,SACF,gBAACoH,GAAU,MAEX,gBAACD,GAAQ,OAK7B,2BACG/O,EAAO3H,MAAQ,GACd,gBAAC,GAAU,CACTlH,WAAYA,EACZwB,QAASnU,KAAKiG,MAAMkO,QACpB6K,UAAWA,EACXpM,OAAQA,EACR8V,eAAgB1oB,KAAK8zB,mBACrB9E,cAAehvB,KAAKw0B,kBACpBvF,aAAcxnB,EAAY+tB,WAAax1B,KAAKu0B,sBAAmBvwB,EAC/DkrB,aAAclvB,KAAK+c,UACnBxI,cAAevU,KAAKq0B,kBACpB1lB,UAAW3O,KAAKiG,MAAM0I,UACtBogB,cAAeA,IAIlBvN,EAAO3H,MAAQ,GACd,gBAAC,IAAU,CACT7S,MAAO4L,EAAOtM,OACdgwB,SAAUt2B,KAAK8yB,gBACfpR,QAASuR,EACTpZ,MAAO2H,EAAO3H,QAIjBgd,IAKP,YAAAC,aAAA,SAAa,G,IACX/Z,EAAS,YACTyE,EAAM,SACNC,EAAa,gBAMb,OAAO1E,EACL,gBAAC2Z,EAAA,EAAc,CAACC,OAAO,gBAEvB,uBAAKn0B,UAAU,uEACb,uBAAKA,UAAU,gEACb,uBAAKA,UAAU,0BACb,gBAACk0B,EAAA,EAAc,CAACC,OAAO,gBAEtB32B,KAAKg2B,mBACN,gBAAC,GAAW,CACVnF,YAAa7wB,KAAK+B,MAAMid,UACxB4R,YAAa5wB,KAAKiG,MAAM2qB,YACxBhP,SAAU5hB,KAAKg1B,aACfxT,OAAQA,EACRC,cAAeA,QAQ3B,YAAAsV,WAAA,WACQ,MAAwE/2B,KAAKiG,MAA3E8vB,EAAmB,sBAAE/C,EAAQ,WAAEpgB,EAAM,SAAE8O,EAAO,UAAE3E,EAAS,YAAEyE,EAAM,SACzE,OACE,uBAAKhf,UAAU,0BACZua,EACC,gBAAC,GAAkB,CACjBpK,WAAY,YAAeoK,EAAUia,OAAQja,EAAUka,aACvDrkB,OAAQA,EACR6W,WAAYzpB,KAAKkzB,wBACjBjW,mBAAoBjd,KAAKiG,MAAMgX,mBAC/B+R,cAAehvB,KAAKw0B,kBACpBpT,cAAephB,KAAK+c,UACpBqC,iBAAkBpf,KAAKm1B,eACvBpY,UAAWA,EACXG,kBAAmBld,KAAKiG,MAAMiX,kBAC9BF,sBAAuBhd,KAAKiG,MAAM+W,wBAGpC,gBAAC,IAAe,CAAC0E,QAASA,GACvBsR,GAAYxR,GAAUA,EAAO3H,MXl/Bb,KWm/Bf,gBAAC+T,EAAA,MAAK,CAACprB,UAAU,oBAAoBqrB,QAAQ,WAC3C,gBAAC,mBAAgB,CACfC,eAAgB,oBAAU,wCAC1B1Y,GAAG,uCACHsC,OAAQ,CAAE8E,IAAK,8BXv/BJ,SW2/BhBuZ,KAAyBvU,GAAUA,EAAO3H,MAAQ,IACjD,gBAAC+T,EAAA,MAAK,CAACprB,UAAU,oBAAoBqrB,QAAQ,WAC1C,kCACC,iDAn9BO,MAw9BZ7tB,KAAKqX,gBAOhB,YAAApV,OAAA,WACQ,MAAwBjC,KAAKiG,MAA3B8W,EAAS,YAAEyE,EAAM,SACnBC,EAAgBzhB,KAAKuxB,mBAC3B,OACE,uBAAK/uB,UAAU,qBAAqB4S,GAAG,eACrC,gBAAC8hB,EAAA,EAAW,CAACC,YAAY,WACzB,gBAAC,IAAM,CAACC,OAAO,EAAOjyB,MAAO4X,EAAYA,EAAUvd,QAAU,oBAAU,iBAEtEQ,KAAKu2B,WAAWxZ,GAEjB,uBAAKva,UAAU,oBACZxC,KAAK82B,aAAa,CAAE/Z,UAAS,EAAEyE,OAAM,EAAEC,cAAa,IAEpDzhB,KAAK+2B,gBAKhB,EA/+BA,CAAiC,iB,kbC1GnB,SAAUG,EAAY,G,IAAEC,EAAW,cAC/C,OACE,gBAAC,IAAmBrkB,SAAQ,MACzB,SAAC,G,IAAEukB,EAAc,iBAAEC,EAAiB,oBAAO,OAC1C,gBAACC,EAAgB,CACfF,eAAgBA,EAChBC,kBAAmBA,EACnBH,YAAaA,OAavB,+B,+CAmBA,OAnB+B,OAC7B,YAAAxwB,kBAAA,WACE3G,KAAK+B,MAAMs1B,eAAer3B,KAAK+B,MAAMo1B,cAGvC,YAAAvwB,mBAAA,SAAmBC,GACbA,EAAUswB,cAAgBn3B,KAAK+B,MAAMo1B,cACvCn3B,KAAK+B,MAAMu1B,kBAAkBt3B,KAAK+B,MAAMo1B,aACxCn3B,KAAK+B,MAAMs1B,eAAexwB,EAAUswB,eAIxC,YAAArwB,qBAAA,WACE9G,KAAK+B,MAAMu1B,kBAAkBt3B,KAAK+B,MAAMo1B,cAG1C,YAAAl1B,OAAA,WACE,OAAO,MAEX,EAnBA,CAA+B,kB,iCC7C/B,IAAIu1B,EAAYx3B,MAAQA,KAAKw3B,UAAa,WAStC,OARAA,EAAWr3B,OAAOuqB,QAAU,SAAStC,GACjC,IAAK,IAAIhB,EAAG7jB,EAAI,EAAGk0B,EAAIh2B,UAAU6E,OAAQ/C,EAAIk0B,EAAGl0B,IAE5C,IAAK,IAAIhD,KADT6mB,EAAI3lB,UAAU8B,GACOpD,OAAOQ,UAAUH,eAAek3B,KAAKtQ,EAAG7mB,KACzD6nB,EAAE7nB,GAAK6mB,EAAE7mB,IAEjB,OAAO6nB,IAEK5mB,MAAMxB,KAAMyB,YAE5Bk2B,EAAU33B,MAAQA,KAAK23B,QAAW,SAAUvQ,EAAGwQ,GAC/C,IAAIxP,EAAI,GACR,IAAK,IAAI7nB,KAAK6mB,EAAOjnB,OAAOQ,UAAUH,eAAek3B,KAAKtQ,EAAG7mB,IAAMq3B,EAAEvxB,QAAQ9F,GAAK,IAC9E6nB,EAAE7nB,GAAK6mB,EAAE7mB,IACb,GAAS,MAAL6mB,GAAqD,mBAAjCjnB,OAAO03B,sBACtB,KAAIt0B,EAAI,EAAb,IAAgBhD,EAAIJ,OAAO03B,sBAAsBzQ,GAAI7jB,EAAIhD,EAAE+F,OAAQ/C,IAC3Dq0B,EAAEvxB,QAAQ9F,EAAEgD,IAAM,GAAKpD,OAAOQ,UAAUm3B,qBAAqBJ,KAAKtQ,EAAG7mB,EAAEgD,MACvE6kB,EAAE7nB,EAAEgD,IAAM6jB,EAAE7mB,EAAEgD,KAE1B,OAAO6kB,GAEXjoB,OAAOU,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIE,EAAQ,EAAQ,IAChB82B,EAAS,EAAQ,KACjBC,EAAiB,CACjBC,IAuBJ,SAAyB/1B,GACrB,IAAIa,EAAOb,EAAGa,KAAMm1B,EAAYP,EAAOz1B,EAAI,CAAC,SAC5C,OAAQjB,EAAMoB,cAAc01B,EAAOI,WAAYX,EAAS,GAAIU,IAAY,SAAUh2B,GAC9E,IAAIS,EAAQT,EAAGS,MACf,OAAQ1B,EAAMoB,cAAc,OAAQ,CAAEpC,EAAG,+zBAAg0BuI,MAAO,CAAEzF,KAAMA,GAAQJ,EAAMK,OAAOo1B,YA1Bj5BC,IA8EJ,SAAwBn2B,GACpB,IAAIa,EAAOb,EAAGa,KAAMm1B,EAAYP,EAAOz1B,EAAI,CAAC,SAC5C,OAAQjB,EAAMoB,cAAc01B,EAAOI,WAAYX,EAAS,GAAIU,IAAY,SAAUh2B,GAC9E,IAAIS,EAAQT,EAAGS,MACf,OAAQ1B,EAAMoB,cAAc,OAAQ,CAAEpC,EAAG,iIAAkIuI,MAAO,CAAEzF,KAAMA,GAAQJ,EAAMK,OAAOo1B,YAjFnNE,IA4BJ,SAAuBp2B,GACnB,IAAIa,EAAOb,EAAGa,KAAMm1B,EAAYP,EAAOz1B,EAAI,CAAC,SAC5C,OAAQjB,EAAMoB,cAAc01B,EAAOI,WAAYX,EAAS,GAAIU,IAAY,SAAUh2B,GAC9E,IAAIS,EAAQT,EAAGS,MACf,OAAQ1B,EAAMoB,cAAc,OAAQ,CAAEpC,EAAG,ypDAA0pDuI,MAAO,CAAEzF,KAAMA,GAAQJ,EAAMK,OAAOo1B,YA/B3uDrT,IAAKwT,EACLC,IAwCJ,SAAkBt2B,GACd,IAAIa,EAAOb,EAAGa,KAAMm1B,EAAYP,EAAOz1B,EAAI,CAAC,SAC5C,OAAQjB,EAAMoB,cAAc01B,EAAOI,WAAYX,EAAS,GAAIU,IAAY,SAAUh2B,GAC9E,IAAIS,EAAQT,EAAGS,MACf,OAAQ1B,EAAMoB,cAAc,OAAQ,CAAEpC,EAAG,0OAA2OuI,MAAO,CAAEzF,KAAMA,GAAQJ,EAAMK,OAAOo1B,YA3C5TK,IAmEJ,SAA0Bv2B,GACtB,IAAIa,EAAOb,EAAGa,KAAMm1B,EAAYP,EAAOz1B,EAAI,CAAC,SAC5C,OAAQjB,EAAMoB,cAAc01B,EAAOI,WAAYX,EAAS,GAAIU,IAAY,SAAUh2B,GAC9E,IAAIS,EAAQT,EAAGS,MACf,OAAQ1B,EAAMoB,cAAc,OAAQ,CAAEpC,EAAG,kMAAmMuI,MAAO,CAAEzF,KAAMA,GAAQJ,EAAMK,OAAOo1B,YAtEpRM,IAAKC,EACLC,IAAKC,EACLC,GAkDJ,SAAuB52B,GACnB,IAAIa,EAAOb,EAAGa,KAAMm1B,EAAYP,EAAOz1B,EAAI,CAAC,SAC5C,OAAQjB,EAAMoB,cAAc01B,EAAOI,WAAYX,EAAS,GAAIU,IAAY,SAAUh2B,GAC9E,IAAIS,EAAQT,EAAGS,MACf,OAAQ1B,EAAMoB,cAAc,OAAQ,CAAEpC,EAAG,0RAA2RuI,MAAO,CAAEzF,KAAMA,GAAQJ,EAAMK,OAAOo1B,YArD5WW,IAAKF,EACLG,QAASL,EACTM,IAwCJ,SAAqB/2B,GACjB,IAAIa,EAAOb,EAAGa,KAAMm1B,EAAYP,EAAOz1B,EAAI,CAAC,SAC5C,OAAQjB,EAAMoB,cAAc01B,EAAOI,WAAYX,EAAS,GAAIU,IAAY,SAAUh2B,GAC9E,IAAIS,EAAQT,EAAGS,MACf,OAAQ1B,EAAMoB,cAAc,OAAQ,CAAEpC,EAAG,mIAAoIuI,MAAO,CAAEzF,KAAMA,GAAQJ,EAAMK,OAAOo1B,YA3CrNc,IAAKX,GAyBT,SAASA,EAAcr2B,GACnB,IAAIa,EAAOb,EAAGa,KAAMm1B,EAAYP,EAAOz1B,EAAI,CAAC,SAC5C,OAAQjB,EAAMoB,cAAc01B,EAAOI,WAAYX,EAAS,GAAIU,IAAY,SAAUh2B,GAC9E,IAAIS,EAAQT,EAAGS,MACf,OAAQ1B,EAAMoB,cAAc,OAAQ,CAAEpC,EAAG,wmBAAymBuI,MAAO,CAAEzF,KAAMA,GAAQJ,EAAMK,OAAOm2B,aAwB9rB,SAASR,EAAYz2B,GACjB,IAAIa,EAAOb,EAAGa,KAAMm1B,EAAYP,EAAOz1B,EAAI,CAAC,SAC5C,OAAQjB,EAAMoB,cAAc01B,EAAOI,WAAYX,EAAS,GAAIU,IAAY,SAAUh2B,GAC9E,IAAIS,EAAQT,EAAGS,MACf,OAAQ1B,EAAMoB,cAAc,OAAQ,CAAEpC,EAAG,0NAA2NuI,MAAO,CAAEzF,KAAMA,GAAQJ,EAAMK,OAAOo1B,WAiBhT,SAASS,EAAa32B,GAClB,IAAIa,EAAOb,EAAGa,KAAMm1B,EAAYP,EAAOz1B,EAAI,CAAC,SAC5C,OAAQjB,EAAMoB,cAAc01B,EAAOI,WAAYX,EAAS,GAAIU,IAAY,SAAUh2B,GAC9E,IAAIS,EAAQT,EAAGS,MACf,OAAQ1B,EAAMoB,cAAc,OAAQ,CAAEpC,EAAG,4OAA6OuI,MAAO,CAAEzF,KAAMA,GAAQJ,EAAMK,OAAOo1B,WApElUt3B,EAAQwB,QARR,SAAuBP,GACnB,IAAKA,EAAMwP,UACP,OAAO,KAEX,IAAIA,EAAYxP,EAAMwP,UAAU0F,cAC5BmiB,EAAYpB,EAAezmB,GAC/B,OAAO6nB,EAAYn4B,EAAMoB,cAAc+2B,EAAW,CAAE52B,UAAWT,EAAMS,UAAWO,KAAMhB,EAAMgB,OAAU,O,iCC9C1G5C,OAAOU,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,EAAa,EAAQ,KACrBC,EAAQ,EAAQ,IAChBC,EAAS,EAAQ,KACjBm4B,EAAa,EAAQ,KACrBC,EAAoB,EAAQ,KAC5BC,EAAY,EAAQ,KAgBxBz4B,EAAQwB,QAfR,SAAoBP,GAChB,IAEIy3B,EAFAh3B,EAAYT,EAAMS,UAAWwE,EAAQjF,EAAMiF,MAAO0a,EAAU3f,EAAM2f,QAAS+X,EAAa13B,EAAM03B,WAAY5f,EAAQ9X,EAAM8X,MAAO3X,EAAKH,EAAM23B,MAAOA,OAAe,IAAPx3B,GAAuBA,EAChLy3B,EAAU9f,GAASA,EAAQ7S,EAQ/B,OANIyyB,GAAc13B,EAAM63B,OACpBJ,EAAUv4B,EAAMoB,cAAck3B,EAAUM,OAAQ,CAAEr3B,UAAW,cAAe,YAAa,SAAUiI,SAAUiX,EAAS1f,QAASD,EAAM63B,QAAU14B,EAAOkB,UAAU,WAE3Ju3B,GAAW53B,EAAMu0B,WACtBkD,EAAUv4B,EAAMoB,cAAck3B,EAAUM,OAAQ,CAAEr3B,UAAW,cAAeiI,SAAUiX,EAAS,YAAa,YAAa1f,QAASD,EAAMu0B,UAAYp1B,EAAOkB,UAAU,eAEjKnB,EAAMoB,cAAc,SAAU,CAAEG,UAAWxB,EAAW,8BAA+B,CAAE,eAAgB04B,GAASl3B,IACpHtB,EAAO44B,wBAAwB,eAAgBT,EAAWU,cAAc/yB,EAAO,MAAO,MAAOqyB,EAAWU,cAAclgB,EAAO,MAAO,OACpI2f,EACA9X,GAAWzgB,EAAMoB,cAAci3B,EAAkBh3B,QAAS,CAAEE,UAAW,iD,oBCrB/E,IAAIw3B,EAAW,EAAQ,KAyCvB12B,EAAOxC,QAZP,SAAkBC,GAChB,OAAKA,GAGLA,EAAQi5B,EAASj5B,MA9BJ,KA+BaA,KA/Bb,IACG,uBA+BFA,EAAQ,GAAK,EAAI,GAGxBA,GAAUA,EAAQA,EAAQ,EAPd,IAAVA,EAAcA,EAAQ,I,4nBCFnB,SAAU21B,EAAe30B,GACrC,OACE,gBAAC,IAAY+Q,SAAQ,MAClB,SAAC,G,IAAEmnB,EAAe,kBAAEC,EAAkB,qBAAO,OAC5C,gBAACC,EAAmB,GAClBF,gBAAiBA,EACjBC,mBAAoBA,GAChBn4B,OAYd,6E,OASE,EAAAq4B,QAAU,WACF,MAAgE,EAAKr4B,MAA3DrC,EAAG,SAAE,IAAAyR,MACrB,MAAO,CAAEzR,IAAG,EAAEyR,WADY,IAAG,sBAAU,mBAAkB,EACpCylB,OAD4C,W,EAQrE,OAlByC,OACvC,YAAAjwB,kBAAA,WACE3G,KAAK+B,MAAMk4B,gBAAgBj6B,KAAKo6B,YAGlC,YAAAtzB,qBAAA,WACE9G,KAAK+B,MAAMm4B,mBAAmBl6B,KAAKo6B,YAQrC,YAAAn4B,OAAA,WACU,IAAA00B,EAAW32B,KAAK+B,MAAV,OACd,OAAO,wBAAMqT,GAAI,gBAAgBuhB,KAErC,EAlBA,CAAyC,kB,iCC/CzC,IACQ72B,EADJC,EAAaC,MAAQA,KAAKD,YACtBD,EAAgB,SAAUG,EAAGC,GAI7B,OAHAJ,EAAgBK,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,IAErB,SAAUD,EAAGC,GAEhB,SAASO,IAAOT,KAAKU,YAAcT,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEU,UAAkB,OAANT,EAAaC,OAAOS,OAAOV,IAAMO,EAAGE,UAAYT,EAAES,UAAW,IAAIF,KAGvFN,OAAOU,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,EAAa,EAAQ,KACrBC,EAAQ,EAAQ,IACpB,EAAQ,KACR,IAAIo5B,EAAS,SAAU/4B,GAEnB,SAAS+4B,IACL,IAAI94B,EAAmB,OAAXD,GAAmBA,EAAOE,MAAMxB,KAAMyB,YAAczB,KAOhE,OANAuB,EAAMG,YAAc,SAAUC,GAC1BA,EAAMC,iBACDL,EAAMQ,MAAM0I,UACblJ,EAAMQ,MAAMyR,QAAQjS,EAAMQ,MAAMhB,QAGjCQ,EAQX,OAjBAxB,EAAUs6B,EAAO/4B,GAWjB+4B,EAAM15B,UAAUsB,OAAS,WACrB,IAAIC,EAAKlC,KAAK+B,MAAOS,EAAYN,EAAGM,UAAW2R,EAAUjS,EAAGiS,QAASpP,EAAW7C,EAAG6C,SAAU0F,EAAWvI,EAAGuI,SAC3G,OAAQxJ,EAAMoB,cAAc,IAAK,CAAE,eAAgB8R,EAAS3R,UAAWxB,EAAW,wCAAyCwB,EAAW,CAAEiI,SAAUA,IAAahI,KAAM,IAAKT,QAAShC,KAAK0B,YAAasS,KAAM,SACvM/S,EAAMoB,cAAc,IAAK,CAAEG,UAAWxB,EAAW,aAAc,eAAgB,CAAE,aAAcmT,MAC/FpP,IAEDs1B,EAlBC,CAmBVp5B,EAAMiC,eACRpC,EAAQwB,QAAU+3B,G,iCCtClB,yEA4Bc,SAAU5uB,EAAe,G,IAAEjJ,EAAS,YAAE4I,EAAQ,WAC1D,OAAKA,EAIH,wBAAM5I,UAAWA,GACf,gBAAC,IAAY,CAACA,UAAU,sBAAsB4I,SAAUA,IACvD,oBAAU,WAAYA,IALlB,O,oBC9BX,IAAIjI,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQd,QAAUc,KAG/CA,EAAU,CAAC,CAACE,EAAOC,EAAIH,EAAS,MAG9C,IAAII,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSN,EAAIC,EAASI,GAEXJ,EAAQM,OAASN,EAAQM,OAAS,IAIjDJ,EAAOxC,QAAU2C,G,qBClBjB3C,EADkC,EAAQ,IAChCgU,EAA4B,IAE9BC,KAAK,CAACzR,EAAOC,EAAI,20BAA80B,KAEv2BD,EAAOxC,QAAUA,G,iCCLjB,IAAI02B,EAAYx3B,MAAQA,KAAKw3B,UAAa,WAStC,OARAA,EAAWr3B,OAAOuqB,QAAU,SAAStC,GACjC,IAAK,IAAIhB,EAAG7jB,EAAI,EAAGk0B,EAAIh2B,UAAU6E,OAAQ/C,EAAIk0B,EAAGl0B,IAE5C,IAAK,IAAIhD,KADT6mB,EAAI3lB,UAAU8B,GACOpD,OAAOQ,UAAUH,eAAek3B,KAAKtQ,EAAG7mB,KACzD6nB,EAAE7nB,GAAK6mB,EAAE7mB,IAEjB,OAAO6nB,IAEK5mB,MAAMxB,KAAMyB,YAE5Bk2B,EAAU33B,MAAQA,KAAK23B,QAAW,SAAUvQ,EAAGwQ,GAC/C,IAAIxP,EAAI,GACR,IAAK,IAAI7nB,KAAK6mB,EAAOjnB,OAAOQ,UAAUH,eAAek3B,KAAKtQ,EAAG7mB,IAAMq3B,EAAEvxB,QAAQ9F,GAAK,IAC9E6nB,EAAE7nB,GAAK6mB,EAAE7mB,IACb,GAAS,MAAL6mB,GAAqD,mBAAjCjnB,OAAO03B,sBACtB,KAAIt0B,EAAI,EAAb,IAAgBhD,EAAIJ,OAAO03B,sBAAsBzQ,GAAI7jB,EAAIhD,EAAE+F,OAAQ/C,IAC3Dq0B,EAAEvxB,QAAQ9F,EAAEgD,IAAM,GAAKpD,OAAOQ,UAAUm3B,qBAAqBJ,KAAKtQ,EAAG7mB,EAAEgD,MACvE6kB,EAAE7nB,EAAEgD,IAAM6jB,EAAE7mB,EAAEgD,KAE1B,OAAO6kB,GAEXjoB,OAAOU,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIE,EAAQ,EAAQ,IAChB82B,EAAS,EAAQ,KAMrBj3B,EAAQwB,QALR,SAAyBJ,GACrB,IAAI8Y,EAAK9Y,EAAGa,KAAMA,OAAc,IAAPiY,EAAgB,eAAiBA,EAAIkd,EAAYP,EAAOz1B,EAAI,CAAC,SACtF,OAAQjB,EAAMoB,cAAc01B,EAAOz1B,QAASk1B,EAAS,GAAIU,GACrDj3B,EAAMoB,cAAc,OAAQ,CAAEpC,EAAG,mTAAoTuI,MAAO,CAAEzF,KAAMA,Q,iCC5B5W5C,OAAOU,eAAeC,EAAS,aAAc,CAAEC,OAAO,IA8BtD,SAASu5B,EAAgB93B,EAAW0M,GAChC8R,SAASuZ,KAAKC,UAAUC,OAAOj4B,EAAW0M,GACtC8R,SAAS0Z,iBACT1Z,SAAS0Z,gBAAgBF,UAAUC,OAAOj4B,EAAW0M,GA1B7DpO,EAAQ65B,gBAHR,WACIL,EAJqB,gBAIe,IAMxCx5B,EAAQ85B,kBAHR,WACIN,EAPmB,cAOe,IAOtCx5B,EAAQ+5B,qBAJR,WACIC,QAAQC,KAAK,sDACbT,EAXuB,kBAWe,IAM1Cx5B,EAAQk6B,mBAHR,WACIV,EAjBqB,gBAiBe,IAMxCx5B,EAAQm6B,qBAHR,WACIX,EApBmB,cAoBe,IAOtCx5B,EAAQo6B,wBAJR,WACIJ,QAAQC,KAAK,yDACbT,EAxBuB,kBAwBe,K,2YCD1C,cAIE,WAAYv4B,GAAZ,MACE,YAAMA,IAAM,K,OAad,EAAAo5B,YAAc,WACZ,IAAMC,EAAe,EAAKC,WAAa,EAAKA,UAAUC,wBACtD,OAAKF,EAGE,CACL3E,IAAKpW,OAAOkb,YAAcH,EAAa3E,IACvC+E,KAAMnb,OAAOob,YAAcL,EAAaI,MAJjC,CAAE/E,IAAK,EAAG+E,KAAM,IAfzB,EAAKE,kBAAoB,KAAS,WAAM,yBAAoB,K,EAgChE,OAtCkD,OAShD,YAAA/0B,kBAAA,WACE3G,KAAK27B,cACLtb,OAAOqV,iBAAiB,SAAU11B,KAAK07B,oBAGzC,YAAA50B,qBAAA,WACEuZ,OAAOsV,oBAAoB,SAAU31B,KAAK07B,oBAc5C,YAAAz5B,OAAA,sBACE,OACE,uBACEO,UAAWxC,KAAK+B,MAAMS,UACtB+b,IAAK,SAAA8c,GAAa,OAAC,EAAKA,UAAN,IACjBr7B,KAAK+B,MAAMgD,SAAS/E,KAAKm7B,iBAIlC,EAtCA,CAAkD,iB,wCC1BlD,IAAI3D,EAAYx3B,MAAQA,KAAKw3B,UAAa,WAStC,OARAA,EAAWr3B,OAAOuqB,QAAU,SAAStC,GACjC,IAAK,IAAIhB,EAAG7jB,EAAI,EAAGk0B,EAAIh2B,UAAU6E,OAAQ/C,EAAIk0B,EAAGl0B,IAE5C,IAAK,IAAIhD,KADT6mB,EAAI3lB,UAAU8B,GACOpD,OAAOQ,UAAUH,eAAek3B,KAAKtQ,EAAG7mB,KACzD6nB,EAAE7nB,GAAK6mB,EAAE7mB,IAEjB,OAAO6nB,IAEK5mB,MAAMxB,KAAMyB,YAE5Bk2B,EAAU33B,MAAQA,KAAK23B,QAAW,SAAUvQ,EAAGwQ,GAC/C,IAAIxP,EAAI,GACR,IAAK,IAAI7nB,KAAK6mB,EAAOjnB,OAAOQ,UAAUH,eAAek3B,KAAKtQ,EAAG7mB,IAAMq3B,EAAEvxB,QAAQ9F,GAAK,IAC9E6nB,EAAE7nB,GAAK6mB,EAAE7mB,IACb,GAAS,MAAL6mB,GAAqD,mBAAjCjnB,OAAO03B,sBACtB,KAAIt0B,EAAI,EAAb,IAAgBhD,EAAIJ,OAAO03B,sBAAsBzQ,GAAI7jB,EAAIhD,EAAE+F,OAAQ/C,IAC3Dq0B,EAAEvxB,QAAQ9F,EAAEgD,IAAM,GAAKpD,OAAOQ,UAAUm3B,qBAAqBJ,KAAKtQ,EAAG7mB,EAAEgD,MACvE6kB,EAAE7nB,EAAEgD,IAAM6jB,EAAE7mB,EAAEgD,KAE1B,OAAO6kB,GAEXjoB,OAAOU,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIE,EAAQ,EAAQ,IAChB26B,EAAoB,EAAQ,KAC5BC,EAAqB,EAAQ,KAKjC/6B,EAAQwB,QAJR,SAAuBJ,GACnB,IAAI0G,EAAO1G,EAAG0G,KAAMsvB,EAAYP,EAAOz1B,EAAI,CAAC,SAC5C,OAAO0G,EAAO3H,EAAMoB,cAAcu5B,EAAkBt5B,QAASk1B,EAAS,GAAIU,IAAcj3B,EAAMoB,cAAcw5B,EAAmBv5B,QAASk1B,EAAS,GAAIU,M,iCC7BzJ,uDA4Bc,SAAUvT,EAAS5iB,GAC/B,OACE,uBACES,UAAW,EAAW,6BAA8BT,EAAMS,WAAU,gBACrDT,EAAMiM,UACpBjM,EAAMgD,Y,oBCjCb,IAAI5B,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQd,QAAUc,KAG/CA,EAAU,CAAC,CAACE,EAAOC,EAAIH,EAAS,MAG9C,IAAII,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSN,EAAIC,EAASI,GAEXJ,EAAQM,OAASN,EAAQM,OAAS,IAIjDJ,EAAOxC,QAAU2C,G,oBCpBjB,IAAIq4B,EAAW,EAAQ,KACnBC,EAAe,EAAQ,KACvBC,EAAa,EAAQ,KACrBC,EAAe,EAAQ,KAiC3B34B,EAAOxC,QAbP,SAAgBo7B,EAAQC,GACtB,GAAc,MAAVD,EACF,MAAO,GAET,IAAIn6B,EAAQ+5B,EAASG,EAAaC,IAAS,SAAS/lB,GAClD,MAAO,CAACA,MAGV,OADAgmB,EAAYJ,EAAaI,GAClBH,EAAWE,EAAQn6B,GAAO,SAAShB,EAAO2f,GAC/C,OAAOyb,EAAUp7B,EAAO2f,EAAK,S,icCKjC,yE,OACE,EAAAhf,YAAc,SAACC,GACbA,EAAMC,iBACND,EAAME,cAAcC,OAChB,EAAKC,MAAMC,SACb,EAAKD,MAAMC,W,EAoEjB,OAzEyC,OASvC,YAAAo6B,aAAA,WACE,OAAKp8B,KAAK+B,MAAMs6B,OAGT,gBAAC,IAAW,CAAC75B,UAAU,cAAcD,QAASvC,KAAK+B,MAAMs6B,SAFvD,MAKX,YAAAC,qBAAA,WACU,IAAA5kB,EAAW1X,KAAK+B,MAAV,OACd,IAAK2V,IAAWA,EAAOpR,OACrB,OAAO,KAET,IAAMvF,EACc,IAAlB2W,EAAOpR,OAAeoR,EAAO,GAAK,kCAAwB,aAAcA,EAAOpR,QACjF,OACE,wBAAM9D,UAAU,sBAAsB2C,MAAOpE,GAC1CA,IAKP,YAAAkB,OAAA,WACE,IAAMs6B,EACiB,MAArBv8B,KAAK+B,MAAM2V,QAAkB1X,KAAK+B,MAAM2V,OAAOpR,OAAS,GAA2B,MAAtBtG,KAAK+B,MAAM2X,QAE1E,OACE,uBAAKlX,UAAU,6DACZxC,KAAK+B,MAAMC,QACV,wBAAMQ,UAAU,qDACd,qBAAGC,KAAK,IAAIT,QAAShC,KAAK0B,aACxB,gBAAC,IAAa,CAACc,UAAU,sBAAsBoG,KAAM5I,KAAK+B,MAAM6G,OAC/D5I,KAAK+B,MAAM8F,MAEb7H,KAAKo8B,gBAGR,wBAAM55B,UAAU,qDACbxC,KAAK+B,MAAM8F,KACX7H,KAAKo8B,gBAITp8B,KAAK+B,MAAMgD,SAEZ,wBAAMvC,UAAU,iEACbxC,KAAKs8B,wBAGPt8B,KAAK+B,MAAMyW,UACV,wBAAMhW,UAAU,uBACd,gBAAC,IAAe,OAInB+5B,GACC,gBAAC,SAAM,CACL/5B,UAAU,+DACVR,QAAShC,KAAK+B,MAAM2X,SACnB,oBAAU,YAMvB,EAzEA,CAAyC,iB,yYCFzC,yE,OAOE,EAAAhY,YAAc,SAACC,GACbA,EAAMC,iBACND,EAAME,cAAcC,OACpB,EAAKC,MAAMC,QAAQ,EAAKD,MAAMhB,MAAOY,EAAMuI,SAAWvI,EAAMsI,U,EAmChE,OA7CuC,OAarC,YAAAuyB,YAAA,WACE,OAAuB,MAAnBx8B,KAAK+B,MAAMgW,KACN,KAGF,wBAAMvV,UAAU,cAAcxC,KAAK+B,MAAMgW,OAGlD,YAAA9V,OAAA,WACU,IAAA4F,EAAS7H,KAAK+B,MAAV,KACNS,EAAY,EAAW,yBAA0BxC,KAAK+B,MAAMS,UAAW,CAC3EwC,OAAQhF,KAAK+B,MAAMiD,OACnB,8BAA+BhF,KAAK+B,MAAMglB,YAG5C,OAAO/mB,KAAK+B,MAAM0I,SAChB,wBAAMjI,UAAWA,EAAS,aAAcxC,KAAK+B,MAAMhB,MAAOoE,MAAOnF,KAAK+B,MAAMI,SAC1E,wBAAMK,UAAU,cAAcqF,GAC7B7H,KAAKw8B,eAGR,qBACEh6B,UAAWA,EAAS,aACRxC,KAAK+B,MAAMhB,MACvB0B,KAAK,IACLT,QAAShC,KAAK0B,YACdyD,MAAOnF,KAAK+B,MAAMI,SAClB,wBAAMK,UAAU,cAAcqF,GAC7B7H,KAAKw8B,gBAxCL,EAAA3nB,aAAe,CACpBpK,UAAU,EACVsc,WAAW,EACXrF,SAAS,GAyCb,EA7CA,CAAuC,iBAAlB,O,iCCnCrB,8CA0Bc,SAAUuF,EAAe,G,IAAEliB,EAAQ,WAAEI,EAAK,QACtD,OACE,uBAAK3C,UAAU,+BACZ2C,GAAS,uBAAK3C,UAAU,qCAAqC2C,GAC7DJ,K,iCC9BP,oGAiCc,SAAUkM,EAAqBlP,GACnC,IAAAS,EAAqCT,EAA5B,UAAEqB,EAA0BrB,EAAnB,QAAEmP,EAAiBnP,EAAZ,MAAEoD,EAAUpD,EAAL,MAExC,OACE,gBAAC,IAAW,CACVS,UAAWA,EACXD,QACE,uBAAKC,UAAU,oCACZ2C,GACC,uBAAK3C,UAAU,iBACb,8BAAS2C,IAIZ/B,GAAW,yBAAIA,GAEf8N,GACC,gCACE,sBAAI1O,UAAU,qCAEb0O,EAAMjK,KAAI,SAAC,G,IAAExE,EAAI,OAAE0O,EAAK,QAAEsrB,EAAO,UAAO,OACvC,uBAAKj6B,UAAU,uBAAuB9C,IAAKyR,GACxCsrB,EACC,gBAAC,IAAI,CAACnpB,GAAI7Q,GACR,4BAAO0O,IAGT,qBACE3O,UAAU,4CACVC,KAAMA,EACNi6B,IAAI,sBACJh3B,OAAO,UACN,mBAASjD,IAAS,gBAAC,IAAU,CAAC8F,KAAM,GAAI/F,UAAU,iBACnD,4BAAO2O,WAStBpP,EAAMgD,Y,oBC3Eb,IA2CI0W,EA3Cc,EAAQ,IA2CdkhB,GAEZr5B,EAAOxC,QAAU2a,G,oBC7CjB,IAAImhB,EAAY,EAAQ,KACpBC,EAAiB,EAAQ,KACzBC,EAAW,EAAQ,KA2BvBx5B,EAAOxC,QAlBP,SAAqBi8B,GACnB,OAAO,SAASlZ,EAAOmZ,EAAKC,GAa1B,OAZIA,GAAuB,iBAARA,GAAoBJ,EAAehZ,EAAOmZ,EAAKC,KAChED,EAAMC,OAAOj5B,GAGf6f,EAAQiZ,EAASjZ,QACL7f,IAARg5B,GACFA,EAAMnZ,EACNA,EAAQ,GAERmZ,EAAMF,EAASE,GAEjBC,OAAgBj5B,IAATi5B,EAAsBpZ,EAAQmZ,EAAM,GAAK,EAAKF,EAASG,GACvDL,EAAU/Y,EAAOmZ,EAAKC,EAAMF,M,kBCxBvC,IAAIG,EAAarxB,KAAKsxB,KAClBC,EAAYvxB,KAAK2Q,IAyBrBlZ,EAAOxC,QAZP,SAAmB+iB,EAAOmZ,EAAKC,EAAMF,GAKnC,IAJA,IAAI3hB,GAAS,EACT9U,EAAS82B,EAAUF,GAAYF,EAAMnZ,IAAUoZ,GAAQ,IAAK,GAC5D7a,EAAS9hB,MAAMgG,GAEZA,KACL8b,EAAO2a,EAAYz2B,IAAW8U,GAASyI,EACvCA,GAASoZ,EAEX,OAAO7a,I,iCCvBT,IAAIoV,EAAYx3B,MAAQA,KAAKw3B,UAAa,WAStC,OARAA,EAAWr3B,OAAOuqB,QAAU,SAAStC,GACjC,IAAK,IAAIhB,EAAG7jB,EAAI,EAAGk0B,EAAIh2B,UAAU6E,OAAQ/C,EAAIk0B,EAAGl0B,IAE5C,IAAK,IAAIhD,KADT6mB,EAAI3lB,UAAU8B,GACOpD,OAAOQ,UAAUH,eAAek3B,KAAKtQ,EAAG7mB,KACzD6nB,EAAE7nB,GAAK6mB,EAAE7mB,IAEjB,OAAO6nB,IAEK5mB,MAAMxB,KAAMyB,YAE5Bk2B,EAAU33B,MAAQA,KAAK23B,QAAW,SAAUvQ,EAAGwQ,GAC/C,IAAIxP,EAAI,GACR,IAAK,IAAI7nB,KAAK6mB,EAAOjnB,OAAOQ,UAAUH,eAAek3B,KAAKtQ,EAAG7mB,IAAMq3B,EAAEvxB,QAAQ9F,GAAK,IAC9E6nB,EAAE7nB,GAAK6mB,EAAE7mB,IACb,GAAS,MAAL6mB,GAAqD,mBAAjCjnB,OAAO03B,sBACtB,KAAIt0B,EAAI,EAAb,IAAgBhD,EAAIJ,OAAO03B,sBAAsBzQ,GAAI7jB,EAAIhD,EAAE+F,OAAQ/C,IAC3Dq0B,EAAEvxB,QAAQ9F,EAAEgD,IAAM,GAAKpD,OAAOQ,UAAUm3B,qBAAqBJ,KAAKtQ,EAAG7mB,EAAEgD,MACvE6kB,EAAE7nB,EAAEgD,IAAM6jB,EAAE7mB,EAAEgD,KAE1B,OAAO6kB,GAEXjoB,OAAOU,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIE,EAAQ,EAAQ,IAChB82B,EAAS,EAAQ,KAMrBj3B,EAAQwB,QALR,SAAyBJ,GACrB,IAAI8Y,EAAK9Y,EAAGa,KAAMA,OAAc,IAAPiY,EAAgB,eAAiBA,EAAIkd,EAAYP,EAAOz1B,EAAI,CAAC,SACtF,OAAQjB,EAAMoB,cAAc01B,EAAOz1B,QAASk1B,EAAS,GAAIU,GACrDj3B,EAAMoB,cAAc,OAAQ,CAAEpC,EAAG,uTAAwTuI,MAAO,CAAEzF,KAAMA,Q,siBCEhX,uE,OACE,EAAAs6B,oBAAsB,SAAC17B,GACrBA,EAAMC,iBACND,EAAME,cAAcC,OACpB,EAAKC,MAAMu7B,YAGb,EAAAC,oBAAsB,SAAC57B,GACrBA,EAAMC,iBACND,EAAME,cAAcC,OAChB,EAAKC,MAAMy7B,UACb,EAAKz7B,MAAMy7B,Y,EA2BjB,OAtCkD,OAehD,YAAAv7B,OAAA,WACQ,MAAmBjC,KAAK+B,MAAtBiF,EAAK,QAAE6S,EAAK,QACd8f,EAAU9f,EAAQ7S,EAClBy2B,EAAW1L,QAAQlY,GAASA,IAAU7S,GAE5C,OACE,0BAAQxE,UAAU,6CACf,kCAAwB,SAAU,wBAAcwE,EAAO,MAAO,OAE9D2yB,GACC,qBAAGn3B,UAAU,yBAAyBC,KAAK,IAAIT,QAAShC,KAAKq9B,qBAC1D,oBAAU,cAIdr9B,KAAK+B,MAAMy7B,UAAYC,GACtB,qBAAGj7B,UAAU,yBAAyBC,KAAK,IAAIT,QAAShC,KAAKu9B,qBAC1D,oBAAU,gBAMvB,EAtCA,CAAkD,iB,ivBCmDlD,yE,OACE,EAAA7xB,SAAU,EAQV,EAAAzF,MAAkB,CAChB+B,WAAW,EACXb,MAAO,GACPu2B,WAAW,EACXC,oBAAqB,GACrBC,cAAc,GAqChB,EAAA1nB,gBAAkB,SAACE,EAAmBC,G,QACpC,GAAI,EAAKtU,MAAMugB,YACb,EAAKvgB,MAAMugB,YAAYlM,EAAWC,OAC7B,CACG,IAAAqB,EAAW,EAAK3V,MAAV,OACd,GAAIsU,EAAU,CACZ,IAAMzW,EAAW,IACf8X,EAAO7X,SAASuW,GAAa,IAAQsB,EAAQtB,GAAY,EAAKsB,EAAM,CAAEtB,KAExE,EAAKrU,MAAM4B,WAAQ,MAAI,EAAK5B,MAAMiM,UAAWpO,EAAQ,SAErD,EAAKmC,MAAM4B,WAAQ,MAChB,EAAK5B,MAAMiM,UAAW0J,EAAO7X,SAASuW,IAAcsB,EAAOpR,OAAS,EAAI,GAAK,CAAC8P,GAC/E,MAKR,EAAAR,kBAAoB,WAClB,EAAK7T,MAAM8T,SAAS,EAAK9T,MAAMiM,WAGjC,EAAAiI,YAAc,W,MACR,EAAKlU,MAAM2X,QACb,EAAK3X,MAAM2X,UAEX,EAAK3X,MAAM4B,WAAQ,MAAI,EAAK5B,MAAMiM,UAAW,GAAE,KAInD,EAAA6vB,cAAgB,WACV,EAAKnyB,SACP,EAAK5F,SAAS,CAAE43B,WAAW,KAI/B,EAAAI,OAAS,SAAC32B,GACJA,EAAMb,QAAU,EAAKvE,MAAMmjB,iBAC7B,EAAKpf,SAAS,CAAEqB,MAAK,EAAEu2B,WAAW,IAClC,EAAK37B,MACF6J,SAASzE,GACTlD,KAAK,EAAK85B,4BACV95B,MAAK,SAAC,G,IAAEwe,EAAU,aAAEjB,EAAM,SAAEzK,EAAO,UAAEU,EAAK,QACrC,EAAK/L,SACP,EAAK5F,UAAS,SAAAG,GAAS,MAAC,CACtBy3B,WAAW,EACXM,iBAAkBvb,EAClBwb,cAAelnB,EACfmnB,aAAc1c,EACdmc,oBAAqB,EAAF,KAAO13B,EAAM03B,qBAAwBlmB,UAI7D0mB,MAAM,EAAKN,gBAEd,EAAK/3B,SAAS,CAAEqB,MAAK,EAAEu2B,WAAW,EAAOO,cAAe,MAI5D,EAAAG,WAAa,WACL,MAAyC,EAAKn4B,MAA5CkB,EAAK,QAAE+2B,EAAY,eAAED,EAAa,gBACtC92B,GAAS82B,GAAiBC,IAC5B,EAAKp4B,SAAS,CAAE43B,WAAW,IAC3B,EAAK37B,MACF6J,SAASzE,EAAO+2B,EAAatY,UAAY,GACzC3hB,KAAK,EAAK85B,4BACV95B,MAAK,SAAC,G,IAAEud,EAAM,SAAEzK,EAAO,UAAEU,EAAK,QACzB,EAAK/L,SACP,EAAK5F,UAAS,SAAAG,GAAS,MAAC,CACtBy3B,WAAW,EACXO,cAAe,EAAIA,EAAkBlnB,GACrCmnB,aAAc1c,EACdmc,oBAAqB,EAAF,KAAO13B,EAAM03B,qBAAwBlmB,UAI7D0mB,MAAM,EAAKN,iBAIlB,EAAAE,2BAA6B,SAAC75B,GACpB,MAAsD,EAAKnC,MAAV,sBAAjDqV,OAAqB,IAAG,aAAM,OAAAP,QAAQC,QAAR,KAAmB,EACnDunB,EAAgBn6B,EAAS6S,QAAQvP,QAAO,SAAA4a,GAC5C,IAAM1iB,EAAM,EAAKqC,MAAMmX,mBAAmBkJ,GAC1C,YAA6Bpe,IAAtB,EAAK6T,QAAQnY,SAA8DsE,IAAxC,EAAKiC,MAAM03B,oBAAoBj+B,MAE3E,OAAI2+B,EAAc/3B,OAAS,EAClB8Q,EAAsBinB,GAAep6B,MAAK,SAAAwT,GAAS,cAAMvT,GAAQ,CAAEuT,MAAhB,OAE1D,OAAYvT,GAAQ,CAAEuT,MAAO,MASjC,EAAAmmB,aAAe,WACb,EAAK93B,SAAS,CAAE83B,cAAc,KAGhC,EAAAU,aAAe,WACb,EAAKx4B,SAAS,CAAE83B,cAAc,K,EAqLlC,OA/U+C,OAiB7C,YAAAj3B,kBAAA,WACE3G,KAAK0L,SAAU,GAGjB,YAAA9E,mBAAA,SAAmBC,IACZA,EAAU+B,MAAQ5I,KAAK+B,MAAM6G,KAEhC5I,KAAK8F,SAAS,CAAEkC,WAAW,IAE1BnB,EAAU+B,OAAS5I,KAAK+B,MAAM6G,OAC9B,uBAAa/B,EAAUM,OAAS,GAAInH,KAAK+B,MAAMoF,OAAS,IAGzDnH,KAAK8F,SAAS,CACZqB,MAAO,GACP62B,sBAAkBh6B,EAClBi6B,mBAAej6B,EACf05B,WAAW,EACXC,oBAAqB,GACrBC,cAAc,IAGhB/2B,EAAU4Q,QAAUzX,KAAK+B,MAAM0V,OAC/BtX,OAAO6W,KAAKhX,KAAK+B,MAAM0V,OAAS,IAAInR,OAAStG,KAAK+B,MAAMw8B,iBAGxDv+B,KAAK8F,SAAS,CAAE83B,cAAc,KAIlC,YAAA92B,qBAAA,WACE9G,KAAK0L,SAAU,GAgGjB,YAAAmM,QAAA,SAAQlT,GACE,IAAA8S,EAAUzX,KAAK+B,MAAV,MACb,OAAO0V,QAAyBzT,IAAhByT,EAAM9S,GAAsB8S,GAASA,EAAM9S,QAAQX,GAWrE,YAAAqT,WAAA,sBACUI,EAAUzX,KAAK+B,MAAV,MAEb,IAAK0V,EACH,OAAO,KAGT,IAAM+mB,EAAcx+B,KAAK+B,MAAMogB,eAC3BniB,KAAK+B,MAAMogB,iBACX,IACEhiB,OAAO6W,KAAKS,IACZ,SAAA/X,GAAO,OAAC+X,EAAD,MACP,SAAA/X,GAAO,SAAKqC,MAAMkX,iBAAX,MAGPwlB,EAAcz+B,KAAKiG,MAAM23B,aAC3BY,EACAA,EAAYpgB,MAAM,EAAGpe,KAAK+B,MAAMw8B,iBAG9BG,EAAqB1+B,KAAKiG,MAAM23B,aAClC,GACAY,EACGpgB,MAAMpe,KAAK+B,MAAMw8B,iBACjB/2B,QAAO,SAAA7C,GAAQ,SAAK5C,MAAM2V,OAAO7X,SAAlB,MAEhB8+B,EAAuBH,EAAYl4B,QAAUtG,KAAK+B,MAAM68B,SAE9D,OACE,gCACE,gBAAC3X,EAAA,EAAc,KACZwX,EAAYx3B,KAAI,SAAAtC,GAAQ,OACvB,gBAAC8f,EAAA,EAAS,CACRzf,OAAQ,EAAKjD,MAAM2V,OAAO7X,SAAS8E,GACnCjF,IAAKiF,EACLkD,KAAM,EAAK9F,MAAMuX,gBAAgB3U,GACjC3C,QAAS,EAAKkU,gBACd6B,KAAM8mB,EAAgB,EAAKhnB,QAAQlT,IACnCxC,QAAS,EAAKJ,MAAMkX,iBAAiBtU,GACrC5D,MARqB,QAY1B29B,EAAmBp4B,OAAS,GAC3B,gCACE,uBAAK9D,UAAU,kCAAgC,KAC/C,gBAACykB,EAAA,EAAc,KACZyX,EAAmBz3B,KAAI,SAAAtC,GAAQ,OAC9B,gBAAC8f,EAAA,EAAS,CACRzf,QAAQ,EACRtF,IAAKiF,EACLkD,KAAM,EAAK9F,MAAMuX,gBAAgB3U,GACjC3C,QAAS,EAAKkU,gBACd6B,KAAM8mB,EAAgB,EAAKhnB,QAAQlT,IACnCxC,QAAS,EAAKJ,MAAMkX,iBAAiBtU,GACrC5D,MAR4B,SActC,gBAAC,EAAoB,CACnBiG,MAAOy3B,EAAYn4B,OAASo4B,EAAmBp4B,OAC/Ck3B,SAAUx9B,KAAKiG,MAAM23B,aAAe59B,KAAKs+B,kBAAet6B,EACxDs5B,SAAUt9B,KAAK49B,aACf/jB,MAAO2kB,EAAYl4B,SAEpBq4B,GAAwB3+B,KAAKiG,MAAM23B,cAClC,gBAAChQ,EAAA,MAAK,CAACprB,UAAU,aAAaqrB,QAAQ,WACnC,oBAAU,oCAOrB,YAAAiR,aAAA,WACE,OACE,gBAAC,IAAS,CACR92B,UAAWhI,KAAKiG,MAAM+B,UACtBxF,UAAU,kCACVkf,QAAS1hB,KAAKiG,MAAMy3B,UACpBz1B,UAAWjI,KAAK+B,MAAMmjB,gBACtBvhB,SAAU3D,KAAK89B,OACf51B,YAAalI,KAAK+B,MAAMyX,kBACxBzY,MAAOf,KAAKiG,MAAMkB,SAKxB,YAAA43B,oBAAA,sBACQ,EAA+D/+B,KAAKiG,MAAlEy3B,EAAS,YAAEM,EAAgB,mBAAEC,EAAa,gBAAEC,EAAY,eAEhE,OAAKR,GAAeO,GAAkBA,EAAc33B,OAI/C23B,EAMH,gCACE,gBAAChX,EAAA,EAAc,KACZgX,EAAch3B,KAAI,SAAAmb,GAAU,SAAK7I,mBAAL,OAE9BykB,GACC,gBAACpQ,EAAA,MAAK,CAACprB,UAAU,aAAaqrB,QAAQ,WACnC,oBAAU,kCAGdqQ,GACC,gBAAC,IAAU,CACT17B,UAAU,gBACVwE,MAAOi3B,EAAc33B,OACrBgwB,SAAUt2B,KAAKo+B,WACf1E,OAAQgE,EACR7jB,MAAOqkB,EAAarkB,SAnBnB,KALA,uBAAKrX,UAAU,sBAAsB,oBAAU,gBA+B1D,YAAA+W,mBAAA,SAAmB6I,GACjB,IAAM1iB,EAAMM,KAAK+B,MAAMmX,mBAAmBkJ,GACpCpd,EAAShF,KAAK+B,MAAM2V,OAAO7X,SAASH,GACpCqY,EAAO/X,KAAK6X,QAAQnY,IAAQM,KAAKiG,MAAM03B,oBAAoBj+B,GACjE,OACE,gBAAC+kB,EAAA,EAAS,CACRzf,OAAQA,EACRtF,IAAKA,EACLmI,KAAM7H,KAAK+B,MAAMwX,mBAAmB6I,EAAQpiB,KAAKiG,MAAMkB,OACvDnF,QAAShC,KAAKkW,gBACd6B,KAAM8mB,EAAgB9mB,GACtB5V,QAASnC,KAAK+B,MAAMoX,oBAAoBiJ,GACxCrhB,MAAOrB,KAKb,YAAAuC,OAAA,sBACQ,EAA2BjC,KAAK+B,MAA9B0I,EAAQ,WAAE,IAAAgN,aAAK,IAAG,KAAE,EACtB,EAAsCzX,KAAKiG,MAAzCkB,EAAK,QAAEu2B,EAAS,YAAEO,EAAa,gBACjCvmB,EAAS1X,KAAK+B,MAAM2V,OAAOzQ,KAAI,SAAAtC,GAAQ,SAAK5C,MAAMkX,iBAAX,MACvC+lB,EACM,KAAV73B,GAAgBu2B,SAAgC15B,IAAlBi6B,GAAwD,IAAzBA,EAAc33B,QACvE24B,GAAY93B,GAAS63B,EAC3B,OACE,gBAACra,EAAA,EAAQ,CACPniB,UAAW,EAAWxC,KAAK+B,MAAMS,UAAW,CAC1C,uCAAwCiI,IAE1CuD,SAAUhO,KAAK+B,MAAMiM,UACrB,gBAAC4W,EAAA,EAAW,CACVpM,SAAUxY,KAAK+B,MAAMyW,SACrB3Q,KACE,gBAAC,IAAO,CAACtF,QAASkI,EAAWzK,KAAK+B,MAAMm9B,oBAAiBl7B,GACvD,4BAAOhE,KAAK+B,MAAMgX,cAGtBW,QAAS1Z,KAAKiW,YACdjU,QAASyI,OAAWzG,EAAYhE,KAAK4V,kBACrChN,KAAM5I,KAAK+B,MAAM6G,OAAS6B,EAC1BiN,OAAQA,IAGT1X,KAAK+B,MAAM6G,OAAS6B,GACnB,gCACGzK,KAAK8+B,eACLG,EAAWj/B,KAAKqX,aAAerX,KAAK++B,sBACrC,gBAAC7X,EAAA,EAAqB,CAAC1jB,QAASrD,OAAO6W,KAAKS,GAAOnR,OAAQoR,OAAQA,EAAOpR,YAtU7E,EAAAuO,aAAe,CACpB0pB,gBAAiB,GACjBK,SAAU,IACV1Z,gBAAiB,GAyUrB,EA/UA,CAA+C,aAA1B,MAiVrB,SAAS2Z,EAAgB9mB,GACvB,OAAOA,GAAQ,wBAAcA,EAAM,e,qHCjYvB,SAAUonB,EAAkBp9B,GAChC,IAAAiD,EAAgDjD,EAA1C,OAAEq9B,EAAwCr9B,EAAlC,OAAE0I,EAAgC1I,EAAxB,SAAE8e,EAAsB9e,EAAf,QAAEgS,EAAahS,EAAL,SAC7C8C,EAAU,WAAM,OAAA9C,EAAM8C,QAAN,IAChBrC,EAAY,EAAW,CAAEwC,OAAM,EAAEyF,SAAQ,IACzC0G,EAAQpP,EAAMs9B,YAAYxe,GAEhC,OACE,sBAAI5b,QAASJ,EAASK,YAAaL,GACjC,gBAAC,IAAQ,CACPsP,QAAS4d,QAAQhe,GACjBvR,UAAWA,EACXiI,SAAUA,EACV2K,GAAIyL,EACJrN,QAASzR,EAAMu9B,gBACdF,EACC,qCACiB,oBAAU,sBAAqB,KAAKjuB,EACnD3O,UAAU,sBACV,uCAAmB,EAAMA,UAAU,uBAAqB,KAGvD2O,GAGH,wBAAM3O,UAAU,sBAAsB2O,K,wgBCAhD,cAaE,WAAYpP,GAAZ,MACE,YAAMA,IAAM,K,OAXd,EAAA2J,SAAU,EA2DV,EAAA6zB,mBAAqB,SAACxrB,EAAmBpP,GACnCoP,EACF,EAAKyrB,aAAa76B,GAElB,EAAK86B,eAAe96B,IAIxB,EAAAgD,mBAAqB,SAAC5G,GACpB,EAAK2+B,cAAe,EAAK39B,MAA2B49B,oBAAoB5+B,KAG1E,EAAA6+B,mBAAqB,SAAC/e,GACpB,EAAK/a,UAAS,SAACqJ,EAAWpN,GACxB,MAAO,CAAE89B,UAAW,EAAKC,eAAe/9B,EAAOoN,GAAW9I,QAAQwa,QAItE,EAAA7W,eAAiB,SAAC+1B,GAChB,OAAQA,EAAIl6B,SACV,KAAK,GACHk6B,EAAI51B,kBACJ41B,EAAIn+B,iBACJ,EAAKkE,SAAS,EAAKC,mBACnB,MACF,KAAK,GACHg6B,EAAI51B,kBACJ41B,EAAIn+B,iBACJ,EAAKkE,SAAS,EAAKE,uBACnB,MACF,KAAK,GACL,KAAK,GACH+5B,EAAI51B,kBACJ,MACF,KAAK,GACC,EAAKlE,MAAM45B,WAAa,GAC1B,EAAKG,aAAa,EAAKF,eAAe,EAAK/9B,MAAO,EAAKkE,OAAO,EAAKA,MAAM45B,cAMjF,EAAAH,cAAgB,SAACv4B,GACf,EAAKrB,SAAS,CAAE+5B,UAAW,EAAGne,SAAS,EAAMva,MAAK,IAClD,EAAKpF,MAAM6J,SAASzE,GAAOlD,KAAK,EAAKg8B,YAAa,EAAKA,cAGzD,EAAAT,aAAe,SAAC76B,GACV,EAAKu7B,aAAav7B,EAAM,EAAK5C,QAC/B,EAAK29B,cAAc,IAErB,EAAK39B,MAAM2C,SAASC,IAGtB,EAAA86B,eAAiB,SAAC96B,GAAiB,SAAK5C,MAAMoK,WAAX,IAEnC,EAAA+zB,aAAe,SAACC,EAAc,G,IAAEC,EAAgB,mBAAEC,EAAQ,WACxD,OAAAF,EAAK75B,OAAS,IAAyC,IAApC85B,EAAiB/5B,QAAQ85B,KAA4C,IAA5BE,EAASh6B,QAAQ85B,IAE/E,EAAAG,uBAAyB,SAACv+B,GACxB,EAAK+D,UAAS,SAACG,GACb,OAAIA,EAAMkB,MACD,CACLi5B,iBAAkBr+B,EAAMw+B,eAAet6B,EAAMkB,MAAOpF,EAAMq+B,mBAGrD,CAAEA,iBAAkB,EAAIr+B,EAAMq+B,uBAK3C,EAAAI,yBAA2B,SAACz+B,GAC1B,EAAK+D,UAAS,SAACG,GACb,OAAuB,IAAnBlE,EAAMwK,SACD,CAAEk0B,mBAAoB,IAAW1+B,EAAMs+B,SAAUt+B,EAAMq+B,mBACrDr+B,EAAMwK,SAAWtG,EAAMm6B,iBAAiB95B,OAC1C,CAAEm6B,mBAAoB,IAEtB,CACLA,mBAAoB,IAAW1+B,EAAMs+B,SAAUt+B,EAAMq+B,kBAAkBhiB,MACrE,EACArc,EAAMwK,SAAWtG,EAAMm6B,iBAAiB95B,aAOlD,EAAAw5B,eAAiB,SAAC/9B,EAAckE,GAC9B,OAAI,EAAKi6B,aAAaj6B,EAAMkB,MAAOpF,GACjC,EAAWkE,EAAMm6B,iBAAqBn6B,EAAMw6B,mBAAkB,CAAEx6B,EAAMkB,QAEtE,EAAWlB,EAAMm6B,iBAAqBn6B,EAAMw6B,qBAIhD,EAAAC,iBAAmB,SAACv6B,GAAgB,SAAKL,SAAS,CAAE+5B,UAAhB,KAEpC,EAAA95B,kBAAoB,SAACE,EAAclE,GACzB,IAAA89B,EAAc55B,EAAL,UACX06B,EAAc,EAAKb,eAAe/9B,EAAOkE,GAC/C,OAAI45B,EAAY,GAAKA,GAAac,EAAYr6B,OAAS,EAC9C,CAAEu5B,UAAW,GAEb,CAAEA,UAAWA,EAAY,IAIpC,EAAA75B,sBAAwB,SAACC,EAAclE,GAC7B,IAAA89B,EAAc55B,EAAL,UACX06B,EAAc,EAAKb,eAAe/9B,EAAOkE,GAC/C,OAAI45B,GAAa,EAER,CAAEA,UADOc,EAAYr6B,OAAS,GAG9B,CAAEu5B,UAAWA,EAAY,IAIpC,EAAAI,YAAc,WACR,EAAKv0B,SACP,EAAK5F,SAAS,CAAE4b,SAAS,KAI7B,EAAAse,aAAe,SAACr7B,IACqC,IAA/C,EAAK5C,MAAMq+B,iBAAiB/5B,QAAQ1B,GACtC,EAAK66B,aAAa76B,GAElB,EAAK86B,eAAe96B,IAhLtB,EAAKsB,MAAQ,CACX45B,UAAW,EACXne,SAAS,EACTva,MAAO,GACPi5B,iBAAkB,GAClBK,mBAAoB,I,EAqP1B,OAzQyC,OAwBvC,YAAA95B,kBAAA,WACE3G,KAAK0L,SAAU,EACf1L,KAAK0/B,cAAc,IACnB1/B,KAAKsgC,uBAAuBtgC,KAAK+B,OACjC/B,KAAKwgC,yBAAyBxgC,KAAK+B,OAC/B/B,KAAKq7B,WACPr7B,KAAKq7B,UAAU3F,iBAAiB,UAAW11B,KAAKgK,gBAAgB,IAIpE,YAAA4V,0BAAA,SAA0BjL,GACxB,GACE3U,KAAK+B,MAAMs+B,WAAa1rB,EAAU0rB,UAClCrgC,KAAK+B,MAAMq+B,mBAAqBzrB,EAAUyrB,iBAC1C,CACApgC,KAAKsgC,uBAAuB3rB,GAC5B3U,KAAKwgC,yBAAyB7rB,GAE9B,IAAMisB,EAAgB5gC,KAAK8/B,eAAenrB,EAAW3U,KAAKiG,OAAOK,OAC7DtG,KAAKiG,MAAM45B,WAAae,GAC1B5gC,KAAK8F,SAAS,CAAE+5B,UAAWe,EAAgB,MAKjD,YAAAh6B,mBAAA,WACM5G,KAAK6gC,aACP7gC,KAAK6gC,YAAYC,SAIrB,YAAAh6B,qBAAA,WACE9G,KAAK0L,SAAU,EACX1L,KAAKq7B,WACPr7B,KAAKq7B,UAAU1F,oBAAoB,UAAW31B,KAAKgK,iBAyIvD,YAAA/H,OAAA,sBACQ,EAAsEjC,KAAK+B,MAAzE,IAAAg/B,sBAAc,IAAG,GAAI,EAAE,IAAAC,wBAAgB,IAAG,GAAI,EAAE,IAAAC,kBAAU,IAAG,KAAE,EAC/D5B,EAAgBr/B,KAAK+B,MAAV,YACb,EAA6D/B,KAAKiG,MAAhEkB,EAAK,QAAE04B,EAAS,YAAEO,EAAgB,mBAAEK,EAAkB,qBACxDS,EAAgBlhC,KAAK8/B,eAAe9/B,KAAK+B,MAAO/B,KAAKiG,OAAO45B,GAC5DsB,EAAiBH,GAAoBhhC,KAAKkgC,aAAa/4B,EAAOnH,KAAK+B,OACnEq/B,EAAuC,IAAxBphC,KAAK+B,MAAMwK,SAC1B80B,EAAc,EAAW,OAAQ,CACrC,0BAA2BD,EAC3B,aAAcA,EACd,qBAAsBA,EACtB,wBAAyBrP,QAAQkP,KAGnC,OACE,uBAAKz+B,UAAU,eAAe+b,IAAK,SAAA+iB,GAAO,OAAC,EAAKjG,UAAN,IACxC,uBAAK74B,UAAU,eACb,gBAAC,IAAS,CACRwF,WAAW,EACXxF,UAAU,oBACVkf,QAAS1hB,KAAKiG,MAAMyb,QACpB/d,SAAU3D,KAAK2H,mBACfO,YAAalI,KAAK+B,MAAMmG,YACxBnH,MAAOoG,KAGX,sBAAI3E,UAAW6+B,GACZjB,EAAiB95B,OAAS,GACzB85B,EAAiBn5B,KAAI,SAAA4Z,GAAW,OAC9B,gBAACse,EAAiB,CAChBn6B,OAAQk8B,IAAkBrgB,EAC1BA,QAASA,EACTnhB,IAAKmhB,EACLhc,QAAS,EAAK+6B,mBACdN,eAAgB,EAAKC,mBACrBF,YAAaA,EACbtrB,UAR4B,OAWjC0sB,EAAmBn6B,OAAS,GAC3Bm6B,EAAmBx5B,KAAI,SAAA4Z,GAAW,OAChC,gBAACse,EAAiB,CAChBn6B,OAAQk8B,IAAkBrgB,EAC1BpW,UAAWs2B,EACXlgB,QAASA,EACTnhB,IAAKmhB,EACLhc,QAAS,EAAK+6B,mBACdN,eAAgB,EAAKC,mBACrBF,YAR8B,OAWnC8B,GACC,gBAAChC,EAAiB,CAChBn6B,OAAQk8B,IAAkB/5B,EAC1Bi4B,QAAQ,EACRve,QAAS1Z,EACTzH,IAAKyH,EACLtC,QAAS7E,KAAK4/B,mBACdN,eAAgBt/B,KAAKu/B,mBACrBF,YAAaA,KAGf8B,GAAkBf,EAAiB95B,OAAS,GAAKm6B,EAAmBn6B,OAAS,GAC7E,sBAAI9D,UAAU,eAAe,kCAAwB,mBAAoB2E,KAG5E85B,IAhQA,EAAApsB,aAA6B,CAClC0rB,eAAgB,SAACp5B,EAAei5B,GAC9B,OAAAA,EAAiB54B,QAAO,SAAA24B,GAAQ,OAAAA,EAAKtgC,SAAL,OAClC0M,SAAU,EACV8yB,YAAa,SAACxe,GAAoB,OAAAA,GAClC8e,oBAAqB,SAAC5+B,GAAkB,OAAAA,IA+P5C,EAzQA,CAAyC,iBAApB,O,iCC3DrB,2GAgCc,SAAU4L,EAAS,G,IAAE,IAAAC,mBAAW,IAAG,GAAK,EAAEpK,EAAS,YAAEwJ,EAAI,OACrE,OACE,qCACc,kCAAwB,cAAeA,EAAKS,KAAK,OAC7DjK,UAAW,EAAW,YAAaA,IACnC,gBAAC,IAAQ,CAACA,UAAU,gBACpB,uCAAmB,EAAMA,UAAU,4BAA4B2C,MAAO6G,EAAKS,KAAK,OAC7ET,EAAKS,KAAK,OAEZG,GAAe,gBAAC,IAAY,CAACpK,UAAU,mB,oZCb9C,2B,+CA2BA,OA3B4C,OAC1C,YAAAd,YAAA,SAAYq+B,GACVA,EAAIn+B,iBACJye,OAAOzX,KACL,cACA,aACA,kDAIJ,YAAA3G,OAAA,WACE,OACE,uBAAKO,UAAW,EAAW,gBAAiBxC,KAAK+B,MAAMS,YACrD,qBAAGA,UAAU,sBAAsBC,KAAK,IAAIT,QAAShC,KAAK0B,aACvD,oBAAU,wBAEZ,IACD,wBAAMc,UAAU,e,IAAgB,oBAAU,QAAgB,KAC1D,wBAAMA,UAAU,e,KAEb,oBAAU,QAEN,MACP,wBAAMA,UAAU,e,KAAiB,oBAAU,qBAInD,EA3BA,CAA4C,iB,wCC3B5CrC,OAAOU,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIE,EAAQ,EAAQ,IAQpBH,EAAQygC,cAPR,SAAuBC,EAAK9e,GACxB,IAAI+e,EAAMD,EAAIvqB,cAAc5Q,QAAQqc,EAAKzL,eACzC,OAAgB,IAATwqB,EAAcxgC,EAAMoB,cAAcpB,EAAMygC,SAAU,KACrDD,EAAM,GAAKD,EAAIG,UAAU,EAAGF,GAC5BxgC,EAAMoB,cAAc,OAAQ,KAAMm/B,EAAIhT,OAAOiT,EAAK/e,EAAKpc,SACvDm7B,EAAM/e,EAAKpc,OAASk7B,EAAIl7B,QAAUk7B,EAAIG,UAAUF,EAAM/e,EAAKpc,SAAY,I,qBCN/ExF,EADkC,EAAQ,IAChCgU,EAA4B,IAE9BC,KAAK,CAACzR,EAAOC,EAAI,mNAAoN,KAE7OD,EAAOxC,QAAUA,G,+lCCqCX8gC,EAAY,6BAAkB,WAAM,8CAA4B,aAwBtE,cAGE,WAAY7/B,GAAZ,MACE,YAAMA,IAAM,K,OAId,EAAA++B,MAAQ,WACF,EAAKnV,OACP,EAAKA,MAAMmV,QAEb,EAAKe,gBAGP,EAAAC,iBAAmB,WACjB,EAAKC,gBACL,EAAKhgC,MAAM4B,cAASK,IAGtB,EAAA69B,aAAe,WACb,EAAK/7B,SAAS,CACZk8B,aAAc,EAAKjgC,MAAMhB,OAAS,EAAKgB,MAAMigC,cAAgB,IAAI7d,KACjE8d,iBAAaj+B,EACb4E,MAAM,KAIV,EAAAm5B,cAAgB,WACd,EAAKj8B,SAAS,CAAE8C,MAAM,KAGxB,EAAAs5B,eAAiB,SAACC,EAAWC,GACtBA,EAAU33B,WACb,EAAKs3B,gBACL,EAAKhgC,MAAM4B,SAASw+B,KAIxB,EAAAE,oBAAsB,SAACF,EAAWC,GAChC,EAAKt8B,SAAS,CAAEm8B,YAAaG,EAAU33B,cAAWzG,EAAYm+B,KAGhE,EAAAG,yBAA2B,SAAC,G,IAAEvhC,EAAK,QACjC,EAAK+E,UAAS,SAACG,GAAiB,MAAC,CAAE+7B,aAAc,EAAS/7B,EAAM+7B,aAAhC,QAGlC,EAAAO,wBAA0B,SAAC,G,IAAExhC,EAAK,QAChC,EAAK+E,UAAS,SAAAG,GAAS,MAAC,CAAE+7B,aAAc,EAAQ/7B,EAAM+7B,aAA/B,QAGzB,EAAAQ,yBAA2B,WACzB,EAAK18B,UAAS,SAAAG,GAAS,MAAC,CAAE+7B,aAAc,EAAU/7B,EAAM+7B,aAAjC,QAGzB,EAAAS,qBAAuB,WACrB,EAAK38B,UAAS,SAAAG,GAAS,MAAC,CAAE+7B,aAAc,EAAU/7B,EAAM+7B,aAAjC,QAnDvB,EAAK/7B,MAAQ,CAAE+7B,aAAcjgC,EAAMhB,OAASgB,EAAMigC,cAAgB,IAAI7d,KAAQvb,MAAM,G,EAoJxF,OAzJuC,OA2DrC,YAAA3G,OAAA,eAUMmgC,EAVN,OACQ,EAAiDpiC,KAAK+B,MAApD2gC,EAAa,gBAAEC,EAAW,cAAEC,EAAO,UAAE7hC,EAAK,QAC1CkhC,EAAgBjiC,KAAKiG,MAAV,YAEb48B,EAAQ7iC,KAAK+B,MAAM+gC,SAAW,IAAI3e,KAElC4e,EAAS,IAAM,IACfC,EAAQ,KAAM,IAAI7e,MAAO8e,cAAgB,IAAI,IAAI9e,MAAO8e,cAAgB,GAExEC,EAA2BniC,EAAQ,CAACA,GAAS,GAE7CoiC,EAAqBlB,GAAelhC,EAEtC2hC,GAAiBS,IACnBf,EAAY,CAAEgB,YAAa,CAAEhgB,KAAMsf,EAAepvB,GAAI6vB,IACtDD,EAAanuB,KAAK2tB,IAEhBC,GAAeQ,IACjBf,EAAY,CAAEgB,YAAa,CAAEhgB,KAAM+f,EAAoB7vB,GAAIqvB,IAC3DO,EAAanuB,KAAK4tB,IAGpB,IAAMU,EAAe,IAAM,GAAGp8B,IAAI,kBAC5Bq8B,EAAgB,IAAM,GAAGr8B,IAAI,uBAEnC,OACE,gBAAC,IAAmB,CAACs8B,eAAgBvjC,KAAK+hC,eACxC,wBAAMv/B,UAAW,EAAW,qBAAsBxC,KAAK+B,MAAMS,YAC3D,gBAACghC,EAAY,CACXhhC,UAAW,EAAW,2BAA4BxC,KAAK+B,MAAM0hC,eAAgB,CAC3E,iBAAkCz/B,IAArBhE,KAAK+B,MAAMhB,QAE1B2iC,SAAU,SAAAtvB,GAAQ,OAAC,EAAKuX,MAAN,GAClB9jB,KAAM7H,KAAK+B,MAAM8F,KACjB5C,QAASjF,KAAK6hC,aACd35B,YAAalI,KAAK+B,MAAMmG,YACxBy7B,UAAU,EACVl9B,KAAK,OACL1F,MAAOA,IAET,gBAAC,IAAY,CAACyB,UAAU,0BAA0BO,KAAK,UACjCiB,IAArBhE,KAAK+B,MAAMhB,OACV,gBAAC,cAAW,CACVyB,UAAU,uCACV01B,UAAW,CAAE3vB,KAAM,IACnBvG,QAAShC,KAAK8hC,mBAGjB9hC,KAAKiG,MAAM2C,MACV,uBAAKpG,UAAU,uBACb,uBAAKA,UAAU,2BACb,gBAAC,aAAU,CAACA,UAAU,eAAeR,QAAShC,KAAKwiC,0BACjD,gBAAC,IAAe,OAElB,uBAAKhgC,UAAU,6BACb,gBAAC,IAAM,CACLA,UAAU,mCACVmB,SAAU3D,KAAKsiC,yBACf9+B,QAASu/B,EAAO97B,KAAI,SAAA28B,GAAS,MAAC,CAC5BzyB,MAAO,4BAAkByyB,GACzB7iC,MAAO6iC,MAET7iC,MAAOf,KAAKiG,MAAM+7B,aAAa6B,aAEjC,gBAAC,IAAM,CACLrhC,UAAU,+CACVmB,SAAU3D,KAAKuiC,wBACf/+B,QAASw/B,EAAM/7B,KAAI,SAAA68B,GAAQ,MAAC,CAAE3yB,MAAO4yB,OAAOD,GAAO/iC,MAAxB,MAC3BA,MAAOf,KAAKiG,MAAM+7B,aAAaiB,iBAGnC,gBAAC,aAAU,CAACzgC,UAAU,eAAeR,QAAShC,KAAKyiC,sBACjD,gBAAC,IAAgB,QAGrB,gBAACb,EAAS,CACRoC,eAAgB,gBAACC,EAAa,MAC9BC,aAAc,CAAErB,MAAK,EAAEsB,OAAQvB,GAC/BwB,eAAgB,EAChBhC,UAAWA,EACXwB,MAAO5jC,KAAKiG,MAAM+7B,aAClBqC,cAAe,gBAACJ,EAAa,MAC7BK,WAAYtkC,KAAKkiC,eACjBqC,gBAAiBvkC,KAAKqiC,oBACtBa,aAAcA,EACdG,aAAcA,EACdC,cAAeA,QAQ/B,EAzJA,CAAuC,iBA2JvC,SAASW,IACP,OAAO,K,MAST,IAAMT,EAAe,sBAAW,SAAC,GAAE,IAAAE,EAAQ,WAAEhgB,EAAI,OAAE3iB,EAAK,QAAK8xB,EAAK,IAAjC,6BACzB2R,EACJzjC,GAAS2iB,EAAKD,WAAW1iB,EAAO,CAAE+iC,KAAM,UAAWF,MAAO,QAASzB,IAAK,YAC1E,OAAO,6BAAWtP,EAAK,CAAEtU,IAAKmlB,EAAU3iC,MAAOyjC,GAAkB,U,iCC1OnE,IAAIhN,EAAYx3B,MAAQA,KAAKw3B,UAAa,WAStC,OARAA,EAAWr3B,OAAOuqB,QAAU,SAAStC,GACjC,IAAK,IAAIhB,EAAG7jB,EAAI,EAAGk0B,EAAIh2B,UAAU6E,OAAQ/C,EAAIk0B,EAAGl0B,IAE5C,IAAK,IAAIhD,KADT6mB,EAAI3lB,UAAU8B,GACOpD,OAAOQ,UAAUH,eAAek3B,KAAKtQ,EAAG7mB,KACzD6nB,EAAE7nB,GAAK6mB,EAAE7mB,IAEjB,OAAO6nB,IAEK5mB,MAAMxB,KAAMyB,YAE5Bk2B,EAAU33B,MAAQA,KAAK23B,QAAW,SAAUvQ,EAAGwQ,GAC/C,IAAIxP,EAAI,GACR,IAAK,IAAI7nB,KAAK6mB,EAAOjnB,OAAOQ,UAAUH,eAAek3B,KAAKtQ,EAAG7mB,IAAMq3B,EAAEvxB,QAAQ9F,GAAK,IAC9E6nB,EAAE7nB,GAAK6mB,EAAE7mB,IACb,GAAS,MAAL6mB,GAAqD,mBAAjCjnB,OAAO03B,sBACtB,KAAIt0B,EAAI,EAAb,IAAgBhD,EAAIJ,OAAO03B,sBAAsBzQ,GAAI7jB,EAAIhD,EAAE+F,OAAQ/C,IAC3Dq0B,EAAEvxB,QAAQ9F,EAAEgD,IAAM,GAAKpD,OAAOQ,UAAUm3B,qBAAqBJ,KAAKtQ,EAAG7mB,EAAEgD,MACvE6kB,EAAE7nB,EAAEgD,IAAM6jB,EAAE7mB,EAAEgD,KAE1B,OAAO6kB,GAEXjoB,OAAOU,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIE,EAAQ,EAAQ,IAChB82B,EAAS,EAAQ,KAMrBj3B,EAAQwB,QALR,SAAsBJ,GAClB,IAAI8Y,EAAK9Y,EAAGa,KAAMA,OAAc,IAAPiY,EAAgB,eAAiBA,EAAIkd,EAAYP,EAAOz1B,EAAI,CAAC,SACtF,OAAQjB,EAAMoB,cAAc01B,EAAOz1B,QAASk1B,EAAS,GAAIU,GACrDj3B,EAAMoB,cAAc,OAAQ,CAAEpC,EAAG,0iCAA2iCuI,MAAO,CAAEzF,KAAMA,Q,oBC7BnmC,IAAII,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQd,QAAUc,KAG/CA,EAAU,CAAC,CAACE,EAAOC,EAAIH,EAAS,MAG9C,IAAII,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSN,EAAIC,EAASI,GAEXJ,EAAQM,OAASN,EAAQM,OAAS,IAIjDJ,EAAOxC,QAAU2C,G,qBClBjB3C,EADkC,EAAQ,IAChCgU,EAA4B,IAE9BC,KAAK,CAACzR,EAAOC,EAAI,qpDAAspD,KAE/qDD,EAAOxC,QAAUA,G,oBCNjB,IAAIqC,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQd,QAAUc,KAG/CA,EAAU,CAAC,CAACE,EAAOC,EAAIH,EAAS,MAG9C,IAAII,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSN,EAAIC,EAASI,GAEXJ,EAAQM,OAASN,EAAQM,OAAS,IAIjDJ,EAAOxC,QAAU2C,G,qBClBjB3C,EADkC,EAAQ,IAChCgU,EAA4B,IAE9BC,KAAK,CAACzR,EAAOC,EAAI,q0BAAs0B,KAE/1BD,EAAOxC,QAAUA,G,iCCNjB,+DA4Bc,SAAUomB,EAAsB,G,IAAE1jB,EAAO,UAErD,OAAe,IAF8C,UAEzCA,EAAU,EACrB,KAIP,uBAAKhB,UAAU,2BACb,uBAAKA,UAAU,iCACZ,qBAW6C,IAA7CiiC,UAAUC,UAAUr+B,QAAQ,YATvB,qDACA,sD,iCCxCd,uEAiCc,SAAUiG,EAAavK,GACnC,OACE,gBAAC,IAAW,CACVs+B,SAAUt+B,EAAMiK,KAChBO,SAAUxK,EAAMwK,SAChBX,SAAU7J,EAAM6J,SAChBlH,SAAU3C,EAAM2C,SAChByH,WAAYpK,EAAMoK,WAClBjE,YAAa,oBAAU,0BACvBk4B,iBAAkBr+B,EAAMgK,aACxB4zB,oBAAqBgF,IAKrB,SAAUA,EAAY5jC,GAE1B,OAAOA,EAAMkW,cAAc2a,QAAQ,kBAAmB,M,6nBCnB1C,SAAUtf,EAAcvQ,GAC5B,IAAAgD,EAAmDhD,EAA3C,SAAE6iC,EAAyC7iC,EAAlC,QAAEC,EAAgCD,EAAzB,QAAEgS,EAAuBhS,EAAf,SAAK8wB,EAAK,EAAK9wB,EAArD,6CACA8iC,EAAkB7iC,EAAU,CAAEA,QAAO,EAAEgS,KAAM,SAAUC,SAAU,GAAM,GAE7E,OACE,yBACEzR,UAAW,EAAW,iBAAkB,CACtC,aAAcoiC,EACd7wB,SAAQ,KAEN8wB,EACAhS,GACH9tB,K,iCC3CP,0EA6Bc,SAAUwI,EAAaxL,GACnC,IAAMyL,EAAazL,EAAMyL,YAAc,KAAK,oBAAU,mBAAoBzL,EAAMyL,YAAW,IAC3F,OACE,wBAAMhL,UAAWT,EAAMS,WACrB,gBAAC,IAAU,CAACA,UAAU,sBAAsBiL,OAAQ1L,EAAM0L,SACzD,oBAAU,eAAgB1L,EAAM0L,QAChCD,K,oBCnCP,IAAIrK,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQd,QAAUc,KAG/CA,EAAU,CAAC,CAACE,EAAOC,EAAIH,EAAS,MAG9C,IAAII,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSN,EAAIC,EAASI,GAEXJ,EAAQM,OAASN,EAAQM,OAAS,IAIjDJ,EAAOxC,QAAU2C,G,qBClBjB3C,EADkC,EAAQ,IAChCgU,EAA4B,IAE9BC,KAAK,CAACzR,EAAOC,EAAI,+/PAAogQ,KAE7hQD,EAAOxC,QAAUA,G,iCCeX,SAAUgkC,IACd,OAAO,qCAA2B7gC,MAAK,SAAAoX,GAAK,OAAAA,EAAA,WAGxC,SAAU0pB,EAAkB1vB,EAAsByC,GACtD,IAAMktB,EAAS3vB,EAAUG,IAAIsC,GAC7B,OAAKktB,EAEmB,YAAbltB,EACFktB,EAAO7/B,MAEP,OAAO2S,EAAQ,MAAMktB,EAAO7/B,MAJ5B,OAAO2S,EAQZ,SAAUmtB,EACd5vB,EACAyC,EACAotB,QAAA,IAAAA,OAAA,GAEA,IAAMF,EAAS3vB,EAAUC,WAAWwC,GACpC,OAGSqtB,EAHJH,EAGiBltB,EAASzD,cAAa,MAAM2wB,EAAO7/B,MAFtC2S,EAASzD,cAEsC,QAAS6wB,GAIvE,SAAUE,EACd/vB,EACAyC,EACAotB,QAAA,IAAAA,OAAA,GAEA,IAAMF,EAAS3vB,EAAUE,UAAUuC,GACnC,OAAOqtB,EAAUH,EAASA,EAAO7/B,MAAQ2S,EAAU,OAAQotB,GAGvD,SAAUG,EACdhwB,EACAyC,EACAotB,QAAA,IAAAA,OAAA,GAEA,IAAMF,EAAS3vB,EAAUI,oBAAoBqC,GAC7C,OAAKktB,EAEmB,WAAbltB,EACFktB,EAAO7/B,MAEPggC,EAAUH,EAAO7/B,MAAO,QAAS+/B,GAJjCC,EAAUrtB,EAASzD,cAAe,QAAS6wB,GAQtD,SAASC,EAAUhgC,EAAemgC,EAAgBJ,GAChD,OAAOA,EAAgBI,EAAM,IAAIngC,EAAUA,EArD7C,2K,iCCrBA,aAqBM6qB,EAAe,6BACnB,WAAM,qFACN,gBAEa,O,oBCzBf,IAAIuV,EAAW,EAAQ,KA+BvBjiC,EAAOxC,QAnBP,SAAsBqZ,EAAOqrB,EAAUC,GAIrC,IAHA,IAAIrqB,GAAS,EACT9U,EAAS6T,EAAM7T,SAEV8U,EAAQ9U,GAAQ,CACvB,IAAIvF,EAAQoZ,EAAMiB,GACdxB,EAAU4rB,EAASzkC,GAEvB,GAAe,MAAX6Y,SAAiC5V,IAAb0hC,EACf9rB,GAAYA,IAAY2rB,EAAS3rB,GAClC6rB,EAAW7rB,EAAS8rB,IAE1B,IAAIA,EAAW9rB,EACXwI,EAASrhB,EAGjB,OAAOqhB,I,4dCeIujB,EAA+B,CAAEl/B,KAAM,YAEpD,yE,OACE,EAAA/E,YAAc,WACZ,EAAKK,MAAM6jC,YAAY,EAAK7jC,MAAMgvB,cAGpC,EAAAqD,YAAc,WACZ,EAAKryB,MAAM6jC,YAAYD,I,EAoC3B,OA1CoC,OASlC,YAAA1jC,OAAA,WACQ,MAA+BjC,KAAK+B,MAAlCgvB,EAAW,cAAEtpB,EAAW,cAEhC,IAAK,YAAWA,GACd,OAAO,KAGD,IAAAo+B,EAAap+B,EAAL,SACV0uB,OAAyBnyB,IAAb6hC,GAA0BC,EAAeD,EAAU9U,GAC/DgV,EAAY5P,GAAa2P,EAAe/U,EAAa4U,GACrDxjC,EAAUg0B,EACZ,oBAAU4P,EAAY,8BAAgC,oBACtD,oBAAU,kBAEd,OACE,gBAAC,IAAO,CAACxjC,QAASJ,GACf4jC,EACC,qCACc5jC,EACZK,UAAW,EAAW,uBAAwBxC,KAAK+B,MAAMS,YACzD,gBAAC,IAAQ,CAACwjC,OAAQ7P,KAGpB,gBAAC,aAAU,cACGh0B,EACZK,UAAW,EAAW,oBAAqB,oBAAqBxC,KAAK+B,MAAMS,WAC3ER,QAASm0B,EAAYn2B,KAAKo0B,YAAcp0B,KAAK0B,aAC7C,gBAAC,IAAQ,CAACskC,OAAQ7P,OAM9B,EA1CA,CAAoC,iBAgD9B8P,EAAoC,CAAEL,YAAW,KAIvD,SAASE,EAAeI,EAAehmC,GACrC,OACEgmC,EAAEz/B,OAASvG,EAAEuG,MACZy/B,EAAUlP,SAAY92B,EAAU82B,QAChCkP,EAAUlnB,YAAe9e,EAAU8e,UANzB,iBANS,SAAC/Y,GAA6B,MAAC,CACrDwB,YAAa,yBAAexB,MAKUggC,EAAzB,CAA6CnV,I,iCC9F5D,IAAI0G,EAAYx3B,MAAQA,KAAKw3B,UAAa,WAStC,OARAA,EAAWr3B,OAAOuqB,QAAU,SAAStC,GACjC,IAAK,IAAIhB,EAAG7jB,EAAI,EAAGk0B,EAAIh2B,UAAU6E,OAAQ/C,EAAIk0B,EAAGl0B,IAE5C,IAAK,IAAIhD,KADT6mB,EAAI3lB,UAAU8B,GACOpD,OAAOQ,UAAUH,eAAek3B,KAAKtQ,EAAG7mB,KACzD6nB,EAAE7nB,GAAK6mB,EAAE7mB,IAEjB,OAAO6nB,IAEK5mB,MAAMxB,KAAMyB,YAE5Bk2B,EAAU33B,MAAQA,KAAK23B,QAAW,SAAUvQ,EAAGwQ,GAC/C,IAAIxP,EAAI,GACR,IAAK,IAAI7nB,KAAK6mB,EAAOjnB,OAAOQ,UAAUH,eAAek3B,KAAKtQ,EAAG7mB,IAAMq3B,EAAEvxB,QAAQ9F,GAAK,IAC9E6nB,EAAE7nB,GAAK6mB,EAAE7mB,IACb,GAAS,MAAL6mB,GAAqD,mBAAjCjnB,OAAO03B,sBACtB,KAAIt0B,EAAI,EAAb,IAAgBhD,EAAIJ,OAAO03B,sBAAsBzQ,GAAI7jB,EAAIhD,EAAE+F,OAAQ/C,IAC3Dq0B,EAAEvxB,QAAQ9F,EAAEgD,IAAM,GAAKpD,OAAOQ,UAAUm3B,qBAAqBJ,KAAKtQ,EAAG7mB,EAAEgD,MACvE6kB,EAAE7nB,EAAEgD,IAAM6jB,EAAE7mB,EAAEgD,KAE1B,OAAO6kB,GAEXjoB,OAAOU,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,EAAa,EAAQ,KACrBC,EAAQ,EAAQ,IAChBE,EAAU,EAAQ,KAClB42B,EAAS,EAAQ,KAOrBj3B,EAAQwB,QANR,SAAkBJ,GACd,IAAIM,EAAYN,EAAGM,UAAWO,EAAOb,EAAGa,KAAMiY,EAAK9Y,EAAG8jC,OAAQA,OAAgB,IAAPhrB,GAAwBA,EAAIkd,EAAYP,EAAOz1B,EAAI,CAAC,YAAa,OAAQ,WAChJ,OAAQjB,EAAMoB,cAAclB,EAAQuB,cAAe,MAAM,SAAUC,GAAS,OAAQ1B,EAAMoB,cAAc01B,EAAOz1B,QAASk1B,EAAS,CAAEh1B,UAAWxB,EAAWwB,EAAW,eAAgB,CAAE,YAAawjC,IAAWx9B,MAAO,CAAE29B,MAAOpjC,GAAQJ,EAAMK,OAAOm2B,SAAYjB,GAC3Pj3B,EAAMoB,cAAc,IAAK,CAAEwa,UAAW,mDAClC5b,EAAMoB,cAAc,OAAQ,CAAEpC,EAAG,gW,oZCE7C,yE,OAWE,EAAAmmC,iBAAmB,SAAChjB,GAClB,EAAKrhB,MAAM4B,SAAS,CAAEyf,KAAI,EAAE9P,GAAI,EAAKA,KAGrCwb,YAAW,WACL1L,IAAS,EAAK9P,IAAM,EAAK+yB,aAC3B,EAAKA,YAAYvF,UAElB,IAGL,EAAAwF,eAAiB,SAAChzB,GAChB,EAAKvR,MAAM4B,SAAS,CAAEyf,KAAM,EAAKA,KAAM9P,GAAE,K,EA6B7C,OApD4C,OAG1C,sBAAI,mBAAI,C,IAAR,WACE,OAAOtT,KAAK+B,MAAMhB,OAASf,KAAK+B,MAAMhB,MAAMqiB,M,gCAG9C,sBAAI,iBAAE,C,IAAN,WACE,OAAOpjB,KAAK+B,MAAMhB,OAASf,KAAK+B,MAAMhB,MAAMuS,I,gCAkB9C,YAAArR,OAAA,sBACE,OACE,uBAAKO,UAAW,EAAW,6BAA8BxC,KAAK+B,MAAMS,YAClE,gBAAC,IAAS,CACRw/B,aAAchiC,KAAKsT,GAAE,YACX,OACVqvB,YAAa3iC,KAAKsT,GAClBwvB,QAAS9iC,KAAKsT,GACd3P,SAAU3D,KAAKomC,iBACfl+B,YAAa,oBAAU,cACvBnH,MAAOf,KAAKojB,OAEd,wBAAM5gB,UAAU,+CAA+C,oBAAU,QACzE,gBAAC,IAAS,CACRw/B,aAAchiC,KAAKojB,KAAI,YACb,KACVsf,cAAe1iC,KAAKojB,KACpBwf,QAAS5iC,KAAKojB,KACdzf,SAAU3D,KAAKsmC,eACfp+B,YAAa,oBAAU,YACvBqW,IAAK,SAAAsC,GAAW,OAAC,EAAKwlB,YAAN,GAChBtlC,MAAOf,KAAKsT,OAKtB,EApDA,CAA4C,iB,yBCrB5ChQ,EAAOxC,QAJP,SAAgBC,EAAO8xB,GACrB,OAAO9xB,EAAQ8xB,I,iCCTjB,IACQ/yB,EADJC,EAAaC,MAAQA,KAAKD,YACtBD,EAAgB,SAAUG,EAAGC,GAI7B,OAHAJ,EAAgBK,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,IAErB,SAAUD,EAAGC,GAEhB,SAASO,IAAOT,KAAKU,YAAcT,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEU,UAAkB,OAANT,EAAaC,OAAOS,OAAOV,IAAMO,EAAGE,UAAYT,EAAES,UAAW,IAAIF,KAGvFN,OAAOU,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIwlC,EAAW,EAAQ,KACnBtlC,EAAQ,EAAQ,IAChBC,EAAS,EAAQ,KACjBslC,EAAW,EAAQ,KACnBC,EAAgB,SAAUnlC,GAE1B,SAASmlC,EAAa1kC,GAClB,IAAIR,EAAQD,EAAOo2B,KAAK13B,KAAM+B,IAAU/B,KAwCxC,OAvCAuB,EAAMmK,SAAU,EAChBnK,EAAMsgB,aAAe,SAAU1a,GAC3B,IAAIu/B,EAAev/B,EACnB5F,EAAMQ,MAAM6J,SAAS86B,GAAcziC,MAAK,SAAUT,GAC1CjC,EAAMmK,SACNnK,EAAMuE,UAAS,SAAUG,GAAS,MAAO,CACrCyb,SAAS,EACTle,QAASyC,EAAMkB,QAAUu/B,EAAeljC,EAAUyC,EAAMzC,eAGjE,WACKjC,EAAMmK,SACNnK,EAAMuE,SAAS,CAAE4b,SAAS,QAItCngB,EAAMolC,aAAe,SAAU7a,GACvBxrB,MAAMsmC,QAAQ9a,GACVvqB,EAAMQ,MAAMkrB,eACZ1rB,EAAMQ,MAAMkrB,cAAcnB,GAGzBvqB,EAAMQ,MAAM2C,UACjBnD,EAAMQ,MAAM2C,SAASonB,IAG7BvqB,EAAMslC,kBAAoB,SAAU1/B,GAChC,GAAIA,EAAMb,QAAU/E,EAAMwrB,mBACtBxrB,EAAMuE,SAAS,CAAE4b,SAAS,EAAMva,MAAOA,IACvC5F,EAAMsgB,aAAa1a,OAElB,CACD,IAAI3D,EAA4B,IAAjB2D,EAAMb,QAAgB/E,EAAMQ,MAAMmqB,gBAAmB,GACpE3qB,EAAMuE,SAAS,CAAEtC,QAASA,EAAS2D,MAAOA,MAGlD5F,EAAMulC,mBAAqB,WAAc,OAAO,GAChDvlC,EAAM0E,MAAQ,CAAEyb,SAAS,EAAOle,QAASzB,EAAMmqB,gBAAkB,GAAI/kB,MAAO,IAC5E5F,EAAMsgB,aAAe0kB,EAASQ,SAASxlC,EAAMsgB,aAAc,KACpDtgB,EAmCX,OA7EAxB,EAAU0mC,EAAcnlC,GA4CxBmlC,EAAa9lC,UAAUgG,kBAAoB,WACvC3G,KAAK0L,SAAU,GAEnB+6B,EAAa9lC,UAAUmG,qBAAuB,WAC1C9G,KAAK0L,SAAU,GAEnBvL,OAAOU,eAAe4lC,EAAa9lC,UAAW,YAAa,CACvDqmC,IAAK,WACD,YAAgChjC,IAAzBhE,KAAK+B,MAAMklC,WAA0BjnC,KAAK+B,MAAMklC,WAE3DC,YAAY,EACZC,cAAc,IAElBhnC,OAAOU,eAAe4lC,EAAa9lC,UAAW,qBAAsB,CAChEqmC,IAAK,WACD,YAAyChjC,IAAlChE,KAAK+B,MAAMgrB,mBAAmC/sB,KAAK+B,MAAMgrB,mBAAqB,GAEzFma,YAAY,EACZC,cAAc,IAElBhnC,OAAOU,eAAe4lC,EAAa9lC,UAAW,cAAe,CACzDqmC,IAAK,WACD,YAAkChjC,IAA3BhE,KAAK+B,MAAMqqB,aAA4BpsB,KAAK+B,MAAMqqB,aAE7D8a,YAAY,EACZC,cAAc,IAElBV,EAAa9lC,UAAUsB,OAAS,WAC5B,IAAImlC,EAAYpnC,KAAK+B,MAAM+qB,UAAY0Z,EAASa,UAAYb,EAASlkC,QACrE,OAAQrB,EAAMoB,cAAc+kC,EAAW,CAAEp/B,UAAWhI,KAAKinC,UAAWzkC,UAAWxC,KAAK+B,MAAMS,UAAWypB,UAAWjsB,KAAK+B,MAAMkqB,UAAWqb,mBAAmB,EAAOC,aAAcvnC,KAAK8mC,mBAAoBU,UAAWxnC,KAAKiG,MAAMyb,QAASsL,MAAOhtB,KAAK+B,MAAMirB,MAAOya,cAAeznC,KAAKiG,MAAMkB,MAAMb,OAAStG,KAAK+sB,mBACnS7rB,EAAO44B,wBAAwB,mBAAoB95B,KAAK+sB,oBACxD7rB,EAAOkB,UAAU,qBAAsBslC,kBAAmB1nC,KAAKosB,YAAazoB,SAAU3D,KAAK2mC,aAAcgB,cAAe3nC,KAAK6mC,kBAAmBva,eAAgBtsB,KAAK+B,MAAMoqB,aAAc3oB,QAASxD,KAAKiG,MAAMzC,QAAS0E,YAAahH,EAAOkB,UAAU,eAAgB8qB,kBAAmBltB,KAAK+B,MAAMmrB,kBAAmBX,YAAY,EAAMxrB,MAAOf,KAAK+B,MAAMhB,MAAOyrB,cAAexsB,KAAK+B,MAAMoqB,gBAEjYsa,EA9EQ,CA+EjBxlC,EAAMiC,eACRpC,EAAQwB,QAAUmkC,I","file":"js/273.1613385090031.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  diff: T.IssueChangelogDiff;\n}\n\nexport default function IssueChangelogDiff({ diff }: Props) {\n  if (diff.key === 'file') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.file_move',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (['from_long_branch', 'from_branch'].includes(diff.key)) {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'from_short_branch') {\n    // Applies to both legacy short lived branch and pull request\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_non_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'line') {\n    return <p>{translateWithParameters('issue.changelog.line_removed_X', diff.oldValue || '')}</p>;\n  }\n\n  let message;\n  if (diff.newValue != null) {\n    let { newValue } = diff;\n    if (diff.key === 'effort') {\n      newValue = formatMeasure(diff.newValue, 'WORK_DUR');\n    }\n    message = translateWithParameters(\n      'issue.changelog.changed_to',\n      translate('issue.changelog.field', diff.key),\n      newValue\n    );\n  } else {\n    message = translateWithParameters(\n      'issue.changelog.removed',\n      translate('issue.changelog.field', diff.key)\n    );\n  }\n\n  if (diff.oldValue != null) {\n    let { oldValue } = diff;\n    if (diff.key === 'effort') {\n      oldValue = formatMeasure(diff.oldValue, 'WORK_DUR');\n    }\n    message += ` (${translateWithParameters('issue.changelog.was', oldValue)})`;\n  }\n  return <p>{message}</p>;\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar theme_1 = require(\"../theme\");\nvar Tooltip_1 = require(\"./Tooltip\");\nvar ReloadButton = (function (_super) {\n    __extends(ReloadButton, _super);\n    function ReloadButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            event.currentTarget.blur();\n            _this.props.onClick();\n        };\n        return _this;\n    }\n    ReloadButton.prototype.render = function () {\n        var _a = this.props.tooltip, tooltip = _a === void 0 ? l10n_1.translate('reload') : _a;\n        return (React.createElement(Tooltip_1.default, { overlay: tooltip },\n            React.createElement(\"a\", { className: classNames('link-no-underline', this.props.className), href: \"#\", onClick: this.handleClick }, React.createElement(theme_1.ThemeConsumer, null, function (theme) { return (React.createElement(\"svg\", { height: \"24\", viewBox: \"0 0 18 24\", width: \"18\" },\n                React.createElement(\"path\", { d: \"M16.6454 8.1084c-.3-.5-.9-.7-1.4-.4-.5.3-.7.9-.4 1.4.9 1.6 1.1 3.4.6 5.1-.5 1.7-1.7 3.2-3.2 4-3.3 1.8-7.4.6-9.1-2.7-1.8-3.1-.8-6.9 2.1-8.8v3.3h2v-7h-7v2h3.9c-3.7 2.5-5 7.5-2.8 11.4 1.6 3 4.6 4.6 7.7 4.6 1.4 0 2.8-.3 4.2-1.1 2-1.1 3.5-3 4.2-5.2.6-2.2.3-4.6-.8-6.6z\", fill: theme.colors.secondFontColor }))); }))));\n    };\n    return ReloadButton;\n}(React.PureComponent));\nexports.default = ReloadButton;\n//# sourceMappingURL=ReloadButton.js.map","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./EmptySearch.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../../app/utils/throwGlobalError';\nimport { parseIssueFromResponse } from '../../helpers/issues';\nimport { IssueResponse } from '../../types/issues';\n\nexport const updateIssue = (\n  onChange: (issue: T.Issue) => void,\n  resultPromise: Promise<IssueResponse>,\n  oldIssue?: T.Issue,\n  newIssue?: T.Issue\n) => {\n  const optimisticUpdate = oldIssue !== undefined && newIssue !== undefined;\n  if (optimisticUpdate) {\n    onChange(newIssue!);\n  }\n\n  resultPromise.then(\n    response => {\n      if (!optimisticUpdate) {\n        const issue = parseIssueFromResponse(\n          response.issue,\n          response.components,\n          response.users,\n          response.rules\n        );\n        onChange(issue);\n      }\n    },\n    param => {\n      if (optimisticUpdate) {\n        onChange(oldIssue!);\n      }\n      throwGlobalError(param);\n    }\n  );\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\n\ninterface Props {\n  active?: string;\n  className?: string;\n  item: string;\n  onHover?: (item: string) => void;\n  onSelect?: (item: string) => void;\n  title?: string;\n}\n\nexport default class SelectListItem extends React.PureComponent<Props> {\n  handleSelect = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    if (this.props.onSelect) {\n      this.props.onSelect(this.props.item);\n    }\n  };\n\n  handleHover = () => {\n    if (this.props.onHover) {\n      this.props.onHover(this.props.item);\n    }\n  };\n\n  renderLink() {\n    const children = this.props.children || this.props.item;\n    return (\n      <li>\n        <a\n          className={classNames(\n            { active: this.props.active === this.props.item },\n            this.props.className\n          )}\n          href=\"#\"\n          onClick={this.handleSelect}\n          onFocus={this.handleHover}\n          onMouseOver={this.handleHover}>\n          {children}\n        </a>\n      </li>\n    );\n  }\n\n  render() {\n    return (\n      <Tooltip overlay={this.props.title || undefined} placement=\"right\">\n        {this.renderLink()}\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as key from 'keymaster';\nimport { uniqueId } from 'lodash';\nimport * as React from 'react';\nimport SelectListItem from './SelectListItem';\n\ninterface Props {\n  className?: string;\n  items: string[];\n  currentItem: string;\n  onSelect: (item: string) => void;\n}\n\ninterface State {\n  active: string;\n}\n\nexport default class SelectList extends React.PureComponent<Props, State> {\n  currentKeyScope?: string;\n  previousFilter?: (event: any) => void;\n  previousKeyScope?: string;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      active: props.currentItem\n    };\n  }\n\n  componentDidMount() {\n    this.attachShortcuts();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.currentItem !== this.props.currentItem &&\n      !this.props.items.includes(this.state.active)\n    ) {\n      this.setState({ active: this.props.currentItem });\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n  }\n\n  attachShortcuts = () => {\n    this.previousKeyScope = key.getScope();\n    this.previousFilter = key.filter;\n    this.currentKeyScope = uniqueId('key-scope');\n    key.setScope(this.currentKeyScope);\n\n    // sometimes there is a *focused* search field next to the SelectList component\n    // we need to allow shortcuts in this case, but only for the used keys\n    (key as any).filter = (event: KeyboardEvent & { target: HTMLElement }) => {\n      const { tagName } = event.target || event.srcElement;\n      const isInput = tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';\n      return [13, 38, 40].includes(event.keyCode) || !isInput;\n    };\n\n    key('down', this.currentKeyScope, () => {\n      this.setState(this.selectNextElement);\n      return false;\n    });\n\n    key('up', this.currentKeyScope, () => {\n      this.setState(this.selectPreviousElement);\n      return false;\n    });\n\n    key('return', this.currentKeyScope, () => {\n      if (this.state.active != null) {\n        this.handleSelect(this.state.active);\n      }\n      return false;\n    });\n  };\n\n  detachShortcuts = () => {\n    if (this.previousKeyScope) {\n      key.setScope(this.previousKeyScope);\n    }\n    if (this.currentKeyScope) {\n      key.deleteScope(this.currentKeyScope);\n    }\n    (key as any).filter = this.previousFilter;\n  };\n\n  handleSelect = (item: string) => {\n    this.props.onSelect(item);\n  };\n\n  handleHover = (item: string) => {\n    this.setState({ active: item });\n  };\n\n  selectNextElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx < 0) {\n      return { active: props.items[0] };\n    }\n    return { active: props.items[(idx + 1) % props.items.length] };\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx <= 0) {\n      return { active: props.items[props.items.length - 1] };\n    }\n    return { active: props.items[idx - 1] };\n  };\n\n  renderChild = (child: any) => {\n    if (child == null) {\n      return null;\n    }\n    // do not pass extra props to children like `<li className=\"divider\" />`\n    if (child.type !== SelectListItem) {\n      return child;\n    }\n    return React.cloneElement(child, {\n      active: this.state.active,\n      onHover: this.handleHover,\n      onSelect: this.handleSelect\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    const hasChildren = React.Children.count(children) > 0;\n    return (\n      <ul className={classNames('menu', this.props.className)}>\n        {hasChildren && React.Children.map(children, this.renderChild)}\n        {!hasChildren &&\n          this.props.items.map(item => (\n            <SelectListItem\n              active={this.state.active}\n              item={item}\n              key={item}\n              onHover={this.handleHover}\n              onSelect={this.handleSelect}\n            />\n          ))}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { searchUsers } from '../../../api/users';\nimport { isLoggedIn, isUserActive } from '../../../helpers/users';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { withCurrentUser } from '../../hoc/withCurrentUser';\nimport Avatar from '../../ui/Avatar';\n\ninterface Props {\n  currentUser: T.CurrentUser;\n  onSelect: (login: string) => void;\n}\n\ninterface State {\n  currentUser: string;\n  query: string;\n  users: T.UserActive[];\n}\n\nconst LIST_SIZE = 10;\n\nexport class SetAssigneePopup extends React.PureComponent<Props, State> {\n  defaultUsersArray: T.UserActive[];\n\n  constructor(props: Props) {\n    super(props);\n    this.defaultUsersArray = [{ login: '', name: translate('unassigned') }];\n\n    if (isLoggedIn(props.currentUser)) {\n      this.defaultUsersArray = [props.currentUser, ...this.defaultUsersArray];\n    }\n\n    this.state = {\n      query: '',\n      users: this.defaultUsersArray,\n      currentUser: this.defaultUsersArray.length > 0 ? this.defaultUsersArray[0].login : ''\n    };\n  }\n\n  searchUsers = (query: string) => {\n    searchUsers({ q: query, ps: LIST_SIZE }).then(this.handleSearchResult, () => {});\n  };\n\n  handleSearchResult = ({ users }: { users: T.UserBase[] }) => {\n    const activeUsers = users.filter(isUserActive);\n    this.setState({\n      users: activeUsers,\n      currentUser: activeUsers.length > 0 ? activeUsers[0].login : ''\n    });\n  };\n\n  handleSearchChange = (query: string) => {\n    if (query.length === 0) {\n      this.setState({\n        query,\n        users: this.defaultUsersArray,\n        currentUser: this.defaultUsersArray[0].login\n      });\n    } else {\n      this.setState({ query });\n      this.searchUsers(query);\n    }\n  };\n\n  render() {\n    return (\n      <DropdownOverlay noPadding={true}>\n        <div className=\"multi-select\">\n          <div className=\"menu-search\">\n            <SearchBox\n              autoFocus={true}\n              className=\"little-spacer-top\"\n              minLength={2}\n              onChange={this.handleSearchChange}\n              placeholder={translate('search.search_for_users')}\n              value={this.state.query}\n            />\n          </div>\n          <SelectList\n            currentItem={this.state.currentUser}\n            items={map(this.state.users, 'login')}\n            onSelect={this.props.onSelect}>\n            {this.state.users.map(user => (\n              <SelectListItem item={user.login} key={user.login}>\n                {!!user.login && (\n                  <Avatar className=\"spacer-right\" hash={user.avatar} name={user.name} size={16} />\n                )}\n                <span className=\"text-middle\" style={{ marginLeft: user.login ? 24 : undefined }}>\n                  {user.name}\n                </span>\n              </SelectListItem>\n            ))}\n          </SelectList>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n\nexport default withCurrentUser(SetAssigneePopup);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport Avatar from '../../ui/Avatar';\nimport SetAssigneePopup from '../popups/SetAssigneePopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: T.Issue;\n  canAssign: boolean;\n  onAssign: (login: string) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueAssign extends React.PureComponent<Props> {\n  toggleAssign = (open?: boolean) => {\n    this.props.togglePopup('assign', open);\n  };\n\n  handleClose = () => {\n    this.toggleAssign(false);\n  };\n\n  renderAssignee() {\n    const { issue } = this.props;\n    const assigneeName = issue.assigneeName || issue.assignee;\n\n    if (assigneeName) {\n      return (\n        <>\n          <span className=\"text-top\">\n            <Avatar\n              className=\"little-spacer-right\"\n              hash={issue.assigneeAvatar}\n              name={issue.assigneeName || issue.assignee}\n              size={16}\n            />\n          </span>\n          <span className=\"issue-meta-label\">\n            {issue.assigneeActive === false\n              ? translateWithParameters('user.x_deleted', assigneeName)\n              : assigneeName}\n          </span>\n        </>\n      );\n    }\n\n    return <span className=\"issue-meta-label\">{translate('unassigned')}</span>;\n  }\n\n  render() {\n    if (this.props.canAssign) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            closeOnEscape={true}\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canAssign}\n            overlay={<SetAssigneePopup onSelect={this.props.onAssign} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-assign\"\n              onClick={this.toggleAssign}>\n              {this.renderAssignee()}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return this.renderAssignee();\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button, ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FormattingTips from '../../common/FormattingTips';\n\ninterface Props {\n  comment?: Pick<T.IssueComment, 'markdown'>;\n  onComment: (text: string) => void;\n  toggleComment: (visible: boolean) => void;\n  placeholder: string;\n  placement?: PopupPlacement;\n  autoTriggered?: boolean;\n}\n\ninterface State {\n  textComment: string;\n}\n\nexport default class CommentPopup extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      textComment: props.comment ? props.comment.markdown : ''\n    };\n  }\n\n  handleCommentChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    this.setState({ textComment: event.target.value });\n  };\n\n  handleCommentClick = () => {\n    if (this.state.textComment.trim().length > 0) {\n      this.props.onComment(this.state.textComment);\n    }\n  };\n\n  handleCancelClick = () => {\n    this.props.toggleComment(false);\n  };\n\n  handleKeyboard = (event: React.KeyboardEvent) => {\n    if (event.keyCode === 13 && (event.metaKey || event.ctrlKey)) {\n      // Ctrl + Enter\n      this.handleCommentClick();\n    } else if ([37, 38, 39, 40].includes(event.keyCode)) {\n      // Arrow keys\n      event.stopPropagation();\n    }\n  };\n\n  render() {\n    const { comment, autoTriggered } = this.props;\n    return (\n      <DropdownOverlay placement={this.props.placement}>\n        <div className=\"issue-comment-bubble-popup\">\n          <div className=\"issue-comment-form-text\">\n            <textarea\n              autoFocus={true}\n              onChange={this.handleCommentChange}\n              onKeyDown={this.handleKeyboard}\n              placeholder={this.props.placeholder}\n              rows={2}\n              value={this.state.textComment}\n            />\n          </div>\n          <div className=\"issue-comment-form-footer\">\n            <div className=\"issue-comment-form-actions\">\n              <Button\n                className=\"js-issue-comment-submit little-spacer-right\"\n                disabled={this.state.textComment.trim().length < 1}\n                onClick={this.handleCommentClick}>\n                {comment && translate('save')}\n                {!comment && translate('issue.comment.submit')}\n              </Button>\n              <ResetButtonLink className=\"js-issue-comment-cancel\" onClick={this.handleCancelClick}>\n                {autoTriggered ? translate('skip') : translate('cancel')}\n              </ResetButtonLink>\n            </div>\n            <div className=\"issue-comment-form-tips\">\n              <FormattingTips />\n            </div>\n          </div>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { addIssueComment } from '../../../api/issues';\nimport { updateIssue } from '../actions';\nimport CommentPopup from '../popups/CommentPopup';\n\ninterface Props {\n  commentAutoTriggered?: boolean;\n  commentPlaceholder: string;\n  currentPopup?: string;\n  issueKey: string;\n  onChange: (issue: T.Issue) => void;\n  toggleComment: (open?: boolean, placeholder?: string, autoTriggered?: boolean) => void;\n}\n\nexport default class IssueCommentAction extends React.PureComponent<Props> {\n  addComment = (text: string) => {\n    updateIssue(this.props.onChange, addIssueComment({ issue: this.props.issueKey, text }));\n    this.props.toggleComment(false);\n  };\n\n  handleCommentClick = () => {\n    this.props.toggleComment();\n  };\n\n  handleClose = () => {\n    this.props.toggleComment(false);\n  };\n\n  render() {\n    return (\n      <li className=\"issue-meta dropdown\">\n        <Toggler\n          closeOnClickOutside={false}\n          onRequestClose={this.handleClose}\n          open={this.props.currentPopup === 'comment'}\n          overlay={\n            <CommentPopup\n              autoTriggered={this.props.commentAutoTriggered}\n              onComment={this.addComment}\n              placeholder={this.props.commentPlaceholder}\n              toggleComment={this.props.toggleComment}\n            />\n          }>\n          <ButtonLink className=\"issue-action js-issue-comment\" onClick={this.handleCommentClick}>\n            <span className=\"issue-meta-label\">{translate('issue.comment.formlink')}</span>\n          </ButtonLink>\n        </Toggler>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport SeverityIcon from 'sonar-ui-common/components/icons/SeverityIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\ntype Props = {\n  issue: Pick<T.Issue, 'severity'>;\n  onSelect: (severity: string) => void;\n};\n\nconst SEVERITY = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n\nexport default function SetSeverityPopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.severity} items={SEVERITY} onSelect={onSelect}>\n        {SEVERITY.map(severity => (\n          <SelectListItem className=\"display-flex-center\" item={severity} key={severity}>\n            <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n            {translate('severity', severity)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { setIssueSeverity } from '../../../api/issues';\nimport { IssueResponse } from '../../../types/issues';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport SetSeverityPopup from '../popups/SetSeverityPopup';\n\ninterface Props {\n  canSetSeverity: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'severity'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueSeverity extends React.PureComponent<Props> {\n  toggleSetSeverity = (open?: boolean) => {\n    this.props.togglePopup('set-severity', open);\n  };\n\n  setSeverity = (severity: string) => {\n    this.props.setIssueProperty('severity', 'set-severity', setIssueSeverity, severity);\n  };\n\n  handleClose = () => {\n    this.toggleSetSeverity(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetSeverity) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetSeverity}\n            overlay={<SetSeverityPopup issue={issue} onSelect={this.setSeverity} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-set-severity\"\n              onClick={this.toggleSetSeverity}>\n              <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />;\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { difference, without } from 'lodash';\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { searchIssueTags } from '../../../api/issues';\nimport TagsSelector from '../../tags/TagsSelector';\n\ninterface Props {\n  selectedTags: string[];\n  setTags: (tags: string[]) => void;\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\nconst MAX_LIST_SIZE = 100;\n\nexport default class SetIssueTagsPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return searchIssueTags({\n      q: query,\n      ps: Math.min(this.props.selectedTags.length - 1 + LIST_SIZE, MAX_LIST_SIZE)\n    }).then(\n      (tags: string[]) => {\n        if (this.mounted) {\n          this.setState({ searchResult: tags });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setTags([...this.props.selectedTags, tag]);\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setTags(without(this.props.selectedTags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.selectedTags);\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <TagsSelector\n          listSize={LIST_SIZE}\n          onSearch={this.onSearch}\n          onSelect={this.onSelect}\n          onUnselect={this.onUnselect}\n          selectedTags={this.props.selectedTags}\n          tags={availableTags}\n        />\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { setIssueTags } from '../../../api/issues';\nimport TagsList from '../../tags/TagsList';\nimport { updateIssue } from '../actions';\nimport SetIssueTagsPopup from '../popups/SetIssueTagsPopup';\n\ninterface Props {\n  canSetTags: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'key' | 'tags'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTags extends React.PureComponent<Props> {\n  toggleSetTags = (open?: boolean) => {\n    this.props.togglePopup('edit-tags', open);\n  };\n\n  setTags = (tags: string[]) => {\n    const { issue } = this.props;\n    const newIssue = { ...issue, tags };\n    updateIssue(\n      this.props.onChange,\n      setIssueTags({ issue: issue.key, tags: tags.join(',') }),\n      issue as T.Issue,\n      newIssue as T.Issue\n    );\n  };\n\n  handleClose = () => {\n    this.toggleSetTags(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    const { tags = [] } = issue;\n\n    if (this.props.canSetTags) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen}\n            overlay={<SetIssueTagsPopup selectedTags={tags} setTags={this.setTags} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-edit-tags\"\n              onClick={this.toggleSetTags}>\n              <TagsList\n                allowUpdate={this.props.canSetTags}\n                tags={\n                  issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]\n                }\n              />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <TagsList\n          allowUpdate={this.props.canSetTags}\n          className=\"note\"\n          tags={issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { hasMessage, translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\nexport interface Props {\n  fromHotspot: boolean;\n  onSelect: (transition: string) => void;\n  transitions: string[];\n  type: T.IssueType;\n}\n\nexport default function SetTransitionPopup({ fromHotspot, onSelect, transitions, type }: Props) {\n  const isManualVulnerability = fromHotspot && type === 'VULNERABILITY';\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={transitions[0]} items={transitions} onSelect={onSelect}>\n        {transitions.map(transition => {\n          const [name, description] = translateTransition(transition, isManualVulnerability);\n          return (\n            <SelectListItem item={transition} key={transition} title={description}>\n              {name}\n            </SelectListItem>\n          );\n        })}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n\nfunction translateTransition(transition: string, isManualVulnerability: boolean) {\n  return isManualVulnerability && hasMessage('vulnerability.transition', transition)\n    ? [\n        translate('vulnerability.transition', transition),\n        translate('vulnerability.transition', transition, 'description')\n      ]\n    : [\n        translate('issue.transition', transition),\n        translate('issue.transition', transition, 'description')\n      ];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { setIssueTransition } from '../../../api/issues';\nimport StatusHelper from '../../shared/StatusHelper';\nimport { updateIssue } from '../actions';\nimport SetTransitionPopup from '../popups/SetTransitionPopup';\n\ninterface Props {\n  hasTransitions: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'fromHotspot' | 'key' | 'resolution' | 'status' | 'transitions' | 'type'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTransition extends React.PureComponent<Props> {\n  setTransition = (transition: string) => {\n    updateIssue(\n      this.props.onChange,\n      setIssueTransition({ issue: this.props.issue.key, transition })\n    );\n    this.toggleSetTransition();\n  };\n\n  toggleSetTransition = (open?: boolean) => {\n    this.props.togglePopup('transition', open);\n  };\n\n  handleClose = () => {\n    this.toggleSetTransition(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    if (this.props.hasTransitions) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.hasTransitions}\n            overlay={\n              <SetTransitionPopup\n                fromHotspot={issue.fromHotspot}\n                onSelect={this.setTransition}\n                transitions={issue.transitions}\n                type={issue.type}\n              />\n            }>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-transition\"\n              onClick={this.toggleSetTransition}>\n              <StatusHelper\n                className=\"issue-meta-label\"\n                resolution={issue.resolution}\n                status={issue.status}\n              />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <StatusHelper\n          className=\"issue-meta-label\"\n          resolution={issue.resolution}\n          status={issue.status}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\ninterface Props {\n  issue: Pick<T.Issue, 'type'>;\n  onSelect: (type: T.IssueType) => void;\n}\n\nconst TYPES = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n\nexport default function SetTypePopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.type} items={TYPES} onSelect={onSelect}>\n        {TYPES.map(type => (\n          <SelectListItem className=\"display-flex-center\" item={type} key={type}>\n            <IssueTypeIcon className=\"little-spacer-right\" query={type} />\n            {translate('issue.type', type)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { setIssueType } from '../../../api/issues';\nimport { colors } from '../../../app/theme';\nimport { IssueResponse } from '../../../types/issues';\nimport SetTypePopup from '../popups/SetTypePopup';\n\ninterface Props {\n  canSetType: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'type'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueType extends React.PureComponent<Props> {\n  toggleSetType = (open?: boolean) => {\n    this.props.togglePopup('set-type', open);\n  };\n\n  setType = (type: string) => {\n    this.props.setIssueProperty('type', 'set-type', setIssueType, type);\n  };\n\n  handleClose = () => {\n    this.toggleSetType(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetType) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetType}\n            overlay={<SetTypePopup issue={issue} onSelect={this.setType} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-set-type\"\n              onClick={this.toggleSetType}>\n              <IssueTypeIcon\n                className=\"little-spacer-right\"\n                fill={colors.baseFontColor}\n                query={issue.type}\n              />\n              {translate('issue.type', issue.type)}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <span>\n          <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n          {translate('issue.type', issue.type)}\n        </span>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { IssueResponse } from '../../../types/issues';\nimport { updateIssue } from '../actions';\nimport IssueAssign from './IssueAssign';\nimport IssueCommentAction from './IssueCommentAction';\nimport IssueSeverity from './IssueSeverity';\nimport IssueTags from './IssueTags';\nimport IssueTransition from './IssueTransition';\nimport IssueType from './IssueType';\n\ninterface Props {\n  issue: T.Issue;\n  currentPopup?: string;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\ninterface State {\n  commentAutoTriggered: boolean;\n  commentPlaceholder: string;\n}\n\nexport default class IssueActionsBar extends React.PureComponent<Props, State> {\n  state: State = {\n    commentAutoTriggered: false,\n    commentPlaceholder: ''\n  };\n\n  setIssueProperty = (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => {\n    const { issue } = this.props;\n    if (issue[property] !== value) {\n      const newIssue = { ...issue, [property]: value };\n      updateIssue(\n        this.props.onChange,\n        apiCall({ issue: issue.key, [property]: value }),\n        issue,\n        newIssue\n      );\n    }\n    this.props.togglePopup(popup, false);\n  };\n\n  toggleComment = (open: boolean | undefined, placeholder = '', autoTriggered = false) => {\n    this.setState({\n      commentPlaceholder: placeholder,\n      commentAutoTriggered: autoTriggered\n    });\n    this.props.togglePopup('comment', open);\n  };\n\n  handleTransition = (issue: T.Issue) => {\n    this.props.onChange(issue);\n    if (\n      issue.resolution === 'FALSE-POSITIVE' ||\n      (issue.resolution === 'WONTFIX' && issue.type !== 'SECURITY_HOTSPOT')\n    ) {\n      this.toggleComment(true, translate('issue.comment.explain_why'), true);\n    }\n  };\n\n  render() {\n    const { issue } = this.props;\n    const canAssign = issue.actions.includes('assign');\n    const canComment = issue.actions.includes('comment');\n    const canSetSeverity = issue.actions.includes('set_severity');\n    const canSetType = issue.actions.includes('set_type');\n    const canSetTags = issue.actions.includes('set_tags');\n    const hasTransitions = issue.transitions && issue.transitions.length > 0;\n    const isSecurityHotspot = issue.type === 'SECURITY_HOTSPOT';\n\n    return (\n      <div className=\"issue-actions\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueType\n              canSetType={canSetType}\n              isOpen={this.props.currentPopup === 'set-type' && canSetType}\n              issue={issue}\n              setIssueProperty={this.setIssueProperty}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && (\n            <li className=\"issue-meta\">\n              <IssueSeverity\n                canSetSeverity={canSetSeverity}\n                isOpen={this.props.currentPopup === 'set-severity' && canSetSeverity}\n                issue={issue}\n                setIssueProperty={this.setIssueProperty}\n                togglePopup={this.props.togglePopup}\n              />\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <IssueTransition\n              hasTransitions={hasTransitions}\n              isOpen={this.props.currentPopup === 'transition' && hasTransitions}\n              issue={issue}\n              onChange={this.handleTransition}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          <li className=\"issue-meta\">\n            <IssueAssign\n              canAssign={canAssign}\n              isOpen={this.props.currentPopup === 'assign' && canAssign}\n              issue={issue}\n              onAssign={this.props.onAssign}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && issue.effort && (\n            <li className=\"issue-meta\">\n              <span className=\"issue-meta-label\">\n                {translateWithParameters('issue.x_effort', issue.effort)}\n              </span>\n            </li>\n          )}\n          {canComment && (\n            <IssueCommentAction\n              commentAutoTriggered={this.state.commentAutoTriggered}\n              commentPlaceholder={this.state.commentPlaceholder}\n              currentPopup={this.props.currentPopup}\n              issueKey={issue.key}\n              onChange={this.props.onChange}\n              toggleComment={this.toggleComment}\n            />\n          )}\n        </ul>\n        <ul className=\"list-inline\">\n          <li className=\"issue-meta js-issue-tags\">\n            <IssueTags\n              canSetTags={canSetTags}\n              isOpen={this.props.currentPopup === 'edit-tags' && canSetTags}\n              issue={issue}\n              onChange={this.props.onChange}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  onDelete: () => void;\n}\n\nexport default function CommentDeletePopup({ onDelete }: Props) {\n  return (\n    <DropdownOverlay placement={PopupPlacement.BottomRight}>\n      <div className=\"menu is-container\">\n        <div className=\"spacer-bottom\">{translate('issue.comment.delete_confirm_message')}</div>\n        <Button className=\"button-red\" onClick={onDelete}>\n          {translate('delete')}\n        </Button>\n      </div>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum RuleStatus {\n  Ready = 'READY',\n  Beta = 'BETA',\n  Deprecated = 'DEPRECATED',\n  Removed = 'REMOVED'\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sanitize } from 'dompurify';\nimport * as React from 'react';\nimport { DeleteButton, EditButton } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport Avatar from '../../ui/Avatar';\nimport CommentDeletePopup from '../popups/CommentDeletePopup';\nimport CommentPopup from '../popups/CommentPopup';\n\ninterface Props {\n  comment: T.IssueComment;\n  onDelete: (comment: string) => void;\n  onEdit: (comment: string, text: string) => void;\n}\n\ninterface State {\n  openPopup: string;\n}\n\nexport default class IssueCommentLine extends React.PureComponent<Props, State> {\n  state: State = {\n    openPopup: ''\n  };\n\n  handleEdit = (text: string) => {\n    this.props.onEdit(this.props.comment.key, text);\n    this.toggleEditPopup(false);\n  };\n\n  handleDelete = () => {\n    this.props.onDelete(this.props.comment.key);\n    this.toggleDeletePopup(false);\n  };\n\n  togglePopup = (popupName: string, force?: boolean) => {\n    this.setState(prevState => {\n      if (prevState.openPopup !== popupName && force !== false) {\n        return { openPopup: popupName };\n      } else if (prevState.openPopup === popupName && force !== true) {\n        return { openPopup: '' };\n      }\n      return prevState;\n    });\n  };\n\n  toggleDeletePopup = (force?: boolean) => {\n    this.togglePopup('delete', force);\n  };\n\n  toggleEditPopup = (force?: boolean) => {\n    this.togglePopup('edit', force);\n  };\n\n  closePopups = () => {\n    this.setState({ openPopup: '' });\n  };\n\n  render() {\n    const { comment } = this.props;\n    const author = comment.authorName || comment.author;\n    const displayName =\n      comment.authorActive === false && author\n        ? translateWithParameters('user.x_deleted', author)\n        : author;\n    return (\n      <div className=\"issue-comment\">\n        <div className=\"issue-comment-author\" title={displayName}>\n          <Avatar\n            className=\"little-spacer-right\"\n            hash={comment.authorAvatar}\n            name={author}\n            size={16}\n          />\n          {displayName}\n        </div>\n        <div\n          className=\"issue-comment-text markdown\"\n          dangerouslySetInnerHTML={{ __html: sanitize(comment.htmlText) }}\n        />\n        <div className=\"issue-comment-age\">\n          <DateFromNow date={comment.createdAt} />\n        </div>\n        <div className=\"issue-comment-actions\">\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                closeOnClickOutside={false}\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'edit'}\n                overlay={\n                  <CommentPopup\n                    comment={comment}\n                    onComment={this.handleEdit}\n                    placeholder=\"\"\n                    placement={PopupPlacement.BottomRight}\n                    toggleComment={this.toggleEditPopup}\n                  />\n                }>\n                <EditButton\n                  className=\"js-issue-comment-edit button-small\"\n                  onClick={this.toggleEditPopup}\n                />\n              </Toggler>\n            </div>\n          )}\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'delete'}\n                overlay={<CommentDeletePopup onDelete={this.handleDelete} />}>\n                <DeleteButton\n                  className=\"js-issue-comment-delete button-small\"\n                  onClick={this.toggleDeletePopup}\n                />\n              </Toggler>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport DateTimeFormatter from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getIssueChangelog } from '../../../api/issues';\nimport Avatar from '../../ui/Avatar';\nimport IssueChangelogDiff from '../components/IssueChangelogDiff';\n\ninterface Props {\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n}\n\ninterface State {\n  changelog: T.IssueChangelog[];\n}\n\nexport default class ChangelogPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { changelog: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadChangelog();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadChangelog() {\n    getIssueChangelog(this.props.issue.key).then(\n      ({ changelog }) => {\n        if (this.mounted) {\n          this.setState({ changelog });\n        }\n      },\n      () => {}\n    );\n  }\n\n  render() {\n    const { issue } = this.props;\n    const { author } = issue;\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <div className=\"menu is-container issue-changelog\">\n          <table className=\"spaced\">\n            <tbody>\n              <tr>\n                <td className=\"thin text-left text-top nowrap\">\n                  <DateTimeFormatter date={issue.creationDate} />\n                </td>\n                <td className=\"text-left text-top\">\n                  {author ? `${translate('created_by')} ${author}` : translate('created')}\n                </td>\n              </tr>\n\n              {this.state.changelog.map((item, idx) => {\n                const userName = item.userName || item.user;\n\n                return (\n                  <tr key={idx}>\n                    <td className=\"thin text-left text-top nowrap\">\n                      <DateTimeFormatter date={item.creationDate} />\n                    </td>\n                    <td className=\"text-left text-top\">\n                      {userName && (\n                        <p>\n                          <Avatar\n                            className=\"little-spacer-right\"\n                            hash={item.avatar}\n                            name={userName}\n                            size={16}\n                          />\n                          {item.isUserActive\n                            ? userName\n                            : translateWithParameters('user.x_deleted', userName)}\n                        </p>\n                      )}\n                      {item.diffs.map(diff => (\n                        <IssueChangelogDiff diff={diff} key={diff.key} />\n                      ))}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport ChangelogPopup from '../popups/ChangelogPopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n  creationDate: string;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueChangelog extends React.PureComponent<Props> {\n  toggleChangelog = (open?: boolean) => {\n    this.props.togglePopup('changelog', open);\n  };\n\n  handleClick = () => {\n    this.toggleChangelog();\n  };\n\n  handleClose = () => {\n    this.toggleChangelog(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<ChangelogPopup issue={this.props.issue} />}>\n          <ButtonLink\n            className=\"issue-action issue-action-with-options js-issue-show-changelog\"\n            onClick={this.handleClick}>\n            <span className=\"issue-meta-label\">\n              <DateFromNow date={this.props.creationDate} />\n            </span>\n            <DropdownIcon className=\"little-spacer-left\" />\n          </ButtonLink>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { RuleStatus } from '../../../types/rules';\nimport DocumentationTooltip from '../../common/DocumentationTooltip';\nimport { WorkspaceContextShape } from '../../workspace/context';\n\nexport interface IssueMessageProps {\n  engine?: string;\n  engineName?: string;\n  manualVulnerability: boolean;\n  message: string;\n  onOpenRule: WorkspaceContextShape['openRule'];\n  ruleKey: string;\n  ruleStatus?: RuleStatus;\n}\n\nexport default function IssueMessage(props: IssueMessageProps) {\n  const { engine, engineName, manualVulnerability, message, ruleKey, ruleStatus } = props;\n  const ruleEngine = engineName ? engineName : engine;\n\n  return (\n    <div className=\"issue-message break-word\">\n      <span className=\"spacer-right\">{message}</span>\n      <ButtonLink\n        aria-label={translate('issue.why_this_issue.long')}\n        className=\"issue-see-rule spacer-right text-baseline\"\n        onClick={() =>\n          props.onOpenRule({\n            key: ruleKey\n          })\n        }>\n        {translate('issue.why_this_issue')}\n      </ButtonLink>\n\n      {ruleStatus && (ruleStatus === RuleStatus.Deprecated || ruleStatus === RuleStatus.Removed) && (\n        <DocumentationTooltip\n          className=\"spacer-left\"\n          content={translate('rules.status', ruleStatus, 'help')}\n          links={[\n            {\n              href: '/documentation/user-guide/rules/',\n              label: translateWithParameters('see_x', translate('rules'))\n            }\n          ]}>\n          <span className=\"spacer-right badge badge-error\">\n            {translate('rules.status', ruleStatus)}\n          </span>\n        </DocumentationTooltip>\n      )}\n\n      {ruleEngine && (\n        <Tooltip overlay={translateWithParameters('issue.from_external_rule_engine', ruleEngine)}>\n          <div className=\"badge spacer-right text-baseline\">{ruleEngine}</div>\n        </Tooltip>\n      )}\n      {manualVulnerability && (\n        <Tooltip overlay={translate('issue.manual_vulnerability.description')}>\n          <div className=\"badge spacer-right text-baseline\">\n            {translate('issue.manual_vulnerability')}\n          </div>\n        </Tooltip>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { fileFromPath, limitComponentName } from 'sonar-ui-common/helpers/path';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport StatusHelper from '../../shared/StatusHelper';\nimport Avatar from '../../ui/Avatar';\n\ninterface Props {\n  issue: T.Issue;\n  onFilter: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesPopup extends React.PureComponent<Props> {\n  handleSelect = (property: string) => {\n    this.props.onFilter(property, this.props.issue);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const items = [\n      'type',\n      'severity',\n      'status',\n      'resolution',\n      'assignee',\n      'rule',\n      ...(issue.tags || []).map(tag => `tag###${tag}`),\n      'project',\n      issue.subProject ? 'module' : undefined,\n      'file'\n    ].filter(item => item) as string[];\n\n    const assignee = issue.assigneeName || issue.assignee;\n\n    return (\n      <DropdownOverlay noPadding={true}>\n        <header className=\"menu-search\">\n          <h6>{translate('issue.filter_similar_issues')}</h6>\n        </header>\n\n        <SelectList\n          className=\"issues-similar-issues-menu\"\n          currentItem={items[0]}\n          items={items}\n          onSelect={this.handleSelect}>\n          <SelectListItem className=\"display-flex-center\" item=\"type\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n            {translate('issue.type', issue.type)}\n          </SelectListItem>\n\n          <SelectListItem item=\"severity\">\n            <SeverityHelper className=\"display-flex-center\" severity={issue.severity} />\n          </SelectListItem>\n\n          <SelectListItem item=\"status\">\n            <StatusHelper\n              className=\"display-flex-center\"\n              resolution={undefined}\n              status={issue.status}\n            />\n          </SelectListItem>\n\n          <SelectListItem item=\"resolution\">\n            {issue.resolution != null\n              ? translate('issue.resolution', issue.resolution)\n              : translate('unresolved')}\n          </SelectListItem>\n\n          <SelectListItem item=\"assignee\">\n            {assignee ? (\n              <span>\n                {translate('assigned_to')}\n                <Avatar\n                  className=\"little-spacer-left little-spacer-right\"\n                  hash={issue.assigneeAvatar}\n                  name={assignee}\n                  size={16}\n                />\n                {issue.assigneeActive === false\n                  ? translateWithParameters('user.x_deleted', assignee)\n                  : assignee}\n              </span>\n            ) : (\n              translate('unassigned')\n            )}\n          </SelectListItem>\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"rule\">{limitComponentName(issue.ruleName)}</SelectListItem>\n\n          {issue.tags != null &&\n            issue.tags.map(tag => (\n              <SelectListItem item={`tag###${tag}`} key={`tag###${tag}`}>\n                <TagsIcon className=\"icon-half-transparent little-spacer-right text-middle\" />\n                <span className=\"text-middle\">{tag}</span>\n              </SelectListItem>\n            ))}\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"project\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n            {issue.projectName}\n          </SelectListItem>\n\n          {issue.subProject != null && (\n            <SelectListItem item=\"module\">\n              <QualifierIcon className=\"little-spacer-right\" qualifier=\"BRC\" />\n              {issue.subProjectName}\n            </SelectListItem>\n          )}\n\n          <SelectListItem item=\"file\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier={issue.componentQualifier} />\n            {fileFromPath(issue.componentLongName)}\n          </SelectListItem>\n        </SelectList>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport FilterIcon from 'sonar-ui-common/components/icons/FilterIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SimilarIssuesPopup from '../popups/SimilarIssuesPopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: T.Issue;\n  togglePopup: (popup: string, show?: boolean) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesFilter extends React.PureComponent<Props> {\n  handleFilter = (property: string, issue: T.Issue) => {\n    this.togglePopup(false);\n    if (this.props.onFilter) {\n      this.props.onFilter(property, issue);\n    }\n  };\n\n  togglePopup = (open?: boolean) => {\n    this.props.togglePopup('similarIssues', open);\n  };\n\n  handleClose = () => {\n    this.togglePopup(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<SimilarIssuesPopup issue={this.props.issue} onFilter={this.handleFilter} />}>\n          <ButtonLink\n            aria-label={translate('issue.filter_similar_issues')}\n            className=\"issue-action issue-action-with-options js-issue-filter\"\n            onClick={this.togglePopup}\n            title={translate('issue.filter_similar_issues')}>\n            <FilterIcon className=\"icon-half-transparent\" />\n            <DropdownIcon className=\"icon-half-transparent\" />\n          </ButtonLink>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport LinkIcon from 'sonar-ui-common/components/icons/LinkIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { getComponentIssuesUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { RuleStatus } from '../../../types/rules';\nimport LocationIndex from '../../common/LocationIndex';\nimport { WorkspaceContext } from '../../workspace/context';\nimport IssueChangelog from './IssueChangelog';\nimport IssueMessage from './IssueMessage';\nimport SimilarIssuesFilter from './SimilarIssuesFilter';\n\nexport interface IssueTitleBarProps {\n  branchLike?: BranchLike;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default function IssueTitleBar(props: IssueTitleBarProps) {\n  const { issue } = props;\n  const hasSimilarIssuesFilter = props.onFilter != null;\n\n  const locationsCount =\n    issue.secondaryLocations.length +\n    issue.flows.reduce((sum, locations) => sum + locations.length, 0);\n\n  const locationsBadge = (\n    <Tooltip\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(locationsCount, 'INT')\n      )}>\n      <LocationIndex>{locationsCount}</LocationIndex>\n    </Tooltip>\n  );\n\n  const displayLocations = props.displayLocationsCount && locationsCount > 0;\n\n  const issueUrl = getComponentIssuesUrl(issue.project, {\n    ...getBranchLikeQuery(props.branchLike),\n    issues: issue.key,\n    open: issue.key,\n    types: issue.type === 'SECURITY_HOTSPOT' ? issue.type : undefined\n  });\n\n  return (\n    <div className=\"issue-row\">\n      <WorkspaceContext.Consumer>\n        {({ externalRulesRepoNames, openRule }) => (\n          <IssueMessage\n            engine={issue.externalRuleEngine}\n            engineName={\n              issue.externalRuleEngine &&\n              externalRulesRepoNames &&\n              externalRulesRepoNames[issue.externalRuleEngine]\n            }\n            manualVulnerability={issue.fromHotspot && issue.type === 'VULNERABILITY'}\n            message={issue.message}\n            onOpenRule={openRule}\n            ruleKey={issue.rule}\n            ruleStatus={issue.ruleStatus as RuleStatus | undefined}\n          />\n        )}\n      </WorkspaceContext.Consumer>\n\n      <div className=\"issue-row-meta\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueChangelog\n              creationDate={issue.creationDate}\n              isOpen={props.currentPopup === 'changelog'}\n              issue={issue}\n              togglePopup={props.togglePopup}\n            />\n          </li>\n          {issue.textRange != null && (\n            <li className=\"issue-meta\">\n              <span className=\"issue-meta-label\" title={translate('line_number')}>\n                L{issue.textRange.endLine}\n              </span>\n            </li>\n          )}\n          {displayLocations && (\n            <li className=\"issue-meta\">\n              {props.displayLocationsLink ? (\n                <Link target=\"_blank\" to={issueUrl}>\n                  {locationsBadge}\n                </Link>\n              ) : (\n                locationsBadge\n              )}\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <Link\n              className=\"js-issue-permalink link-no-underline\"\n              target=\"_blank\"\n              title={translate('permalink')}\n              to={issueUrl}>\n              <LinkIcon />\n            </Link>\n          </li>\n          {hasSimilarIssuesFilter && (\n            <li className=\"issue-meta\">\n              <SimilarIssuesFilter\n                isOpen={props.currentPopup === 'similarIssues'}\n                issue={issue}\n                onFilter={props.onFilter}\n                togglePopup={props.togglePopup}\n              />\n            </li>\n          )}\n        </ul>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { deleteIssueComment, editIssueComment } from '../../api/issues';\nimport { BranchLike } from '../../types/branch-like';\nimport { updateIssue } from './actions';\nimport IssueActionsBar from './components/IssueActionsBar';\nimport IssueCommentLine from './components/IssueCommentLine';\nimport IssueTitleBar from './components/IssueTitleBar';\n\ninterface Props {\n  branchLike?: BranchLike;\n  checked?: boolean;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  selected: boolean;\n  togglePopup: (popup: string, show: boolean | void) => void;\n}\n\nexport default class IssueView extends React.PureComponent<Props> {\n  handleCheck = () => {\n    if (this.props.onCheck) {\n      this.props.onCheck(this.props.issue.key);\n    }\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    if (!isClickable(event.target as HTMLElement) && this.props.onClick) {\n      event.preventDefault();\n      this.props.onClick(this.props.issue.key);\n    }\n  };\n\n  editComment = (comment: string, text: string) => {\n    updateIssue(this.props.onChange, editIssueComment({ comment, text }));\n  };\n\n  deleteComment = (comment: string) => {\n    updateIssue(this.props.onChange, deleteIssueComment({ comment }));\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const hasCheckbox = this.props.onCheck != null;\n\n    const issueClass = classNames('issue', {\n      hotspot: issue.type === 'SECURITY_HOTSPOT',\n      'issue-with-checkbox': hasCheckbox,\n      selected: this.props.selected\n    });\n\n    return (\n      <div\n        className={issueClass}\n        data-issue={issue.key}\n        onClick={this.handleClick}\n        role=\"listitem\"\n        tabIndex={0}>\n        <IssueTitleBar\n          branchLike={this.props.branchLike}\n          currentPopup={this.props.currentPopup}\n          displayLocationsCount={this.props.displayLocationsCount}\n          displayLocationsLink={this.props.displayLocationsLink}\n          issue={issue}\n          onFilter={this.props.onFilter}\n          togglePopup={this.props.togglePopup}\n        />\n        <IssueActionsBar\n          currentPopup={this.props.currentPopup}\n          issue={issue}\n          onAssign={this.props.onAssign}\n          onChange={this.props.onChange}\n          togglePopup={this.props.togglePopup}\n        />\n        {issue.comments && issue.comments.length > 0 && (\n          <div className=\"issue-comments\">\n            {issue.comments.map(comment => (\n              <IssueCommentLine\n                comment={comment}\n                key={comment.key}\n                onDelete={this.deleteComment}\n                onEdit={this.editComment}\n              />\n            ))}\n          </div>\n        )}\n        {hasCheckbox && (\n          <>\n            <Checkbox\n              checked={this.props.checked || false}\n              className=\"issue-checkbox-container\"\n              onCheck={this.handleCheck}\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction isClickable(node: HTMLElement | undefined | null): boolean {\n  if (!node) {\n    return false;\n  }\n  const clickableTags = ['A', 'BUTTON', 'INPUT', 'TEXTAREA'];\n  const tagName = (node.tagName || '').toUpperCase();\n  return clickableTags.includes(tagName) || isClickable(node.parentElement);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport * as React from 'react';\nimport { setIssueAssignee } from '../../api/issues';\nimport { BranchLike } from '../../types/branch-like';\nimport { updateIssue } from './actions';\nimport './Issue.css';\nimport IssueView from './IssueView';\n\ninterface Props {\n  branchLike?: BranchLike;\n  checked?: boolean;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup?: string;\n  selected: boolean;\n}\n\nexport default class Issue extends React.PureComponent<Props> {\n  static defaultProps = {\n    selected: false\n  };\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUpdate(nextProps: Props) {\n    if (!nextProps.selected && this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.selected && this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  bindShortcuts() {\n    key('f', 'issues', () => {\n      this.togglePopup('transition');\n      return false;\n    });\n    key('a', 'issues', () => {\n      this.togglePopup('assign');\n      return false;\n    });\n    key('m', 'issues', () => {\n      if (this.props.issue.actions.includes('assign')) {\n        this.handleAssignement('_me');\n      }\n      return false;\n    });\n    key('i', 'issues', () => {\n      this.togglePopup('set-severity');\n      return false;\n    });\n    key('c', 'issues', () => {\n      this.togglePopup('comment');\n      return false;\n    });\n    key('t', 'issues', () => {\n      this.togglePopup('edit-tags');\n      return false;\n    });\n    key('space', 'issues', () => {\n      if (this.props.onCheck) {\n        this.props.onCheck(this.props.issue.key);\n        return false;\n      }\n      return undefined;\n    });\n  }\n\n  unbindShortcuts() {\n    key.unbind('f', 'issues');\n    key.unbind('a', 'issues');\n    key.unbind('m', 'issues');\n    key.unbind('i', 'issues');\n    key.unbind('c', 'issues');\n    key.unbind('space', 'issues');\n    key.unbind('t', 'issues');\n  }\n\n  togglePopup = (popupName: string, open?: boolean) => {\n    this.props.onPopupToggle(this.props.issue.key, popupName, open);\n  };\n\n  handleAssignement = (login: string) => {\n    const { issue } = this.props;\n    if (issue.assignee !== login) {\n      updateIssue(this.props.onChange, setIssueAssignee({ issue: issue.key, assignee: login }));\n    }\n    this.togglePopup('assign', false);\n  };\n\n  render() {\n    return (\n      <IssueView\n        branchLike={this.props.branchLike}\n        checked={this.props.checked}\n        currentPopup={this.props.openPopup}\n        displayLocationsCount={this.props.displayLocationsCount}\n        displayLocationsLink={this.props.displayLocationsLink}\n        issue={this.props.issue}\n        onAssign={this.handleAssignement}\n        onChange={this.props.onChange}\n        onCheck={this.props.onCheck}\n        onClick={this.props.onClick}\n        onFilter={this.props.onFilter}\n        selected={this.props.selected}\n        togglePopup={this.togglePopup}\n      />\n    );\n  }\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".location-index{position:relative;display:inline-block;vertical-align:top;line-height:16px;padding-left:6px;padding-right:6px;border-radius:2px;background-color:#d18582;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;transition:background-color .3s ease;-webkit-user-select:none;-ms-user-select:none;user-select:none}.location-index.selected{background-color:#a4030f}.location-index.muted{background-color:#cdcdcd}.location-index.is-leading:first-child{margin-left:0}.location-index.is-leading:not(:first-child){margin-left:-22px}.location-index[tabindex]{cursor:pointer}.location-index[tabindex]:hover,a:hover>.location-index{background-color:#a4030f}.location-index[tabindex]:focus{outline:none}.source-line-code-inner .location-index{line-height:16px;margin:1px 4px}.source-line-code-inner .location-index+.location-index{margin-left:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './LocationMessage.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  selected: boolean;\n}\n\nexport default function LocationMessage(props: Props) {\n  return (\n    <div className={classNames('location-message', { selected: props.selected })}>\n      {props.children}\n    </div>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".location-message{display:inline-block;vertical-align:top;line-height:16px;padding:0 6px;border-radius:2px;background-color:#9e9e9e;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;text-overflow:ellipsis;overflow:hidden;transition:background-color .3s ease}.location-message.selected{background-color:#475760}.location-index+.location-message{margin-left:4px}.location-index>.location-message{display:none;position:absolute;bottom:calc(100% + 4px);left:0}.location-index:hover>.location-message{display:block}.location-index>.location-message:after{position:absolute;bottom:-5px;left:4px;width:0;height:0;border-top:5px solid #475760;border-left:5px solid transparent;border-right:5px solid transparent;content:\\\"\\\"}.source-line-code .location-message{padding-top:2px;padding-bottom:2px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".issue{position:relative;padding-top:8px;padding-bottom:8px;background-color:#f2dede;transition:all .3s ease,border 0s ease}.issue.hotspot{background-color:#eeeff4}.issue.selected{box-shadow:none;outline:none;border:2px solid #4b9fd5!important}.issue+.issue,.issue-container+.issue-container{margin-top:5px}.issue.selected+.issue{border-top-color:transparent}.issue-row{display:flex;margin-bottom:5px}.issue-row-meta{flex-grow:0;padding-right:5px;white-space:nowrap}.issue-message{flex-grow:1;padding-left:8px;padding-right:8px;line-height:18px;font-size:13px;font-weight:600;text-overflow:ellipsis}.issue-actions{justify-content:space-between;flex-wrap:wrap;padding-left:8px}.issue-actions,.issue-meta-list{display:flex;align-items:center}.issue-meta{line-height:16px;font-size:12px}.issue-meta+.issue-meta{margin-left:8px}.issue-meta-label{display:inline-block;vertical-align:top;max-width:180px;line-height:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.issue-see-rule{border-bottom:none;font-size:12px}.issue-changelog{width:450px;max-height:320px;overflow:auto;white-space:normal}.issue-comments{margin-top:5px;padding-left:8px;font-size:12px}.issue-comment{display:flex}.issue-comment+.issue-comment{margin-top:4px}.issue-comment-author{max-width:130px;font-weight:600;overflow:hidden;text-overflow:ellipsis}.issue-comment-age,.issue-comment-author{flex-shrink:0;line-height:18px;color:#777;white-space:nowrap}.issue-comment-text{flex:1;min-width:0;margin-left:5px;margin-right:5px;line-height:18px;line-height:1.5;overflow:hidden;outline:none;word-break:break-all}.issue-comment-text.markdown pre{float:none;height:auto;margin:0;padding:8px;background-color:#e6e6e6;border:none;border-radius:3px}.issue-comment-text.markdown br~pre{margin-top:8px}.issue-comment-actions{flex-shrink:0;padding-left:5px;line-height:18px;white-space:nowrap}.issue-comment-bubble-popup{width:440px;font-size:12px}.issue-comment-form-text textarea{width:100%;max-width:100%}.issue-comment-form-footer{margin-top:5px;line-height:22px}.issue-comment-form-footer:after,.issue-comment-form-footer:before{display:table;content:\\\"\\\";line-height:0}.issue-comment-form-footer:after{clear:both}.issue-comment-form-actions{float:right}.issue-comment-form-tips{float:left}.issue-with-checkbox{padding-left:24px}.issue-with-checkbox .issue-checkbox-container{display:flex;justify-content:center;align-items:center}.issue-checkbox-container{display:none;position:absolute;width:28px;top:0;bottom:0;left:0;border:none}.issue-checkbox-container:hover{background-color:rgba(0,0,0,.05)}.issue:not(.selected) .location-index{background-color:#999}.issue .menu:not(.issues-similar-issues-menu):not(.issue-changelog){max-height:120px;overflow:auto}.issue .badge-error{background-color:#eec8c8}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  displayReset: boolean;\n  onReset: () => void;\n}\n\nexport default function FiltersHeader({ displayReset, onReset }: Props) {\n  return (\n    <div className=\"search-navigator-filters-header\">\n      {displayReset && (\n        <div className=\"pull-right\">\n          <Button className=\"button-red\" id=\"coding-rules-clear-all-filters\" onClick={onReset}>\n            {translate('clear_all_filters')}\n          </Button>\n        </div>\n      )}\n\n      <h3>{translate('filters')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, sortBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport {\n  getStandards,\n  renderCWECategory,\n  renderOwaspTop10Category,\n  renderSansTop25Category,\n  renderSonarSourceSecurityCategory\n} from '../../../helpers/security-standard';\nimport { Facet } from '../../../types/issues';\nimport { SecurityStandard, Standards, StandardType } from '../../../types/security';\nimport { formatFacetStat, Query, STANDARDS } from '../utils';\n\ninterface Props {\n  cwe: string[];\n  cweOpen: boolean;\n  cweStats: T.Dict<number> | undefined;\n  fetchingCwe: boolean;\n  fetchingOwaspTop10: boolean;\n  fetchingSansTop25: boolean;\n  fetchingSonarSourceSecurity: boolean;\n  loadSearchResultCount?: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  owaspTop10: string[];\n  owaspTop10Open: boolean;\n  owaspTop10Stats: T.Dict<number> | undefined;\n  query: Partial<Query>;\n  sansTop25: string[];\n  sansTop25Open: boolean;\n  sansTop25Stats: T.Dict<number> | undefined;\n  sonarsourceSecurity: string[];\n  sonarsourceSecurityOpen: boolean;\n  sonarsourceSecurityStats: T.Dict<number> | undefined;\n}\n\ninterface State {\n  standards: Standards;\n}\n\ntype StatsProp = 'owaspTop10Stats' | 'cweStats' | 'sansTop25Stats' | 'sonarsourceSecurityStats';\ntype ValuesProp = StandardType;\n\nexport default class StandardFacet extends React.PureComponent<Props, State> {\n  mounted = false;\n  property = STANDARDS;\n  state: State = {\n    standards: { owaspTop10: {}, sansTop25: {}, cwe: {}, sonarsourceSecurity: {} }\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n\n    // load standards.json only if the facet is open, or there is a selected value\n    if (\n      this.props.open ||\n      this.props.owaspTop10.length > 0 ||\n      this.props.cwe.length > 0 ||\n      this.props.sansTop25.length > 0 ||\n      this.props.sonarsourceSecurity.length > 0\n    ) {\n      this.loadStandards();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.open && this.props.open) {\n      this.loadStandards();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadStandards = () => {\n    getStandards().then(\n      ({ owaspTop10, sansTop25, cwe, sonarsourceSecurity }: Standards) => {\n        if (this.mounted) {\n          this.setState({ standards: { owaspTop10, sansTop25, cwe, sonarsourceSecurity } });\n        }\n      },\n      () => {}\n    );\n  };\n\n  getValues = () => {\n    return [\n      ...this.props.sonarsourceSecurity.map(item =>\n        renderSonarSourceSecurityCategory(this.state.standards, item, true)\n      ),\n      ...this.props.owaspTop10.map(item =>\n        renderOwaspTop10Category(this.state.standards, item, true)\n      ),\n      ...this.props.sansTop25.map(item =>\n        renderSansTop25Category(this.state.standards, item, true)\n      ),\n      ...this.props.cwe.map(item => renderCWECategory(this.state.standards, item))\n    ];\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleOwaspTop10HeaderClick = () => {\n    this.props.onToggle('owaspTop10');\n  };\n\n  handleSansTop25HeaderClick = () => {\n    this.props.onToggle('sansTop25');\n  };\n\n  handleSonarSourceSecurityHeaderClick = () => {\n    this.props.onToggle('sonarsourceSecurity');\n  };\n\n  handleClear = () => {\n    this.props.onChange({\n      [this.property]: [],\n      owaspTop10: [],\n      sansTop25: [],\n      cwe: [],\n      sonarsourceSecurity: []\n    });\n  };\n\n  handleItemClick = (prop: ValuesProp, itemValue: string, multiple: boolean) => {\n    const items = this.props[prop];\n    if (multiple) {\n      const newValue = sortBy(\n        items.includes(itemValue) ? without(items, itemValue) : [...items, itemValue]\n      );\n      this.props.onChange({ [prop]: newValue });\n    } else {\n      this.props.onChange({\n        [prop]: items.includes(itemValue) && items.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleOwaspTop10ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick(SecurityStandard.OWASP_TOP10, itemValue, multiple);\n  };\n\n  handleSansTop25ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick(SecurityStandard.SANS_TOP25, itemValue, multiple);\n  };\n\n  handleSonarSourceSecurityItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick(SecurityStandard.SONARSOURCE, itemValue, multiple);\n  };\n\n  handleCWESearch = (query: string) => {\n    return Promise.resolve({\n      results: Object.keys(this.state.standards.cwe).filter(cwe =>\n        renderCWECategory(this.state.standards, cwe)\n          .toLowerCase()\n          .includes(query.toLowerCase())\n      )\n    });\n  };\n\n  loadCWESearchResultCount = (categories: string[]) => {\n    const { loadSearchResultCount } = this.props;\n    return loadSearchResultCount\n      ? loadSearchResultCount('cwe', { cwe: categories })\n      : Promise.resolve({});\n  };\n\n  renderList = (\n    statsProp: StatsProp,\n    valuesProp: ValuesProp,\n    renderName: (standards: Standards, category: string) => string,\n    onClick: (x: string, multiple?: boolean) => void\n  ) => {\n    const stats = this.props[statsProp];\n    const values = this.props[valuesProp];\n    if (!stats) {\n      return null;\n    }\n    const categories = sortBy(Object.keys(stats), key => -stats[key]);\n    return this.renderFacetItemsList(stats, values, categories, renderName, renderName, onClick);\n  };\n\n  // eslint-disable-next-line max-params\n  renderFacetItemsList = (\n    stats: any,\n    values: string[],\n    categories: string[],\n    renderName: (standards: Standards, category: string) => React.ReactNode,\n    renderTooltip: (standards: Standards, category: string) => string,\n    onClick: (x: string, multiple?: boolean) => void\n  ) => {\n    if (!categories.length) {\n      return (\n        <div className=\"search-navigator-facet-empty little-spacer-top\">\n          {translate('no_results')}\n        </div>\n      );\n    }\n\n    const getStat = (category: string) => {\n      return stats ? stats[category] : undefined;\n    };\n\n    return (\n      <FacetItemsList>\n        {categories.map(category => (\n          <FacetItem\n            active={values.includes(category)}\n            key={category}\n            name={renderName(this.state.standards, category)}\n            onClick={onClick}\n            stat={formatFacetStat(getStat(category))}\n            tooltip={renderTooltip(this.state.standards, category)}\n            value={category}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  };\n\n  renderHint = (statsProp: StatsProp, valuesProp: ValuesProp) => {\n    const stats = this.props[statsProp] || {};\n    const values = this.props[valuesProp];\n    return <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />;\n  };\n\n  renderOwaspTop10List() {\n    return this.renderList(\n      'owaspTop10Stats',\n      SecurityStandard.OWASP_TOP10,\n      renderOwaspTop10Category,\n      this.handleOwaspTop10ItemClick\n    );\n  }\n\n  renderOwaspTop10Hint() {\n    return this.renderHint('owaspTop10Stats', SecurityStandard.OWASP_TOP10);\n  }\n\n  renderSansTop25List() {\n    return this.renderList(\n      'sansTop25Stats',\n      SecurityStandard.SANS_TOP25,\n      renderSansTop25Category,\n      this.handleSansTop25ItemClick\n    );\n  }\n\n  renderSansTop25Hint() {\n    return this.renderHint('sansTop25Stats', SecurityStandard.SANS_TOP25);\n  }\n\n  renderSonarSourceSecurityList() {\n    return this.renderList(\n      'sonarsourceSecurityStats',\n      SecurityStandard.SONARSOURCE,\n      renderSonarSourceSecurityCategory,\n      this.handleSonarSourceSecurityItemClick\n    );\n  }\n\n  renderSonarSourceSecurityHint() {\n    return this.renderHint('sonarsourceSecurityStats', SecurityStandard.SONARSOURCE);\n  }\n\n  renderSubFacets() {\n    return (\n      <>\n        <FacetBox className=\"is-inner\" property={SecurityStandard.SONARSOURCE}>\n          <FacetHeader\n            fetching={this.props.fetchingSonarSourceSecurity}\n            name={translate('issues.facet.sonarsourceSecurity')}\n            onClick={this.handleSonarSourceSecurityHeaderClick}\n            open={this.props.sonarsourceSecurityOpen}\n            values={this.props.sonarsourceSecurity.map(item =>\n              renderSonarSourceSecurityCategory(this.state.standards, item)\n            )}\n          />\n          {this.props.sonarsourceSecurityOpen && (\n            <>\n              {this.renderSonarSourceSecurityList()}\n              {this.renderSonarSourceSecurityHint()}\n            </>\n          )}\n        </FacetBox>\n        <FacetBox className=\"is-inner\" property={SecurityStandard.OWASP_TOP10}>\n          <FacetHeader\n            fetching={this.props.fetchingOwaspTop10}\n            name={translate('issues.facet.owaspTop10')}\n            onClick={this.handleOwaspTop10HeaderClick}\n            open={this.props.owaspTop10Open}\n            values={this.props.owaspTop10.map(item =>\n              renderOwaspTop10Category(this.state.standards, item)\n            )}\n          />\n          {this.props.owaspTop10Open && (\n            <>\n              {this.renderOwaspTop10List()}\n              {this.renderOwaspTop10Hint()}\n            </>\n          )}\n        </FacetBox>\n        <FacetBox className=\"is-inner\" property={SecurityStandard.SANS_TOP25}>\n          <FacetHeader\n            fetching={this.props.fetchingSansTop25}\n            name={translate('issues.facet.sansTop25')}\n            onClick={this.handleSansTop25HeaderClick}\n            open={this.props.sansTop25Open}\n            values={this.props.sansTop25.map(item =>\n              renderSansTop25Category(this.state.standards, item)\n            )}\n          />\n          {this.props.sansTop25Open && (\n            <>\n              {this.renderSansTop25List()}\n              {this.renderSansTop25Hint()}\n            </>\n          )}\n        </FacetBox>\n        <ListStyleFacet<string>\n          className=\"is-inner\"\n          facetHeader={translate('issues.facet.cwe')}\n          fetching={this.props.fetchingCwe}\n          getFacetItemText={item => renderCWECategory(this.state.standards, item)}\n          getSearchResultKey={item => item}\n          getSearchResultText={item => renderCWECategory(this.state.standards, item)}\n          loadSearchResultCount={this.loadCWESearchResultCount}\n          onChange={this.props.onChange}\n          onSearch={this.handleCWESearch}\n          onToggle={this.props.onToggle}\n          open={this.props.cweOpen}\n          property={SecurityStandard.CWE}\n          query={omit(this.props.query, 'cwe')}\n          renderFacetItem={item => renderCWECategory(this.state.standards, item)}\n          renderSearchResult={(item, query) =>\n            highlightTerm(renderCWECategory(this.state.standards, item), query)\n          }\n          searchPlaceholder={translate('search.search_for_cwe')}\n          stats={this.props.cweStats}\n          values={this.props.cwe}\n        />\n      </>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && this.renderSubFacets()}\n      </FacetBox>\n    );\n  }\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".multiple-selection-hint{margin-top:8px;margin-bottom:8px;text-align:center}.multiple-selection-hint-inner{display:inline-block;height:24px;line-height:24px;border-radius:24px;background-color:#e6e6e6;text-align:center;padding:0 8px;font-size:12px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  className?: string;\n  current?: number;\n  label: string;\n  total: number;\n}\n\nexport default function PageCounter({ className, current, label, total }: Props) {\n  return (\n    <div className={classNames('display-inline-block', className)}>\n      <strong className=\"little-spacer-right\">\n        {current !== undefined && formatMeasure(current + 1, 'INT') + ' / '}\n        <span className=\"js-page-counter-total\">{formatMeasure(total, 'INT')}</span>\n      </strong>\n      {label}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  type: T.IssueType | T.RuleType;\n}\n\nexport default function TypeHelper(props: Props) {\n  return (\n    <span className={props.className}>\n      <IssueTypeIcon className=\"little-spacer-right\" query={props.type} />\n      {translate('issue.type', props.type)}\n    </span>\n  );\n}\n","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./BarChart.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".bar-chart-bar{fill:#4b9fd5}.bar-chart-tick{fill:#777;font-size:12px;text-anchor:middle}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport './EmptySearch.css';\n\nexport default function EmptySearch() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('no_results_search')}</h3>\n      <p className=\"big-spacer-top\">{translate('no_results_search.2')}</p>\n    </div>\n  );\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".empty-search{padding:60px 0;border:1px solid #e6e6e6;border-radius:2px;color:#777;text-align:center}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar theme_1 = require(\"../theme\");\nvar Tooltip_1 = require(\"./Tooltip\");\nvar BackButton = (function (_super) {\n    __extends(BackButton, _super);\n    function BackButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            event.currentTarget.blur();\n            if (!_this.props.disabled) {\n                _this.props.onClick();\n            }\n        };\n        _this.renderIcon = function () { return (React.createElement(theme_1.ThemeConsumer, null, function (theme) { return (React.createElement(\"svg\", { height: \"24\", viewBox: \"0 0 21 24\", width: \"21\" },\n            React.createElement(\"path\", { d: \"M3.845 12.9992l5.993 5.993.052.056c.049.061.093.122.129.191.082.159.121.339.111.518-.006.102-.028.203-.064.298-.149.39-.537.652-.954.644-.102-.002-.204-.019-.301-.052-.148-.05-.273-.135-.387-.241l-8.407-8.407 8.407-8.407.056-.052c.061-.048.121-.092.19-.128.116-.06.237-.091.366-.108.076-.004.075-.004.153-.003.155.015.3.052.437.129.088.051.169.115.239.19.246.266.33.656.214.999-.051.149-.135.273-.241.387l-5.983 5.984c5.287-.044 10.577-.206 15.859.013.073.009.091.009.163.027.187.047.359.15.49.292.075.081.136.175.18.276.044.101.072.209.081.319.032.391-.175.775-.521.962-.097.052-.202.089-.311.107-.073.012-.091.01-.165.013H3.845z\", fill: _this.props.disabled ? theme.colors.disableGrayText : theme.colors.secondFontColor }))); })); };\n        return _this;\n    }\n    BackButton.prototype.render = function () {\n        var _a = this.props.tooltip, tooltip = _a === void 0 ? l10n_1.translate('issues.return_to_list') : _a;\n        return (React.createElement(Tooltip_1.default, { overlay: tooltip },\n            React.createElement(\"a\", { className: classNames('link-no-underline', { 'cursor-not-allowed': this.props.disabled }, this.props.className), href: \"#\", onClick: this.handleClick }, this.renderIcon())));\n    };\n    return BackButton;\n}(React.PureComponent));\nexports.default = BackButton;\n//# sourceMappingURL=BackButton.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar d3_array_1 = require(\"d3-array\");\nvar d3_scale_1 = require(\"d3-scale\");\nvar React = require(\"react\");\nvar Tooltip_1 = require(\"../controls/Tooltip\");\nrequire(\"./BarChart.css\");\nvar BarChart = (function (_super) {\n    __extends(BarChart, _super);\n    function BarChart() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (point) {\n            if (_this.props.onBarClick) {\n                _this.props.onBarClick(point);\n            }\n        };\n        _this.renderXTicks = function (xScale, yScale) {\n            var _a = _this.props, data = _a.data, _b = _a.xTicks, xTicks = _b === void 0 ? [] : _b;\n            if (!xTicks.length) {\n                return null;\n            }\n            var ticks = xTicks.map(function (tick, index) {\n                var point = data[index];\n                var x = Math.round(xScale(point.x) + xScale.bandwidth() / 2);\n                var y = yScale.range()[0];\n                var d = data[index];\n                var text = (React.createElement(\"text\", { className: \"bar-chart-tick\", dy: \"1.5em\", key: index, onClick: function () { return _this.handleClick(point); }, style: { cursor: _this.props.onBarClick ? 'pointer' : 'default' }, x: x, y: y }, tick));\n                return (React.createElement(Tooltip_1.default, { key: index, overlay: d.tooltip || undefined }, text));\n            });\n            return React.createElement(\"g\", null, ticks);\n        };\n        _this.renderXValues = function (xScale, yScale) {\n            var _a = _this.props, data = _a.data, _b = _a.xValues, xValues = _b === void 0 ? [] : _b;\n            if (!xValues.length) {\n                return null;\n            }\n            var ticks = xValues.map(function (value, index) {\n                var point = data[index];\n                var x = Math.round(xScale(point.x) + xScale.bandwidth() / 2);\n                var y = yScale(point.y);\n                var text = (React.createElement(\"text\", { className: \"bar-chart-tick\", dy: \"-1em\", key: index, onClick: function () { return _this.handleClick(point); }, style: { cursor: _this.props.onBarClick ? 'pointer' : 'default' }, x: x, y: y }, value));\n                return (React.createElement(Tooltip_1.default, { key: index, overlay: point.tooltip || undefined }, text));\n            });\n            return React.createElement(\"g\", null, ticks);\n        };\n        _this.renderBars = function (xScale, yScale) {\n            var bars = _this.props.data.map(function (point, index) {\n                var x = Math.round(xScale(point.x));\n                var maxY = yScale.range()[0];\n                var y = Math.round(yScale(point.y)) - 1;\n                var height = maxY - y;\n                var rect = (React.createElement(\"rect\", { className: \"bar-chart-bar\", height: height, key: index, onClick: function () { return _this.handleClick(point); }, style: { cursor: _this.props.onBarClick ? 'pointer' : 'default' }, width: _this.props.barsWidth, x: x, y: y }));\n                return (React.createElement(Tooltip_1.default, { key: index, overlay: point.tooltip || undefined }, rect));\n            });\n            return React.createElement(\"g\", null, bars);\n        };\n        return _this;\n    }\n    BarChart.prototype.render = function () {\n        var _a = this.props, barsWidth = _a.barsWidth, data = _a.data, width = _a.width, height = _a.height, _b = _a.padding, padding = _b === void 0 ? [10, 10, 10, 10] : _b;\n        var availableWidth = width - padding[1] - padding[3];\n        var availableHeight = height - padding[0] - padding[2];\n        var innerPadding = (availableWidth - barsWidth * data.length) / (data.length - 1);\n        var relativeInnerPadding = innerPadding / (innerPadding + barsWidth);\n        var maxY = d3_array_1.max(data, function (d) { return d.y; });\n        var xScale = d3_scale_1.scaleBand()\n            .domain(data.map(function (d) { return d.x; }))\n            .range([0, availableWidth])\n            .paddingInner(relativeInnerPadding);\n        var yScale = d3_scale_1.scaleLinear().domain([0, maxY]).range([availableHeight, 0]);\n        return (React.createElement(\"svg\", { className: \"bar-chart\", height: height, width: width },\n            React.createElement(\"g\", { transform: \"translate(\" + padding[3] + \", \" + padding[0] + \")\" },\n                this.renderXTicks(xScale, yScale),\n                this.renderXValues(xScale, yScale),\n                this.renderBars(xScale, yScale))));\n    };\n    return BarChart;\n}(React.PureComponent));\nexports.default = BarChart;\n//# sourceMappingURL=BarChart.js.map","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".issues-main-header .component-name{line-height:24px}.issues-main-header-spinner{margin-right:2px}.concise-issues-list-header-inner{width:260px;text-align:center}.concise-issues-list-header .spinner{margin-top:4px;margin-left:1px;margin-right:1px}.concise-issues-list-header-button{border:none}.concise-issues-list-header-button path{fill:#777;transition:fill .3s ease}.concise-issues-list-header-button:hover path{fill:#4b9fd5}.concise-issue-component{margin-top:16px;margin-bottom:4px;padding-left:8px;padding-right:8px;direction:rtl}.concise-issue-box{position:relative;z-index:1;margin-bottom:4px;padding:7px;border:2px solid #e6e6e6;background-color:#fff;cursor:pointer;transition:background-color .3s ease,border-color .3s ease}.concise-issue-box:hover{border:2px dashed #4b9fd5}.concise-issue-box:focus{outline:none}.concise-issue-box.selected{z-index:2;border:2px solid #4b9fd5;cursor:default}.concise-issue-box-message{overflow:hidden;text-overflow:ellipsis;font-weight:700}.concise-issue-box-message:focus{outline:none}.concise-issue-box.selected .concise-issue-box-message{cursor:pointer}.concise-issue-box-attributes{margin-top:8px;line-height:16px;font-size:12px;display:flex;align-items:flex-start;flex-wrap:wrap;justify-content:flex-start}.concise-issue-box:not(.selected) .location-index{background-color:#ccc}.concise-issue-locations{display:inline-block;margin-bottom:-4px;margin-left:8px}.concise-issue-box-attributes>.location-index{margin-bottom:4px;margin-right:4px}.concise-issue-box-attributes>.concise-issue-expand{background-color:transparent;border:1px solid #d18582;height:16px;color:#d18582;font-weight:700;font-size:16px;line-height:8px;padding-bottom:6px}.concise-issue-box-attributes>.concise-issue-expand:hover{background-color:#d18582;color:#fff}.concise-issue-locations-navigator-location{position:relative;z-index:3;display:inline-flex;align-items:flex-start;max-width:100%;border:none}.concise-issue-locations-navigator-file{position:relative}.concise-issue-locations-navigator-file+.concise-issue-locations-navigator-file{margin-top:12px}.concise-issue-locations-navigator-file:not(:last-child):before{position:absolute;display:block;width:0;top:13px;bottom:-16px;left:4px;border-left:1px dotted #d18582;content:\\\"\\\"}.concise-issue-location-file{height:16px;padding-bottom:4px;font-size:12px;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.concise-issue-location-file-circle,.concise-issue-location-file-circle-multiple,.concise-issue-location-file-circle-multiple:after,.concise-issue-location-file-circle-multiple:before{position:relative;top:1px;display:inline-block;width:9px;height:9px;border:1px solid #d18582;border-radius:100%;box-sizing:border-box;background-color:#f2dede}.concise-issue-location-file-circle-multiple{top:-2px}.concise-issue-location-file-circle-multiple:before{position:absolute;z-index:7;top:2px;left:-1px;content:\\\"\\\"}.concise-issue-location-file-circle-multiple:after{position:absolute;z-index:8;top:5px;left:-1px;content:\\\"\\\"}.concise-issue-location-file-locations{padding-left:16px}.concise-issue-location-file-more{border-color:rgba(209,133,130,.2);color:#d18582!important;font-style:italic;font-weight:400}.concise-issue-location-file-more:focus,.concise-issue-location-file-more:hover{border-color:rgba(209,133,130,.6)}.component-source-container{border:1px solid #cdcdcd}.component-source-container+.component-source-container{margin-top:8px}.component-source-container-header{background-color:#efefef;padding:8px}.issues-my-issues-filter{margin-bottom:24px;text-align:center}.issues-page-actions{display:inline-block;min-width:80px;text-align:right}.issues .issue-list{min-width:640px;width:800px}.issues .issue{border:2px solid transparent;cursor:pointer}.issues .issue:focus-within,.issues .issue:hover{border:2px dashed #4b9fd5;transition:all .3s ease;outline:0}.issues .issue a:focus,.issues .issue button:focus{box-shadow:none;outline:1px dotted #4b9fd5}@media (max-width:1320px){.issues .issue-list{width:calc(60vw - 40px)}}.issue-location{display:inline-block;vertical-align:top;line-height:18px;height:18px;box-sizing:border-box;background-color:#f2dede;transition:background-color .3s ease}.issues-workspace-list-component{padding:10px 0 6px}.issues-workspace-list-item+.issues-workspace-list-item{margin-top:5px}.issues-workspace-list-component+.issues-workspace-list-item{margin-top:10px}.issues-workspace-list-item:first-child .issues-workspace-list-component{padding-top:0}.issues-workspace-list-component+.issues-workspace-list-item{margin-top:0}.issues-predefined-periods{display:flex}.issues-predefined-periods .search-navigator-facet{width:auto;margin-right:4px}.bulk-change-radio-button{margin:0 -4px;padding:0 4px}.bulk-change-radio-button:hover{background-color:#f3f3f3}.navigation-keyboard-shortcuts>span{background-color:hsla(0,0%,78.4%,.5);border-radius:16px;display:inline-block;font-size:12px;height:16px;padding:4px 8px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { State } from './components/App';\n\nexport function enableLocationsNavigator(state: State) {\n  const { openIssue, selectedLocationIndex } = state;\n  if (openIssue && (openIssue.secondaryLocations.length > 0 || openIssue.flows.length > 0)) {\n    const selectedFlowIndex =\n      state.selectedFlowIndex || (openIssue.flows.length > 0 ? 0 : undefined);\n\n    return {\n      locationsNavigator: true,\n      selectedFlowIndex,\n      // Also reset index = -1 to 0, we don't want to start on the issue when enabling the location navigator\n      selectedLocationIndex:\n        !selectedLocationIndex || selectedLocationIndex < 0 ? 0 : selectedLocationIndex\n    };\n  }\n  return null;\n}\n\nexport function disableLocationsNavigator() {\n  return { locationsNavigator: false };\n}\n\nexport function selectLocation(nextIndex: number) {\n  return (state: Pick<State, 'selectedLocationIndex' | 'openIssue'>) => {\n    const { selectedLocationIndex: index, openIssue } = state;\n    if (openIssue) {\n      if (index === nextIndex) {\n        // disable locations when selecting (clicking) the same location\n        return {\n          locationsNavigator: false,\n          selectedLocationIndex: undefined\n        };\n      } else {\n        return { locationsNavigator: true, selectedLocationIndex: nextIndex };\n      }\n    }\n    return null;\n  };\n}\n\nexport function selectNextLocation(\n  state: Pick<State, 'selectedFlowIndex' | 'selectedLocationIndex' | 'openIssue'>\n) {\n  const { selectedFlowIndex, selectedLocationIndex: index, openIssue } = state;\n  if (openIssue) {\n    const locations =\n      selectedFlowIndex !== undefined\n        ? openIssue.flows[selectedFlowIndex]\n        : openIssue.secondaryLocations;\n    const lastLocationIdx = locations.length - 1;\n    if (index === lastLocationIdx) {\n      // -1 to jump back to the issue itself\n      return { selectedLocationIndex: -1 };\n    }\n    return {\n      selectedLocationIndex: index !== undefined && index < lastLocationIdx ? index + 1 : index\n    };\n  }\n  return null;\n}\n\nexport function selectPreviousLocation(state: State) {\n  const { selectedFlowIndex, selectedLocationIndex: index, openIssue } = state;\n  if (openIssue) {\n    if (index === -1) {\n      const locations =\n        selectedFlowIndex !== undefined\n          ? openIssue.flows[selectedFlowIndex]\n          : openIssue.secondaryLocations;\n      const lastLocationIdx = locations.length - 1;\n      return { selectedLocationIndex: lastLocationIdx };\n    }\n    return { selectedLocationIndex: index !== undefined && index > 0 ? index - 1 : index };\n  }\n  return null;\n}\n\nexport function selectFlow(nextIndex?: number) {\n  return () => {\n    return { locationsNavigator: true, selectedFlowIndex: nextIndex, selectedLocationIndex: 0 };\n  };\n}\n\nexport function selectNextFlow(state: State) {\n  const { openIssue, selectedFlowIndex } = state;\n  if (\n    openIssue &&\n    selectedFlowIndex !== undefined &&\n    openIssue.flows.length > selectedFlowIndex + 1\n  ) {\n    return { selectedFlowIndex: selectedFlowIndex + 1, selectedLocationIndex: 0 };\n  }\n  return null;\n}\n\nexport function selectPreviousFlow(state: State) {\n  const { openIssue, selectedFlowIndex } = state;\n  if (openIssue && selectedFlowIndex !== undefined && selectedFlowIndex > 0) {\n    return { selectedFlowIndex: selectedFlowIndex - 1, selectedLocationIndex: 0 };\n  }\n  return null;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface Props {\n  issue: Pick<T.Issue, 'flows' | 'secondaryLocations'> | undefined;\n}\n\nexport default function LocationNavigationKeyboardShortcuts({ issue }: Props) {\n  if (!issue || (!issue.secondaryLocations.length && !issue.flows.length)) {\n    return null;\n  }\n  const hasSeveralFlows = issue.flows.length > 1;\n  return (\n    <div className=\"navigation-keyboard-shortcuts big-spacer-top text-center\">\n      <span>\n        alt +   {hasSeveralFlows && <></>}\n        {translate('issues.to_navigate_issue_locations')}\n      </span>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport LocationIndex from '../../../components/common/LocationIndex';\n\ninterface Props {\n  count: number;\n  onClick?: () => void;\n  selected: boolean;\n}\n\nexport default function ConciseIssueLocationBadge(props: Props) {\n  return (\n    <Tooltip\n      mouseEnterDelay={0.5}\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(props.count, 'INT')\n      )}>\n      <LocationIndex onClick={props.onClick} selected={props.selected}>\n        {'+'}\n        {props.count}\n      </LocationIndex>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport ConciseIssueLocationBadge from './ConciseIssueLocationBadge';\n\ninterface Props {\n  issue: Pick<T.Issue, 'flows' | 'secondaryLocations'>;\n  onFlowSelect: (index: number) => void;\n  selectedFlowIndex: number | undefined;\n}\n\ninterface State {\n  collapsed: boolean;\n}\n\nconst LIMIT = 8;\n\nexport default class ConciseIssueLocations extends React.PureComponent<Props, State> {\n  state: State = { collapsed: true };\n\n  handleExpandClick = () => {\n    this.setState({ collapsed: false });\n  };\n\n  renderExpandButton() {\n    return (\n      <Button\n        className=\"concise-issue-expand location-index link-no-underline\"\n        onClick={this.handleExpandClick}>\n        ...\n      </Button>\n    );\n  }\n\n  render() {\n    const { secondaryLocations, flows } = this.props.issue;\n\n    const badges: JSX.Element[] = [];\n\n    if (secondaryLocations.length > 0) {\n      badges.push(\n        <ConciseIssueLocationBadge\n          count={secondaryLocations.length}\n          key=\"-1\"\n          selected={!this.props.selectedFlowIndex}\n        />\n      );\n    }\n\n    flows.forEach((flow, index) => {\n      badges.push(\n        <ConciseIssueLocationBadge\n          count={flow.length}\n          key={index}\n          onClick={() => this.props.onFlowSelect(index)}\n          selected={index === this.props.selectedFlowIndex}\n        />\n      );\n    });\n\n    if (!this.state.collapsed || badges.length <= LIMIT) {\n      return badges;\n    }\n\n    return (\n      <>\n        {badges.slice(0, LIMIT - 1)}\n        {this.renderExpandButton()}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport LocationIndex from '../../../components/common/LocationIndex';\nimport LocationMessage from '../../../components/common/LocationMessage';\n\ninterface Props {\n  index: number;\n  message: string | undefined;\n  onClick: (index: number) => void;\n  scroll: (element: Element) => void;\n  selected: boolean;\n}\n\nexport default class ConciseIssueLocationsNavigatorLocation extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidMount() {\n    if (this.props.selected && this.node) {\n      this.props.scroll(this.node);\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selected && prevProps.selected !== this.props.selected && this.node) {\n      this.props.scroll(this.node);\n    }\n  }\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.index);\n  };\n\n  render() {\n    const { index, message, selected } = this.props;\n\n    return (\n      <div className=\"little-spacer-top\" ref={node => (this.node = node)}>\n        <a\n          className=\"concise-issue-locations-navigator-location\"\n          href=\"#\"\n          onClick={this.handleClick}>\n          <LocationIndex selected={selected}>{index + 1}</LocationIndex>\n          <LocationMessage selected={selected}>{message}</LocationMessage>\n        </a>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { collapsePath } from 'sonar-ui-common/helpers/path';\nimport ConciseIssueLocationsNavigatorLocation from './ConciseIssueLocationsNavigatorLocation';\n\ninterface Props {\n  issue: Pick<T.Issue, 'key' | 'type'>;\n  locations: T.FlowLocation[];\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element) => void;\n  selectedLocationIndex: number | undefined;\n}\n\ninterface State {\n  collapsed: boolean;\n}\n\ninterface LocationGroup {\n  component: string | undefined;\n  componentName: string | undefined;\n  firstLocationIndex: number;\n  locations: T.FlowLocation[];\n}\n\nconst MAX_PATH_LENGTH = 15;\n\nexport default class CrossFileLocationsNavigator extends React.PureComponent<Props, State> {\n  state: State = { collapsed: true };\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.issue.key !== this.props.issue.key) {\n      this.setState({ collapsed: true });\n    }\n\n    // expand locations list as soon as a location in the middle of the list is selected\n    const { locations: nextLocations } = nextProps;\n    if (\n      nextProps.selectedLocationIndex &&\n      nextProps.selectedLocationIndex > 0 &&\n      nextLocations !== undefined &&\n      nextProps.selectedLocationIndex < nextLocations.length - 1\n    ) {\n      this.setState({ collapsed: false });\n    }\n  }\n\n  handleMoreLocationsClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ collapsed: false });\n  };\n\n  groupByFile = (locations: T.FlowLocation[]) => {\n    const groups: LocationGroup[] = [];\n\n    let currentLocations: T.FlowLocation[] = [];\n    let currentComponent: string | undefined;\n    let currentComponentName: string | undefined;\n    let currentFirstLocationIndex = 0;\n\n    for (let index = 0; index < locations.length; index++) {\n      const location = locations[index];\n      if (location.component === currentComponent) {\n        currentLocations.push(location);\n      } else {\n        if (currentLocations.length > 0) {\n          groups.push({\n            component: currentComponent,\n            componentName: currentComponentName,\n            firstLocationIndex: currentFirstLocationIndex,\n            locations: currentLocations\n          });\n        }\n        currentLocations = [location];\n        currentComponent = location.component;\n        currentComponentName = location.componentName;\n        currentFirstLocationIndex = index;\n      }\n    }\n\n    if (currentLocations.length > 0) {\n      groups.push({\n        component: currentComponent,\n        componentName: currentComponentName,\n        firstLocationIndex: currentFirstLocationIndex,\n        locations: currentLocations\n      });\n    }\n\n    return groups;\n  };\n\n  renderLocation = (index: number, message: string | undefined) => {\n    return (\n      <ConciseIssueLocationsNavigatorLocation\n        index={index}\n        key={index}\n        message={message}\n        onClick={this.props.onLocationSelect}\n        scroll={this.props.scroll}\n        selected={index === this.props.selectedLocationIndex}\n      />\n    );\n  };\n\n  renderGroup = (\n    group: LocationGroup,\n    groupIndex: number,\n    { onlyFirst = false, onlyLast = false } = {}\n  ) => {\n    const { firstLocationIndex } = group;\n    const lastLocationIndex = group.locations.length - 1;\n    return (\n      <div className=\"concise-issue-locations-navigator-file\" key={groupIndex}>\n        <div className=\"concise-issue-location-file\">\n          <i className=\"concise-issue-location-file-circle little-spacer-right\" />\n          {collapsePath(group.componentName || '', MAX_PATH_LENGTH)}\n        </div>\n        {group.locations.length > 0 && (\n          <div className=\"concise-issue-location-file-locations\">\n            {onlyFirst && this.renderLocation(firstLocationIndex, group.locations[0].msg)}\n\n            {onlyLast &&\n              this.renderLocation(\n                firstLocationIndex + lastLocationIndex,\n                group.locations[lastLocationIndex].msg\n              )}\n\n            {!onlyFirst &&\n              !onlyLast &&\n              group.locations.map((location, index) =>\n                this.renderLocation(firstLocationIndex + index, location.msg)\n              )}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  render() {\n    const { locations } = this.props;\n    const groups = this.groupByFile(locations);\n\n    if (locations.length > 2 && groups.length > 1 && this.state.collapsed) {\n      const firstGroup = groups[0];\n      const lastGroup = groups[groups.length - 1];\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {this.renderGroup(firstGroup, 0, { onlyFirst: true })}\n          <div className=\"concise-issue-locations-navigator-file\">\n            <div className=\"concise-issue-location-file\">\n              <i className=\"concise-issue-location-file-circle-multiple little-spacer-right\" />\n              <a\n                className=\"concise-issue-location-file-more\"\n                href=\"#\"\n                onClick={this.handleMoreLocationsClick}>\n                {translateWithParameters('issues.x_more_locations', locations.length - 2)}\n              </a>\n            </div>\n          </div>\n          {this.renderGroup(lastGroup, groups.length - 1, { onlyLast: true })}\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {groups.map((group, groupIndex) => this.renderGroup(group, groupIndex))}\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\nimport * as React from 'react';\nimport { getLocations } from '../utils';\nimport ConciseIssueLocationsNavigatorLocation from './ConciseIssueLocationsNavigatorLocation';\nimport CrossFileLocationsNavigator from './CrossFileLocationsNavigator';\n\ninterface Props {\n  issue: Pick<T.Issue, 'component' | 'key' | 'flows' | 'secondaryLocations' | 'type'>;\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element) => void;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssueLocationsNavigator extends React.PureComponent<Props> {\n  render() {\n    const locations = getLocations(this.props.issue, this.props.selectedFlowIndex);\n\n    if (!locations || locations.length === 0 || locations.every(location => !location.msg)) {\n      return null;\n    }\n\n    const locationComponents = [\n      this.props.issue.component,\n      ...locations.map(location => location.component)\n    ];\n    const isCrossFile = uniq(locationComponents).length > 1;\n\n    if (isCrossFile) {\n      return (\n        <CrossFileLocationsNavigator\n          issue={this.props.issue}\n          locations={locations}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.props.scroll}\n          selectedLocationIndex={this.props.selectedLocationIndex}\n        />\n      );\n    } else {\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {locations.map((location, index) => (\n            <ConciseIssueLocationsNavigatorLocation\n              index={index}\n              key={index}\n              message={location.msg}\n              onClick={this.props.onLocationSelect}\n              scroll={this.props.scroll}\n              selected={index === this.props.selectedLocationIndex}\n            />\n          ))}\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport TypeHelper from '../../../components/shared/TypeHelper';\nimport LocationNavigationKeyboardShortcuts from '../components/LocationNavigationKeyboardShortcuts';\nimport ConciseIssueLocations from './ConciseIssueLocations';\nimport ConciseIssueLocationsNavigator from './ConciseIssueLocationsNavigator';\n\ninterface Props {\n  issue: T.Issue;\n  onClick: (issueKey: string) => void;\n  onFlowSelect: (index: number) => void;\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element, bottomOffset?: number) => void;\n  selected: boolean;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssueBox extends React.PureComponent<Props> {\n  messageElement?: HTMLElement | null;\n  rootElement?: HTMLElement | null;\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.handleScroll();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selected && prevProps.selected !== this.props.selected) {\n      this.handleScroll();\n    }\n  }\n\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.issue.key);\n  };\n\n  handleScroll = () => {\n    const { selectedFlowIndex } = this.props;\n    const { flows, secondaryLocations } = this.props.issue;\n\n    const locations = flows.length > 0 ? flows[selectedFlowIndex || 0] : secondaryLocations;\n\n    if (!locations || locations.length < 15) {\n      // if there are no locations, or there are just few\n      // then ensuse that the whole box is visible\n      if (this.rootElement) {\n        this.props.scroll(this.rootElement);\n      }\n    } else if (this.messageElement) {\n      // otherwise scroll until the the message element is located on top\n      this.props.scroll(this.messageElement, window.innerHeight - 250);\n    }\n  };\n\n  render() {\n    const { issue, selected } = this.props;\n\n    const clickAttributesMain = selected\n      ? {}\n      : { onClick: this.handleClick, role: 'listitem', tabIndex: 0 };\n\n    const clickAttributesTitle = selected\n      ? { onClick: this.handleClick, role: 'listitem', tabIndex: 0 }\n      : {};\n\n    return (\n      <div\n        className={classNames('concise-issue-box', 'clearfix', { selected })}\n        ref={node => (this.rootElement = node)}\n        {...clickAttributesMain}>\n        <div\n          className=\"concise-issue-box-message\"\n          {...clickAttributesTitle}\n          ref={node => (this.messageElement = node)}>\n          {issue.message}\n        </div>\n        <div className=\"concise-issue-box-attributes\">\n          <TypeHelper className=\"display-block little-spacer-right\" type={issue.type} />\n          <ConciseIssueLocations\n            issue={issue}\n            onFlowSelect={this.props.onFlowSelect}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n          />\n        </div>\n        {selected && (\n          <>\n            <ConciseIssueLocationsNavigator\n              issue={issue}\n              onLocationSelect={this.props.onLocationSelect}\n              scroll={this.props.scroll}\n              selectedFlowIndex={this.props.selectedFlowIndex}\n              selectedLocationIndex={this.props.selectedLocationIndex}\n            />\n            <LocationNavigationKeyboardShortcuts issue={issue} />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  path: string;\n}\n\nexport default function ConciseIssueComponent({ path }: Props) {\n  return (\n    <div className=\"concise-issue-component text-ellipsis note\" title={path}>\n      {path}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssueBox from './ConciseIssueBox';\nimport ConciseIssueComponent from './ConciseIssueComponent';\n\ninterface Props {\n  issue: T.Issue;\n  onFlowSelect: (index: number) => void;\n  onLocationSelect: (index: number) => void;\n  onSelect: (issueKey: string) => void;\n  previousIssue: T.Issue | undefined;\n  scroll: (element: Element) => void;\n  selected: boolean;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssue extends React.PureComponent<Props> {\n  render() {\n    const { issue, previousIssue, selected } = this.props;\n\n    const displayComponent = !previousIssue || previousIssue.component !== issue.component;\n\n    return (\n      <div>\n        {displayComponent && <ConciseIssueComponent path={issue.componentLongName} />}\n        <ConciseIssueBox\n          issue={issue}\n          onClick={this.props.onSelect}\n          onFlowSelect={this.props.onFlowSelect}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.props.scroll}\n          selected={selected}\n          selectedFlowIndex={selected ? this.props.selectedFlowIndex : undefined}\n          selectedLocationIndex={selected ? this.props.selectedLocationIndex : undefined}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport ConciseIssue from './ConciseIssue';\n\ninterface Props {\n  issues: T.Issue[];\n  onFlowSelect: (index: number) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: (index: number) => void;\n  selected: string | undefined;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssuesList extends React.PureComponent<Props> {\n  handleScroll = (element: Element, bottomOffset = 100) => {\n    const scrollableElement = document.querySelector('.layout-page-side');\n    if (element && scrollableElement) {\n      scrollToElement(element, { topOffset: 150, bottomOffset, parent: scrollableElement });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        {this.props.issues.map((issue, index) => (\n          <ConciseIssue\n            issue={issue}\n            key={issue.key}\n            onFlowSelect={this.props.onFlowSelect}\n            onLocationSelect={this.props.onLocationSelect}\n            onSelect={this.props.onIssueSelect}\n            previousIssue={index > 0 ? this.props.issues[index - 1] : undefined}\n            scroll={this.handleScroll}\n            selected={issue.key === this.props.selected}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n            selectedLocationIndex={this.props.selectedLocationIndex}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport PageCounter from '../../../components/common/PageCounter';\n\ninterface Props {\n  current: number | undefined;\n  total: number;\n}\n\nexport default function IssuesCounter(props: Props) {\n  return (\n    <PageCounter\n      className=\"spacer-left\"\n      current={props.current}\n      label={translate('issues.issues')}\n      total={props.total}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BackButton from 'sonar-ui-common/components/controls/BackButton';\nimport ReloadButton from 'sonar-ui-common/components/controls/ReloadButton';\nimport IssuesCounter from '../components/IssuesCounter';\n\ninterface Props {\n  displayBackButton?: boolean;\n  loading: boolean;\n  onBackClick: () => void;\n  onReload: () => void;\n  paging: T.Paging | undefined;\n  selectedIndex: number | undefined;\n}\n\nexport default function ConciseIssuesListHeader(props: Props) {\n  const { displayBackButton = true, paging, selectedIndex } = props;\n\n  return (\n    <header className=\"layout-page-header-panel concise-issues-list-header\">\n      <div className=\"layout-page-header-panel-inner concise-issues-list-header-inner\">\n        {displayBackButton && (\n          <BackButton className=\"pull-left\" disabled={props.loading} onClick={props.onBackClick} />\n        )}\n        {props.loading ? (\n          <i className=\"spinner pull-right\" />\n        ) : (\n          <ReloadButton className=\"pull-right\" onClick={props.onReload} />\n        )}\n        {paging && <IssuesCounter current={selectedIndex} total={paging.total} />}\n      </div>\n    </header>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, sortBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport Avatar from '../../../components/ui/Avatar';\nimport { isUserActive } from '../../../helpers/users';\nimport { Facet } from '../../../types/issues';\nimport { Query, searchAssignees } from '../utils';\n\ninterface Props {\n  assigned: boolean;\n  assignees: string[];\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  stats: T.Dict<number> | undefined;\n  referencedUsers: T.Dict<T.UserBase>;\n}\n\nexport default class AssigneeFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string, page?: number) => {\n    return searchAssignees(query, page);\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { assignees } = this.props;\n    if (itemValue === '') {\n      // unassigned\n      this.props.onChange({ assigned: !this.props.assigned, assignees: [] });\n    } else if (multiple) {\n      const newValue = sortBy(\n        assignees.includes(itemValue) ? without(assignees, itemValue) : [...assignees, itemValue]\n      );\n      this.props.onChange({ assigned: true, assignees: newValue });\n    } else {\n      this.props.onChange({\n        assigned: true,\n        assignees: assignees.includes(itemValue) && assignees.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleClear = () => {\n    this.props.onChange({ assigned: true, assignees: [] });\n  };\n\n  getAssigneeName = (assignee: string) => {\n    if (assignee === '') {\n      return translate('unassigned');\n    } else {\n      const user = this.props.referencedUsers[assignee];\n      if (!user) {\n        return assignee;\n      }\n      return isUserActive(user) ? user.name : translateWithParameters('user.x_deleted', user.login);\n    }\n  };\n\n  loadSearchResultCount = (assignees: T.UserBase[]) => {\n    return this.props.loadSearchResultCount('assignees', {\n      assigned: undefined,\n      assignees: assignees.map(assignee => assignee.login)\n    });\n  };\n\n  getSortedItems = () => {\n    const { stats = {} } = this.props;\n    return sortBy(\n      Object.keys(stats),\n      // put \"not assigned\" first\n      key => (key === '' ? 0 : 1),\n      // the sort by number\n      key => -stats[key]\n    );\n  };\n\n  renderFacetItem = (assignee: string) => {\n    if (assignee === '') {\n      return translate('unassigned');\n    }\n\n    const user = this.props.referencedUsers[assignee];\n\n    if (!user) {\n      return assignee;\n    }\n\n    const userName = user.name || user.login;\n\n    return (\n      <>\n        <Avatar className=\"little-spacer-right\" hash={user.avatar} name={userName} size={16} />\n        {isUserActive(user) ? userName : translateWithParameters('user.x_deleted', userName)}\n      </>\n    );\n  };\n\n  renderSearchResult = (result: T.UserBase, query: string) => {\n    const displayName = isUserActive(result)\n      ? result.name\n      : translateWithParameters('user.x_deleted', result.login);\n    return (\n      <>\n        <Avatar\n          className=\"little-spacer-right\"\n          hash={result.avatar}\n          name={result.name || result.login}\n          size={16}\n        />\n        {highlightTerm(displayName, query)}\n      </>\n    );\n  };\n\n  render() {\n    const values = [...this.props.assignees];\n    if (!this.props.assigned) {\n      values.push('');\n    }\n\n    return (\n      <ListStyleFacet<T.UserBase>\n        facetHeader={translate('issues.facet.assignees')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getAssigneeName}\n        getSearchResultKey={user => user.login}\n        getSearchResultText={user => user.name || user.login}\n        // put \"not assigned\" item first\n        getSortedItems={this.getSortedItems}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onClear={this.handleClear}\n        onItemClick={this.handleItemClick}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"assignees\"\n        query={omit(this.props.query, 'assigned', 'assignees')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_users')}\n        stats={this.props.stats}\n        values={values}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { searchIssueAuthors } from '../../../api/issues';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Facet } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  stats: T.Dict<number> | undefined;\n  authors: string[];\n}\n\nconst SEARCH_SIZE = 100;\n\nexport default class AuthorFacet extends React.PureComponent<Props> {\n  identity = (author: string) => {\n    return author;\n  };\n\n  handleSearch = (query: string, _page: number) => {\n    const { component } = this.props;\n    const project =\n      component && ['TRK', 'VW', 'APP'].includes(component.qualifier) ? component.key : undefined;\n    return searchIssueAuthors({\n      project,\n      ps: SEARCH_SIZE, // maximum\n      q: query\n    }).then(authors => ({ maxResults: authors.length === SEARCH_SIZE, results: authors }));\n  };\n\n  loadSearchResultCount = (authors: string[]) => {\n    return this.props.loadSearchResultCount('authors', { authors });\n  };\n\n  renderSearchResult = (author: string, term: string) => {\n    return highlightTerm(author, term);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<string>\n        facetHeader={translate('issues.facet.authors')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.identity}\n        getSearchResultKey={this.identity}\n        getSearchResultText={this.identity}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"authors\"\n        query={omit(this.props.query, 'authors')}\n        renderFacetItem={this.identity}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_authors')}\n        stats={this.props.stats}\n        values={this.props.authors}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as isSameDay from 'date-fns/is_same_day';\nimport { max } from 'lodash';\nimport * as React from 'react';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport BarChart from 'sonar-ui-common/components/charts/BarChart';\nimport { longFormatterOption } from 'sonar-ui-common/components/intl/DateFormatter';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport DateTimeFormatter, {\n  formatterOption as dateTimeFormatterOption\n} from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport DateRangeInput from '../../../components/controls/DateRangeInput';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport { Query } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  createdAfter: Date | undefined;\n  createdAfterIncludesTime: boolean;\n  createdAt: string;\n  createdBefore: Date | undefined;\n  createdInLast: string;\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  sinceLeakPeriod: boolean;\n  stats: T.Dict<number> | undefined;\n}\n\nexport class CreationDateFacet extends React.PureComponent<Props & InjectedIntlProps> {\n  property = 'createdAt';\n\n  static defaultProps = {\n    open: true\n  };\n\n  hasValue = () =>\n    this.props.createdAfter !== undefined ||\n    this.props.createdAt.length > 0 ||\n    this.props.createdBefore !== undefined ||\n    this.props.createdInLast.length > 0 ||\n    this.props.sinceLeakPeriod;\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.resetTo({});\n  };\n\n  resetTo = (changes: Partial<Query>) => {\n    this.props.onChange({\n      createdAfter: undefined,\n      createdAt: undefined,\n      createdBefore: undefined,\n      createdInLast: undefined,\n      sinceLeakPeriod: undefined,\n      ...changes\n    });\n  };\n\n  handleBarClick = ({\n    createdAfter,\n    createdBefore\n  }: {\n    createdAfter: Date;\n    createdBefore?: Date;\n  }) => {\n    this.resetTo({ createdAfter, createdBefore });\n  };\n\n  handlePeriodChange = ({ from, to }: { from?: Date; to?: Date }) => {\n    this.resetTo({ createdAfter: from, createdBefore: to });\n  };\n\n  handlePeriodClick = (period: string) => this.resetTo({ createdInLast: period });\n\n  handleLeakPeriodClick = () => this.resetTo({ sinceLeakPeriod: true });\n\n  getValues() {\n    const {\n      createdAfter,\n      createdAfterIncludesTime,\n      createdAt,\n      createdBefore,\n      createdInLast,\n      sinceLeakPeriod\n    } = this.props;\n    const { formatDate } = this.props.intl;\n    const values = [];\n    if (createdAfter) {\n      values.push(\n        formatDate(\n          createdAfter,\n          createdAfterIncludesTime ? dateTimeFormatterOption : longFormatterOption\n        )\n      );\n    }\n    if (createdAt) {\n      values.push(formatDate(createdAt, longFormatterOption));\n    }\n    if (createdBefore) {\n      values.push(formatDate(createdBefore, longFormatterOption));\n    }\n    if (createdInLast === '1w') {\n      values.push(translate('issues.facet.createdAt.last_week'));\n    }\n    if (createdInLast === '1m') {\n      values.push(translate('issues.facet.createdAt.last_month'));\n    }\n    if (createdInLast === '1y') {\n      values.push(translate('issues.facet.createdAt.last_year'));\n    }\n    if (sinceLeakPeriod) {\n      values.push(translate('issues.new_code'));\n    }\n    return values;\n  }\n\n  renderBarChart() {\n    const { createdBefore, stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const periods = Object.keys(stats);\n\n    if (periods.length < 2 || periods.every(period => !stats[period])) {\n      return null;\n    }\n\n    const { formatDate } = this.props.intl;\n    const data = periods.map((start, index) => {\n      const startDate = parseDate(start);\n      let endDate;\n      if (index < periods.length - 1) {\n        endDate = parseDate(periods[index + 1]);\n        endDate.setDate(endDate.getDate() - 1);\n      } else {\n        endDate = createdBefore ? parseDate(createdBefore) : undefined;\n      }\n\n      const tooltipEndDate = endDate || new Date();\n      const tooltip = (\n        // eslint-disable-next-line react/jsx-fragments\n        <React.Fragment>\n          {formatMeasure(stats[start], 'SHORT_INT')}\n          <br />\n          {formatDate(startDate, longFormatterOption)}\n          {!isSameDay(tooltipEndDate, startDate) &&\n            ` - ${formatDate(tooltipEndDate, longFormatterOption)}`}\n        </React.Fragment>\n      );\n\n      return {\n        createdAfter: startDate,\n        createdBefore: endDate,\n        tooltip,\n        x: index,\n        y: stats[start]\n      };\n    });\n\n    const barsWidth = Math.floor(250 / data.length);\n    const width = barsWidth * data.length - 1 + 10;\n\n    const maxValue = max(data.map(d => d.y));\n    const xValues = data.map(d => (d.y === maxValue ? formatMeasure(maxValue, 'SHORT_INT') : ''));\n\n    return (\n      <BarChart\n        barsWidth={barsWidth - 1}\n        data={data}\n        height={75}\n        onBarClick={this.handleBarClick}\n        padding={[25, 0, 5, 10]}\n        width={width}\n        xValues={xValues}\n      />\n    );\n  }\n\n  renderPeriodSelectors() {\n    const { createdAfter, createdBefore } = this.props;\n    return (\n      <div className=\"search-navigator-date-facet-selection\">\n        <DateRangeInput\n          onChange={this.handlePeriodChange}\n          value={{ from: createdAfter, to: createdBefore }}\n        />\n      </div>\n    );\n  }\n\n  renderPredefinedPeriods() {\n    const { component, createdInLast, sinceLeakPeriod } = this.props;\n    return (\n      <div className=\"spacer-top issues-predefined-periods\">\n        <FacetItem\n          active={!this.hasValue()}\n          name={translate('issues.facet.createdAt.all')}\n          onClick={this.handlePeriodClick}\n          tooltip={translate('issues.facet.createdAt.all')}\n          value=\"\"\n        />\n        {component ? (\n          <FacetItem\n            active={sinceLeakPeriod}\n            name={translate('issues.new_code')}\n            onClick={this.handleLeakPeriodClick}\n            tooltip={translate('issues.new_code_period')}\n            value=\"\"\n          />\n        ) : (\n          <>\n            <FacetItem\n              active={createdInLast === '1w'}\n              name={translate('issues.facet.createdAt.last_week')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_week')}\n              value=\"1w\"\n            />\n            <FacetItem\n              active={createdInLast === '1m'}\n              name={translate('issues.facet.createdAt.last_month')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_month')}\n              value=\"1m\"\n            />\n            <FacetItem\n              active={createdInLast === '1y'}\n              name={translate('issues.facet.createdAt.last_year')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_year')}\n              value=\"1y\"\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n\n  renderInner() {\n    const { createdAfter, createdAfterIncludesTime, createdAt } = this.props;\n\n    if (createdAt) {\n      return (\n        <div className=\"search-navigator-facet-container\">\n          <DateTimeFormatter date={this.props.createdAt} />\n          <br />\n          <span className=\"note\">\n            <DateFromNow date={this.props.createdAt} />\n          </span>\n        </div>\n      );\n    }\n\n    if (createdAfter && createdAfterIncludesTime) {\n      return (\n        <div className=\"search-navigator-facet-container\">\n          <strong>{translate('after')} </strong>\n          <DateTimeFormatter date={createdAfter} />\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        {this.renderBarChart()}\n        {this.renderPeriodSelectors()}\n        {this.renderPredefinedPeriods()}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && this.renderInner()}\n      </FacetBox>\n    );\n  }\n}\n\nexport default injectIntl(CreationDateFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { collapsePath } from 'sonar-ui-common/helpers/path';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { getDirectories } from '../../../api/components';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { BranchLike } from '../../../types/branch-like';\nimport { TreeComponentWithPath } from '../../../types/component';\nimport { Facet } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface Props {\n  branchLike?: BranchLike;\n  componentKey: string;\n  directories: string[];\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  stats: Facet | undefined;\n}\n\nexport default class DirectoryFacet extends React.PureComponent<Props> {\n  getFacetItemText = (path: string) => {\n    return path;\n  };\n\n  getSearchResultKey = (directory: TreeComponentWithPath) => {\n    return directory.path;\n  };\n\n  getSearchResultText = (directory: TreeComponentWithPath) => {\n    return directory.path;\n  };\n\n  handleSearch = (query: string, page: number) => {\n    const { branchLike } = this.props;\n\n    return getDirectories({\n      component: this.props.componentKey,\n      ...getBranchLikeQuery(branchLike),\n      q: query,\n      p: page,\n      ps: 30\n    }).then(({ components, paging }) => ({\n      paging,\n      results: components.filter(dir => dir.path !== undefined)\n    }));\n  };\n\n  loadSearchResultCount = (directories: TreeComponentWithPath[]) => {\n    return this.props.loadSearchResultCount('directories', {\n      directories: directories.map(directory => directory.path)\n    });\n  };\n\n  renderDirectory = (directory: React.ReactNode) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"DIR\" />\n      {directory}\n    </>\n  );\n\n  renderFacetItem = (path: string) => {\n    return this.renderDirectory(collapsePath(path, 15));\n  };\n\n  renderSearchResult = (directory: TreeComponentWithPath, term: string) => {\n    return this.renderDirectory(highlightTerm(collapsePath(directory.path, 15), term));\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<TreeComponentWithPath>\n        facetHeader={translate('issues.facet.directories')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getFacetItemText}\n        getSearchResultKey={this.getSearchResultKey}\n        getSearchResultText={this.getSearchResultText}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={3}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"directories\"\n        query={omit(this.props.query, 'directories')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_directories')}\n        stats={this.props.stats}\n        values={this.props.directories}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { collapsePath, splitPath } from 'sonar-ui-common/helpers/path';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport { getFiles } from '../../../api/components';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { BranchLike } from '../../../types/branch-like';\nimport { TreeComponentWithPath } from '../../../types/component';\nimport { Facet } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface Props {\n  branchLike?: BranchLike;\n  componentKey: string;\n  fetching: boolean;\n  files: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  stats: Facet | undefined;\n}\n\nconst MAX_PATH_LENGTH = 15;\nexport default class FileFacet extends React.PureComponent<Props> {\n  getFacetItemText = (path: string) => {\n    return path;\n  };\n\n  getSearchResultKey = (file: TreeComponentWithPath) => {\n    return file.path;\n  };\n\n  getSearchResultText = (file: TreeComponentWithPath) => {\n    return file.path;\n  };\n\n  handleSearch = (query: string, page: number) => {\n    const { branchLike } = this.props;\n\n    return getFiles({\n      component: this.props.componentKey,\n      ...getBranchLikeQuery(branchLike),\n      q: query,\n      p: page,\n      ps: 30\n    }).then(({ components, paging }) => ({\n      paging,\n      results: components.filter(file => file.path !== undefined)\n    }));\n  };\n\n  loadSearchResultCount = (files: TreeComponentWithPath[]) => {\n    return this.props.loadSearchResultCount('files', {\n      files: files\n        .map(file => {\n          return file.path;\n        })\n        .filter(isDefined)\n    });\n  };\n\n  renderFile = (file: React.ReactNode) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"FIL\" />\n      {file}\n    </>\n  );\n\n  renderFacetItem = (path: string) => {\n    return this.renderFile(path);\n  };\n\n  renderSearchResult = (file: TreeComponentWithPath, term: string) => {\n    const { head, tail } = splitPath(collapsePath(file.path, MAX_PATH_LENGTH));\n\n    return this.renderFile(\n      <>\n        {head}/{highlightTerm(tail, term)}\n      </>\n    );\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<TreeComponentWithPath>\n        facetHeader={translate('issues.facet.files')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getFacetItemText}\n        getSearchResultKey={this.getSearchResultKey}\n        getSearchResultText={this.getSearchResultText}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={3}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"files\"\n        query={omit(this.props.query, 'files')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_files')}\n        stats={this.props.stats}\n        values={this.props.files}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, uniqBy } from 'lodash';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { getLanguages, Store } from '../../../store/rootReducer';\nimport { Facet, ReferencedLanguage } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface InstalledLanguage {\n  key: string;\n  name: string;\n}\n\ninterface Props {\n  fetching: boolean;\n  installedLanguages: InstalledLanguage[];\n  languages: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  referencedLanguages: T.Dict<ReferencedLanguage>;\n  stats: T.Dict<number> | undefined;\n}\n\nclass LanguageFacet extends React.PureComponent<Props> {\n  getLanguageName = (language: string) => {\n    const { referencedLanguages } = this.props;\n    return referencedLanguages[language] ? referencedLanguages[language].name : language;\n  };\n\n  handleSearch = (query: string) => {\n    const options = this.getAllPossibleOptions();\n    const results = options.filter(language =>\n      language.name.toLowerCase().includes(query.toLowerCase())\n    );\n    const paging = { pageIndex: 1, pageSize: results.length, total: results.length };\n    return Promise.resolve({ paging, results });\n  };\n\n  getAllPossibleOptions = () => {\n    const { installedLanguages, stats = {} } = this.props;\n\n    // add any language that presents in the facet, but might not be installed\n    // for such language we don't know their display name, so let's just use their key\n    // and make sure we reference each language only once\n    return uniqBy(\n      [...installedLanguages, ...Object.keys(stats).map(key => ({ key, name: key }))],\n      language => language.key\n    );\n  };\n\n  loadSearchResultCount = (languages: InstalledLanguage[]) => {\n    return this.props.loadSearchResultCount('languages', {\n      languages: languages.map(language => language.key)\n    });\n  };\n\n  renderSearchResult = ({ name }: InstalledLanguage, term: string) => {\n    return highlightTerm(name, term);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<InstalledLanguage>\n        facetHeader={translate('issues.facet.languages')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getLanguageName}\n        getSearchResultKey={language => language.key}\n        getSearchResultText={language => language.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={1}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"languages\"\n        query={omit(this.props.query, 'languages')}\n        renderFacetItem={this.getLanguageName}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_languages')}\n        stats={this.props.stats}\n        values={this.props.languages}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  installedLanguages: Object.values(getLanguages(state))\n});\n\nexport default connect(mapStateToProps)(LanguageFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { getTree, searchProjects } from '../../../api/components';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { ComponentQualifier } from '../../../types/component';\nimport { Facet, ReferencedComponent } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  projects: string[];\n  query: Query;\n  referencedComponents: T.Dict<ReferencedComponent>;\n  stats: T.Dict<number> | undefined;\n}\n\ninterface SearchedProject {\n  key: string;\n  name: string;\n}\n\nexport default class ProjectFacet extends React.PureComponent<Props> {\n  handleSearch = (\n    query: string,\n    page = 1\n  ): Promise<{ results: SearchedProject[]; paging: T.Paging }> => {\n    const { component } = this.props;\n    if (\n      component &&\n      [\n        ComponentQualifier.Portfolio,\n        ComponentQualifier.SubPortfolio,\n        ComponentQualifier.Application\n      ].includes(component.qualifier as ComponentQualifier)\n    ) {\n      return getTree({\n        component: component.key,\n        p: page,\n        ps: 30,\n        q: query,\n        qualifiers: ComponentQualifier.Project\n      }).then(({ components, paging }) => ({\n        paging,\n        results: components.map(component => ({\n          key: component.refKey || component.key,\n          name: component.name\n        }))\n      }));\n    }\n\n    return searchProjects({\n      p: page,\n      ps: 30,\n      filter: query ? `query = \"${query}\"` : ''\n    }).then(({ components, paging }) => ({\n      paging,\n      results: components.map(component => ({\n        key: component.key,\n        name: component.name\n      }))\n    }));\n  };\n\n  getProjectName = (project: string) => {\n    const { referencedComponents } = this.props;\n    return referencedComponents[project] ? referencedComponents[project].name : project;\n  };\n\n  loadSearchResultCount = (projects: SearchedProject[]) => {\n    return this.props.loadSearchResultCount('projects', {\n      projects: projects.map(project => project.key)\n    });\n  };\n\n  renderFacetItem = (projectKey: string) => {\n    return (\n      <span>\n        <QualifierIcon className=\"little-spacer-right\" qualifier={ComponentQualifier.Project} />\n        {this.getProjectName(projectKey)}\n      </span>\n    );\n  };\n\n  renderSearchResult = (project: Pick<SearchedProject, 'name'>, term: string) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier={ComponentQualifier.Project} />\n      {highlightTerm(project.name, term)}\n    </>\n  );\n\n  render() {\n    return (\n      <ListStyleFacet<SearchedProject>\n        facetHeader={translate('issues.facet.projects')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getProjectName}\n        getSearchResultKey={project => project.key}\n        getSearchResultText={project => project.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"projects\"\n        query={omit(this.props.query, 'projects')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_projects')}\n        stats={this.props.stats}\n        values={this.props.projects}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  resolved: boolean;\n  resolutions: string[];\n  stats: T.Dict<number> | undefined;\n}\n\nconst RESOLUTIONS = ['', 'FALSE-POSITIVE', 'FIXED', 'REMOVED', 'WONTFIX'];\n\nexport default class ResolutionFacet extends React.PureComponent<Props> {\n  property = 'resolutions';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { resolutions } = this.props;\n    if (itemValue === '') {\n      // unresolved\n      this.props.onChange({ resolved: !this.props.resolved, resolutions: [] });\n    } else if (multiple) {\n      const newValue = orderBy(\n        resolutions.includes(itemValue)\n          ? without(resolutions, itemValue)\n          : [...resolutions, itemValue]\n      );\n      this.props.onChange({ resolved: true, [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        resolved: true,\n        [this.property]:\n          resolutions.includes(itemValue) && resolutions.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ resolved: false, resolutions: [] });\n  };\n\n  isFacetItemActive(resolution: string) {\n    return resolution === '' ? !this.props.resolved : this.props.resolutions.includes(resolution);\n  }\n\n  getFacetItemName(resolution: string) {\n    return resolution === '' ? translate('unresolved') : translate('issue.resolution', resolution);\n  }\n\n  getStat(resolution: string) {\n    const { stats } = this.props;\n    return stats ? stats[resolution] : undefined;\n  }\n\n  renderItem = (resolution: string) => {\n    const active = this.isFacetItemActive(resolution);\n    const stat = this.getStat(resolution);\n\n    return (\n      <FacetItem\n        active={active}\n        halfWidth={true}\n        key={resolution}\n        name={this.getFacetItemName(resolution)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.getFacetItemName(resolution)}\n        value={resolution}\n      />\n    );\n  };\n\n  render() {\n    const { resolutions, stats = {} } = this.props;\n    const values = resolutions.map(resolution => this.getFacetItemName(resolution));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList>{RESOLUTIONS.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint\n              options={Object.keys(stats).length}\n              values={resolutions.length}\n            />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { searchRules } from '../../../api/rules';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Facet, ReferencedRule } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  languages: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  referencedRules: T.Dict<ReferencedRule>;\n  rules: string[];\n  stats: T.Dict<number> | undefined;\n}\n\nexport default class RuleFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string, page = 1) => {\n    const { languages } = this.props;\n    return searchRules({\n      f: 'name,langName',\n      languages: languages.length ? languages.join() : undefined,\n      q: query,\n      p: page,\n      ps: 30,\n      s: 'name',\n      include_external: true\n    }).then(response => ({\n      paging: { pageIndex: response.p, pageSize: response.ps, total: response.total },\n      results: response.rules\n    }));\n  };\n\n  loadSearchResultCount = (rules: T.Rule[]) => {\n    return this.props.loadSearchResultCount('rules', { rules: rules.map(rule => rule.key) });\n  };\n\n  getRuleName = (ruleKey: string) => {\n    const rule = this.props.referencedRules[ruleKey];\n    return rule ? this.formatRuleName(rule.name, rule.langName) : ruleKey;\n  };\n\n  formatRuleName = (name: string, langName: string | undefined) => {\n    // external rules don't have a language associated\n    // see https://jira.sonarsource.com/browse/MMF-1407\n    return langName ? `(${langName}) ${name}` : name;\n  };\n\n  renderSearchResult = (rule: T.Rule) => {\n    return this.formatRuleName(rule.name, rule.langName);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<T.Rule>\n        facetHeader={translate('issues.facet.rules')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getRuleName}\n        getSearchResultKey={rule => rule.key}\n        getSearchResultText={rule => rule.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"rules\"\n        query={omit(this.props.query, 'rules')}\n        renderFacetItem={this.getRuleName}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_rules')}\n        stats={this.props.stats}\n        values={this.props.rules}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { without } from 'lodash';\nimport * as React from 'react';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport { SOURCE_SCOPES } from '../../../helpers/constants';\nimport { formatFacetStat, Query } from '../utils';\n\nexport interface ScopeFacetProps {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  scopes: string[];\n  stats: T.Dict<number> | undefined;\n}\n\nexport default function ScopeFacet(props: ScopeFacetProps) {\n  const { fetching, open, scopes = [], stats = {} } = props;\n  const values = scopes.map(scope => translate('issue.scope', scope));\n\n  return (\n    <FacetBox property=\"scopes\">\n      <FacetHeader\n        fetching={fetching}\n        name={translate('issues.facet.scopes')}\n        onClear={() => props.onChange({ scopes: [] })}\n        onClick={() => props.onToggle('scopes')}\n        open={open}\n        values={values}\n      />\n\n      {open && (\n        <>\n          <FacetItemsList>\n            {SOURCE_SCOPES.map(({ scope, qualifier }) => {\n              const active = scopes.includes(scope);\n              const stat = stats[scope];\n\n              return (\n                <FacetItem\n                  active={active}\n                  key={scope}\n                  name={\n                    <span className=\"display-flex-center\">\n                      <QualifierIcon className=\"little-spacer-right\" qualifier={qualifier} />{' '}\n                      {translate('issue.scope', scope)}\n                    </span>\n                  }\n                  onClick={(itemValue: string, multiple: boolean) => {\n                    if (multiple) {\n                      props.onChange({\n                        scopes: active ? without(scopes, itemValue) : [...scopes, itemValue]\n                      });\n                    } else {\n                      props.onChange({\n                        scopes: active && scopes.length === 1 ? [] : [itemValue]\n                      });\n                    }\n                  }}\n                  stat={formatFacetStat(stat)}\n                  value={scope}\n                />\n              );\n            })}\n          </FacetItemsList>\n          <MultipleSelectionHint options={Object.keys(stats).length} values={scopes.length} />\n        </>\n      )}\n    </FacetBox>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  severities: string[];\n  stats: T.Dict<number> | undefined;\n}\n\nconst SEVERITIES = ['BLOCKER', 'MINOR', 'CRITICAL', 'INFO', 'MAJOR'];\n\nexport default class SeverityFacet extends React.PureComponent<Props> {\n  property = 'severities';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { severities } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        severities.includes(itemValue) ? without(severities, itemValue) : [...severities, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: severities.includes(itemValue) && severities.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(severity: string) {\n    const { stats } = this.props;\n    return stats ? stats[severity] : undefined;\n  }\n\n  renderItem = (severity: string) => {\n    const active = this.props.severities.includes(severity);\n    const stat = this.getStat(severity);\n\n    return (\n      <FacetItem\n        active={active}\n        halfWidth={true}\n        key={severity}\n        name={<SeverityHelper severity={severity} />}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={translate('severity', severity)}\n        value={severity}\n      />\n    );\n  };\n\n  render() {\n    const { severities, stats = {} } = this.props;\n    const values = severities.map(severity => translate('severity', severity));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList>{SEVERITIES.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={severities.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport StatusHelper from '../../../components/shared/StatusHelper';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: T.Dict<number> | undefined;\n  statuses: string[];\n}\n\nconst STATUSES = ['OPEN', 'CONFIRMED', 'REOPENED', 'RESOLVED', 'CLOSED'];\n\nexport default class StatusFacet extends React.PureComponent<Props> {\n  property = 'statuses';\n\n  static defaultProps = { open: true };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { statuses } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        statuses.includes(itemValue) ? without(statuses, itemValue) : [...statuses, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: statuses.includes(itemValue) && statuses.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(status: string) {\n    const { stats } = this.props;\n    return stats ? stats[status] : undefined;\n  }\n\n  renderItem = (status: string) => {\n    const active = this.props.statuses.includes(status);\n    const stat = this.getStat(status);\n\n    return (\n      <FacetItem\n        active={active}\n        halfWidth={true}\n        key={status}\n        name={<StatusHelper resolution={undefined} status={status} />}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={translate('issue.status', status)}\n        value={status}\n      />\n    );\n  };\n\n  render() {\n    const { statuses, stats = {} } = this.props;\n    const values = statuses.map(status => translate('issue.status', status));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList>{STATUSES.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={statuses.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { searchIssueTags } from '../../../api/issues';\nimport { colors } from '../../../app/theme';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Facet } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  stats: T.Dict<number> | undefined;\n  tags: string[];\n}\n\nconst SEARCH_SIZE = 100;\n\nexport default class TagFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string) => {\n    const { component } = this.props;\n    const project =\n      component && ['TRK', 'VW', 'APP'].includes(component.qualifier) ? component.key : undefined;\n    return searchIssueTags({\n      project,\n      ps: SEARCH_SIZE,\n      q: query\n    }).then(tags => ({ maxResults: tags.length === SEARCH_SIZE, results: tags }));\n  };\n\n  getTagName = (tag: string) => {\n    return tag;\n  };\n\n  loadSearchResultCount = (tags: string[]) => {\n    return this.props.loadSearchResultCount('tags', { tags });\n  };\n\n  renderTag = (tag: string) => {\n    return (\n      <>\n        <TagsIcon className=\"little-spacer-right\" fill={colors.gray60} />\n        {tag}\n      </>\n    );\n  };\n\n  renderSearchResult = (tag: string, term: string) => (\n    <>\n      <TagsIcon className=\"little-spacer-right\" fill={colors.gray60} />\n      {highlightTerm(tag, term)}\n    </>\n  );\n\n  render() {\n    return (\n      <ListStyleFacet<string>\n        facetHeader={translate('issues.facet.tags')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getTagName}\n        getSearchResultKey={tag => tag}\n        getSearchResultText={tag => tag}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"tags\"\n        query={omit(this.props.query, 'tags')}\n        renderFacetItem={this.renderTag}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_tags')}\n        stats={this.props.stats}\n        values={this.props.tags}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport { ISSUE_TYPES } from '../../../helpers/constants';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: T.Dict<number> | undefined;\n  types: string[];\n}\n\nexport default class TypeFacet extends React.PureComponent<Props> {\n  property = 'types';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { types } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        types.includes(itemValue) ? without(types, itemValue) : [...types, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: types.includes(itemValue) && types.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(type: string) {\n    const { stats } = this.props;\n    return stats ? stats[type] : undefined;\n  }\n\n  isFacetItemActive(type: string) {\n    return this.props.types.includes(type);\n  }\n\n  renderItem = (type: string) => {\n    const active = this.isFacetItemActive(type);\n    const stat = this.getStat(type);\n\n    return (\n      <FacetItem\n        active={active}\n        key={type}\n        name={\n          <span className=\"display-flex-center\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={type} />{' '}\n            {translate('issue.type', type)}\n          </span>\n        }\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        value={type}\n      />\n    );\n  };\n\n  render() {\n    const { types, stats = {} } = this.props;\n    const values = types.map(type => translate('issue.type', type));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList>\n              {ISSUE_TYPES.filter(t => t !== 'SECURITY_HOTSPOT').map(this.renderItem)}\n            </FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={types.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getGlobalSettingValue, Store } from '../../../store/rootReducer';\nimport { BranchLike } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\nimport {\n  Facet,\n  ReferencedComponent,\n  ReferencedLanguage,\n  ReferencedRule\n} from '../../../types/issues';\nimport { Query } from '../utils';\nimport AssigneeFacet from './AssigneeFacet';\nimport AuthorFacet from './AuthorFacet';\nimport CreationDateFacet from './CreationDateFacet';\nimport DirectoryFacet from './DirectoryFacet';\nimport FileFacet from './FileFacet';\nimport LanguageFacet from './LanguageFacet';\nimport ProjectFacet from './ProjectFacet';\nimport ResolutionFacet from './ResolutionFacet';\nimport RuleFacet from './RuleFacet';\nimport ScopeFacet from './ScopeFacet';\nimport SeverityFacet from './SeverityFacet';\nimport StandardFacet from './StandardFacet';\nimport StatusFacet from './StatusFacet';\nimport TagFacet from './TagFacet';\nimport TypeFacet from './TypeFacet';\n\nexport interface Props {\n  branchLike?: BranchLike;\n  component: T.Component | undefined;\n  createdAfterIncludesTime: boolean;\n  facets: T.Dict<Facet | undefined>;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  loadingFacets: T.Dict<boolean>;\n  myIssues: boolean;\n  onFacetToggle: (property: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  openFacets: T.Dict<boolean>;\n  query: Query;\n  referencedComponentsById: T.Dict<ReferencedComponent>;\n  referencedComponentsByKey: T.Dict<ReferencedComponent>;\n  referencedLanguages: T.Dict<ReferencedLanguage>;\n  referencedRules: T.Dict<ReferencedRule>;\n  referencedUsers: T.Dict<T.UserBase>;\n  disableDeveloperAggregatedInfo: boolean;\n}\n\nexport class Sidebar extends React.PureComponent<Props> {\n  renderComponentFacets() {\n    const { component, facets, loadingFacets, openFacets, query, branchLike } = this.props;\n    if (!component) {\n      return null;\n    }\n    const commonProps = {\n      componentKey: component.key,\n      loadSearchResultCount: this.props.loadSearchResultCount,\n      onChange: this.props.onFilterChange,\n      onToggle: this.props.onFacetToggle,\n      query\n    };\n    return (\n      <>\n        {component.qualifier !== ComponentQualifier.Directory && (\n          <DirectoryFacet\n            branchLike={branchLike}\n            directories={query.directories}\n            fetching={loadingFacets.directories === true}\n            open={!!openFacets.directories}\n            stats={facets.directories}\n            {...commonProps}\n          />\n        )}\n        <FileFacet\n          branchLike={branchLike}\n          fetching={loadingFacets.files === true}\n          files={query.files}\n          open={!!openFacets.files}\n          stats={facets.files}\n          {...commonProps}\n        />\n      </>\n    );\n  }\n\n  render() {\n    const { component, createdAfterIncludesTime, facets, openFacets, query } = this.props;\n\n    const displayProjectsFacet =\n      !component || !['TRK', 'BRC', 'DIR', 'DEV_PRJ'].includes(component.qualifier);\n    const displayAuthorFacet = !component || component.qualifier !== 'DEV';\n\n    return (\n      <>\n        <TypeFacet\n          fetching={this.props.loadingFacets.types === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.types}\n          stats={facets.types}\n          types={query.types}\n        />\n        <SeverityFacet\n          fetching={this.props.loadingFacets.severities === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.severities}\n          severities={query.severities}\n          stats={facets.severities}\n        />\n        <ScopeFacet\n          fetching={this.props.loadingFacets.scopes === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.scopes}\n          stats={facets.scopes}\n          scopes={query.scopes}\n        />\n        <ResolutionFacet\n          fetching={this.props.loadingFacets.resolutions === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.resolutions}\n          resolutions={query.resolutions}\n          resolved={query.resolved}\n          stats={facets.resolutions}\n        />\n        <StatusFacet\n          fetching={this.props.loadingFacets.statuses === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.statuses}\n          stats={facets.statuses}\n          statuses={query.statuses}\n        />\n        <StandardFacet\n          cwe={query.cwe}\n          cweOpen={!!openFacets.cwe}\n          cweStats={facets.cwe}\n          fetchingCwe={this.props.loadingFacets.cwe === true}\n          fetchingOwaspTop10={this.props.loadingFacets.owaspTop10 === true}\n          fetchingSansTop25={this.props.loadingFacets.sansTop25 === true}\n          fetchingSonarSourceSecurity={this.props.loadingFacets.sonarsourceSecurity === true}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.standards}\n          owaspTop10={query.owaspTop10}\n          owaspTop10Open={!!openFacets.owaspTop10}\n          owaspTop10Stats={facets.owaspTop10}\n          query={query}\n          sansTop25={query.sansTop25}\n          sansTop25Open={!!openFacets.sansTop25}\n          sansTop25Stats={facets.sansTop25}\n          sonarsourceSecurity={query.sonarsourceSecurity}\n          sonarsourceSecurityOpen={!!openFacets.sonarsourceSecurity}\n          sonarsourceSecurityStats={facets.sonarsourceSecurity}\n        />\n        <CreationDateFacet\n          component={component}\n          createdAfter={query.createdAfter}\n          createdAfterIncludesTime={createdAfterIncludesTime}\n          createdAt={query.createdAt}\n          createdBefore={query.createdBefore}\n          createdInLast={query.createdInLast}\n          fetching={this.props.loadingFacets.createdAt === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.createdAt}\n          sinceLeakPeriod={query.sinceLeakPeriod}\n          stats={facets.createdAt}\n        />\n        <LanguageFacet\n          fetching={this.props.loadingFacets.languages === true}\n          languages={query.languages}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.languages}\n          query={query}\n          referencedLanguages={this.props.referencedLanguages}\n          stats={facets.languages}\n        />\n        <RuleFacet\n          fetching={this.props.loadingFacets.rules === true}\n          languages={query.languages}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.rules}\n          query={query}\n          referencedRules={this.props.referencedRules}\n          rules={query.rules}\n          stats={facets.rules}\n        />\n        <TagFacet\n          component={component}\n          fetching={this.props.loadingFacets.tags === true}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.tags}\n          query={query}\n          stats={facets.tags}\n          tags={query.tags}\n        />\n        {displayProjectsFacet && (\n          <ProjectFacet\n            component={component}\n            fetching={this.props.loadingFacets.projects === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.projects}\n            projects={query.projects}\n            query={query}\n            referencedComponents={this.props.referencedComponentsByKey}\n            stats={facets.projects}\n          />\n        )}\n        {this.renderComponentFacets()}\n        {!this.props.myIssues && !this.props.disableDeveloperAggregatedInfo && (\n          <AssigneeFacet\n            assigned={query.assigned}\n            assignees={query.assignees}\n            fetching={this.props.loadingFacets.assignees === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.assignees}\n            query={query}\n            referencedUsers={this.props.referencedUsers}\n            stats={facets.assignees}\n          />\n        )}\n        {displayAuthorFacet && !this.props.disableDeveloperAggregatedInfo && (\n          <AuthorFacet\n            authors={query.authors}\n            component={component}\n            fetching={this.props.loadingFacets.authors === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.authors}\n            query={query}\n            stats={facets.authors}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport const mapStateToProps = (state: Store) => {\n  const disableDeveloperAggregatedInfo = getGlobalSettingValue(\n    state,\n    'sonar.developerAggregatedInfo.disabled'\n  );\n  return {\n    disableDeveloperAggregatedInfo: disableDeveloperAggregatedInfo?.value === true.toString()\n  };\n};\n\nexport default connect(mapStateToProps)(Sidebar);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { pickBy, sortBy } from 'lodash';\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport Radio from 'sonar-ui-common/components/controls/Radio';\nimport SearchSelect from 'sonar-ui-common/components/controls/SearchSelect';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { bulkChangeIssues, searchIssueTags } from '../../../api/issues';\nimport throwGlobalError from '../../../app/utils/throwGlobalError';\nimport FormattingTips from '../../../components/common/FormattingTips';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport Avatar from '../../../components/ui/Avatar';\nimport { isLoggedIn, isUserActive } from '../../../helpers/users';\nimport { searchAssignees } from '../utils';\n\ninterface AssigneeOption {\n  avatar?: string;\n  email?: string;\n  label: string;\n  value: string;\n}\n\ninterface TagOption {\n  label: string;\n  value: string;\n}\n\ninterface Props {\n  component: T.Component | undefined;\n  currentUser: T.CurrentUser;\n  fetchIssues: (x: {}) => Promise<{ issues: T.Issue[]; paging: T.Paging }>;\n  onClose: () => void;\n  onDone: () => void;\n}\n\ninterface FormFields {\n  addTags?: Array<{ label: string; value: string }>;\n  assignee?: AssigneeOption;\n  comment?: string;\n  notifications?: boolean;\n  removeTags?: Array<{ label: string; value: string }>;\n  severity?: string;\n  transition?: string;\n  type?: string;\n}\n\ninterface State extends FormFields {\n  initialTags: Array<{ label: string; value: string }>;\n  issues: T.Issue[];\n  // used for initial loading of issues\n  loading: boolean;\n  paging?: T.Paging;\n  // used when submitting a form\n  submitting: boolean;\n}\n\ntype AssigneeSelectType = new () => SearchSelect<AssigneeOption>;\nconst AssigneeSelect = SearchSelect as AssigneeSelectType;\n\ntype TagSelectType = new () => SearchSelect<TagOption>;\nconst TagSelect = SearchSelect as TagSelectType;\n\nexport const MAX_PAGE_SIZE = 500;\n\nexport default class BulkChangeModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { initialTags: [], issues: [], loading: true, submitting: false };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    Promise.all([this.loadIssues(), searchIssueTags({})]).then(\n      ([{ issues, paging }, tags]) => {\n        if (this.mounted) {\n          if (issues.length > MAX_PAGE_SIZE) {\n            issues = issues.slice(0, MAX_PAGE_SIZE);\n          }\n\n          this.setState({\n            initialTags: tags.map(tag => ({ label: tag, value: tag })),\n            issues,\n            loading: false,\n            paging\n          });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadIssues = () => {\n    return this.props.fetchIssues({ additionalFields: 'actions,transitions', ps: MAX_PAGE_SIZE });\n  };\n\n  getDefaultAssignee = () => {\n    const { currentUser } = this.props;\n    const { issues } = this.state;\n    const options = [];\n\n    if (isLoggedIn(currentUser)) {\n      const canBeAssignedToMe =\n        issues.filter(issue => issue.assignee !== currentUser.login).length > 0;\n      if (canBeAssignedToMe) {\n        options.push({\n          avatar: currentUser.avatar,\n          label: currentUser.name,\n          value: currentUser.login\n        });\n      }\n    }\n\n    const canBeUnassigned = issues.filter(issue => issue.assignee).length > 0;\n    if (canBeUnassigned) {\n      options.push({ label: translate('unassigned'), value: '' });\n    }\n\n    return options;\n  };\n\n  handleAssigneeSearch = (query: string) => {\n    return searchAssignees(query).then(({ results }) =>\n      results.map(r => {\n        const userInfo = r.name || r.login;\n\n        return {\n          avatar: r.avatar,\n          label: isUserActive(r) ? userInfo : translateWithParameters('user.x_deleted', userInfo),\n          value: r.login\n        };\n      })\n    );\n  };\n\n  handleAssigneeSelect = (assignee: AssigneeOption) => {\n    this.setState({ assignee });\n  };\n\n  handleTagsSearch = (query: string) => {\n    return searchIssueTags({ q: query }).then(tags =>\n      tags.map(tag => ({ label: tag, value: tag }))\n    );\n  };\n\n  handleTagsSelect = (field: 'addTags' | 'removeTags') => (\n    options: Array<{ label: string; value: string }>\n  ) => {\n    this.setState<keyof FormFields>({ [field]: options });\n  };\n\n  handleFieldCheck = (field: keyof FormFields) => (checked: boolean) => {\n    if (!checked) {\n      this.setState<keyof FormFields>({ [field]: undefined });\n    } else if (field === 'notifications') {\n      this.setState<keyof FormFields>({ [field]: true });\n    }\n  };\n\n  handleRadioTransitionChange = (transition: string) => {\n    this.setState({ transition });\n  };\n\n  handleCommentChange = (event: React.SyntheticEvent<HTMLTextAreaElement>) => {\n    this.setState({ comment: event.currentTarget.value });\n  };\n\n  handleSelectFieldChange = (field: 'severity' | 'type') => (data: { value: string } | null) => {\n    if (data) {\n      this.setState<keyof FormFields>({ [field]: data.value });\n    } else {\n      this.setState<keyof FormFields>({ [field]: undefined });\n    }\n  };\n\n  handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    const query = pickBy(\n      {\n        add_tags: this.state.addTags && this.state.addTags.map(t => t.value).join(),\n        assign: this.state.assignee ? this.state.assignee.value : null,\n        comment: this.state.comment,\n        do_transition: this.state.transition,\n        remove_tags: this.state.removeTags && this.state.removeTags.map(t => t.value).join(),\n        sendNotifications: this.state.notifications,\n        set_severity: this.state.severity,\n        set_type: this.state.type\n      },\n      x => x !== undefined\n    );\n\n    const issueKeys = this.state.issues.map(issue => issue.key);\n\n    this.setState({ submitting: true });\n    bulkChangeIssues(issueKeys, query).then(\n      () => {\n        this.setState({ submitting: false });\n        this.props.onDone();\n      },\n      error => {\n        this.setState({ submitting: false });\n        throwGlobalError(error);\n      }\n    );\n  };\n\n  getAvailableTransitions(issues: T.Issue[]) {\n    const transitions: T.Dict<number> = {};\n    issues.forEach(issue => {\n      if (issue.transitions) {\n        issue.transitions.forEach(t => {\n          if (transitions[t] !== undefined) {\n            transitions[t]++;\n          } else {\n            transitions[t] = 1;\n          }\n        });\n      }\n    });\n    return sortBy(Object.keys(transitions)).map(transition => ({\n      transition,\n      count: transitions[transition]\n    }));\n  }\n\n  renderLoading = () => (\n    <div>\n      <div className=\"modal-head\">\n        <h2>{translate('bulk_change')}</h2>\n      </div>\n      <div className=\"modal-body\">\n        <div className=\"text-center\">\n          <i className=\"spinner spacer\" />\n        </div>\n      </div>\n      <div className=\"modal-foot\">\n        <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n      </div>\n    </div>\n  );\n\n  renderAffected = (affected: number) => (\n    <div className=\"pull-right note\">\n      ({translateWithParameters('issue_bulk_change.x_issues', affected)})\n    </div>\n  );\n\n  renderField = (\n    field: 'addTags' | 'assignee' | 'removeTags' | 'severity' | 'type',\n    label: string,\n    affected: number | undefined,\n    input: React.ReactNode\n  ) => (\n    <div className=\"modal-field\" id={`issues-bulk-change-${field}`}>\n      <label htmlFor={field}>{translate(label)}</label>\n      {input}\n      {affected !== undefined && this.renderAffected(affected)}\n    </div>\n  );\n\n  renderAssigneeOption = (option: AssigneeOption) => {\n    return (\n      <span>\n        {option.avatar !== undefined && (\n          <Avatar className=\"spacer-right\" hash={option.avatar} name={option.label} size={16} />\n        )}\n        {option.label}\n      </span>\n    );\n  };\n\n  renderAssigneeField = () => {\n    const affected = this.state.issues.filter(hasAction('assign')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const input = (\n      <AssigneeSelect\n        className=\"input-super-large\"\n        clearable={true}\n        defaultOptions={this.getDefaultAssignee()}\n        onSearch={this.handleAssigneeSearch}\n        onSelect={this.handleAssigneeSelect}\n        renderOption={this.renderAssigneeOption}\n        resetOnBlur={false}\n        value={this.state.assignee}\n      />\n    );\n\n    return this.renderField('assignee', 'issue.assign.formlink', affected, input);\n  };\n\n  renderTypeField = () => {\n    const affected = this.state.issues.filter(hasAction('set_type')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const types: T.IssueType[] = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n    const options = types.map(type => ({ label: translate('issue.type', type), value: type }));\n\n    const optionRenderer = (option: { label: string; value: string }) => (\n      <>\n        <IssueTypeIcon query={option.value} />\n        <span className=\"little-spacer-left\">{option.label}</span>\n      </>\n    );\n\n    const input = (\n      <Select\n        className=\"input-super-large\"\n        clearable={true}\n        onChange={this.handleSelectFieldChange('type')}\n        optionRenderer={optionRenderer}\n        options={options}\n        searchable={false}\n        value={this.state.type}\n        valueRenderer={optionRenderer}\n      />\n    );\n\n    return this.renderField('type', 'issue.set_type', affected, input);\n  };\n\n  renderSeverityField = () => {\n    const affected = this.state.issues.filter(hasAction('set_severity')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const severities = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n    const options = severities.map(severity => ({\n      label: translate('severity', severity),\n      value: severity\n    }));\n\n    const input = (\n      <Select\n        className=\"input-super-large\"\n        clearable={true}\n        onChange={this.handleSelectFieldChange('severity')}\n        optionRenderer={(option: { value: string }) => <SeverityHelper severity={option.value} />}\n        options={options}\n        searchable={false}\n        value={this.state.severity}\n        valueRenderer={(option: { value: string }) => <SeverityHelper severity={option.value} />}\n      />\n    );\n\n    return this.renderField('severity', 'issue.set_severity', affected, input);\n  };\n\n  renderTagOption = (option: TagOption) => {\n    return <span>{option.label}</span>;\n  };\n\n  renderTagsField = (field: 'addTags' | 'removeTags', label: string, allowCreate: boolean) => {\n    const { initialTags } = this.state;\n    const affected = this.state.issues.filter(hasAction('set_tags')).length;\n\n    if (initialTags === undefined || affected === 0) {\n      return null;\n    }\n\n    const input = (\n      <TagSelect\n        canCreate={allowCreate}\n        className=\"input-super-large\"\n        clearable={true}\n        defaultOptions={this.state.initialTags}\n        minimumQueryLength={0}\n        multi={true}\n        onMultiSelect={this.handleTagsSelect(field)}\n        onSearch={this.handleTagsSearch}\n        promptTextCreator={promptCreateTag}\n        renderOption={this.renderTagOption}\n        resetOnBlur={false}\n        value={this.state[field]}\n      />\n    );\n\n    return this.renderField(field, label, affected, input);\n  };\n\n  renderTransitionsField = () => {\n    const transitions = this.getAvailableTransitions(this.state.issues);\n\n    if (transitions.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"modal-field\">\n        <label>{translate('issue.transition')}</label>\n        {transitions.map(transition => (\n          <span\n            className=\"bulk-change-radio-button display-flex-center display-flex-space-between\"\n            key={transition.transition}>\n            <Radio\n              checked={this.state.transition === transition.transition}\n              onCheck={this.handleRadioTransitionChange}\n              value={transition.transition}>\n              {translate('issue.transition', transition.transition)}\n            </Radio>\n            {this.renderAffected(transition.count)}\n          </span>\n        ))}\n      </div>\n    );\n  };\n\n  renderCommentField = () => {\n    const affected = this.state.issues.filter(hasAction('comment')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"modal-field\">\n        <label htmlFor=\"comment\">\n          <span className=\"text-middle\">{translate('issue.comment.formlink')}</span>\n          <HelpTooltip\n            className=\"spacer-left\"\n            overlay={translate('issue_bulk_change.comment.help')}\n          />\n        </label>\n        <textarea\n          id=\"comment\"\n          onChange={this.handleCommentChange}\n          rows={4}\n          value={this.state.comment || ''}\n        />\n        <FormattingTips className=\"modal-field-descriptor text-right\" />\n      </div>\n    );\n  };\n\n  renderNotificationsField = () => (\n    <Checkbox\n      checked={this.state.notifications !== undefined}\n      className=\"display-inline-block spacer-top\"\n      id=\"send-notifications\"\n      onCheck={this.handleFieldCheck('notifications')}\n      right={true}>\n      <strong className=\"little-spacer-right\">{translate('issue.send_notifications')}</strong>\n    </Checkbox>\n  );\n\n  renderForm = () => {\n    const { issues, paging, submitting } = this.state;\n\n    const limitReached = paging && paging.total > MAX_PAGE_SIZE;\n\n    return (\n      <form id=\"bulk-change-form\" onSubmit={this.handleSubmit}>\n        <div className=\"modal-head\">\n          <h2>{translateWithParameters('issue_bulk_change.form.title', issues.length)}</h2>\n        </div>\n\n        <div className=\"modal-body modal-container\">\n          {limitReached && (\n            <Alert variant=\"warning\">\n              <FormattedMessage\n                defaultMessage={translate('issue_bulk_change.max_issues_reached')}\n                id=\"issue_bulk_change.max_issues_reached\"\n                values={{ max: <strong>{MAX_PAGE_SIZE}</strong> }}\n              />\n            </Alert>\n          )}\n\n          {this.renderAssigneeField()}\n          {this.renderTypeField()}\n          {this.renderSeverityField()}\n          {this.renderTagsField('addTags', 'issue.add_tags', true)}\n          {this.renderTagsField('removeTags', 'issue.remove_tags', false)}\n          {this.renderTransitionsField()}\n          {this.renderCommentField()}\n          {issues.length > 0 && this.renderNotificationsField()}\n          {issues.length === 0 && (\n            <Alert variant=\"warning\">{translate('issue_bulk_change.no_match')}</Alert>\n          )}\n        </div>\n\n        <div className=\"modal-foot\">\n          {submitting && <i className=\"spinner spacer-right\" />}\n          <SubmitButton disabled={submitting || issues.length === 0} id=\"bulk-change-submit\">\n            {translate('apply')}\n          </SubmitButton>\n          <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n        </div>\n      </form>\n    );\n  };\n\n  render() {\n    return (\n      <Modal contentLabel=\"modal\" onRequestClose={this.props.onClose} size=\"small\">\n        {this.state.loading ? this.renderLoading() : this.renderForm()}\n      </Modal>\n    );\n  }\n}\n\nfunction hasAction(action: string) {\n  return (issue: T.Issue) => issue.actions && issue.actions.includes(action);\n}\n\nfunction promptCreateTag(label: string) {\n  return `+ ${label}`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { collapsePath, limitComponentName } from 'sonar-ui-common/helpers/path';\nimport { getSelectedLocation } from '../utils';\n\ninterface Props {\n  component?: T.Component;\n  issue: T.Issue;\n  selectedFlowIndex?: number;\n  selectedLocationIndex?: number;\n}\n\nexport default function ComponentBreadcrumbs({\n  component,\n  issue,\n  selectedFlowIndex,\n  selectedLocationIndex\n}: Props) {\n  const displayProject = !component || !['TRK', 'BRC', 'DIR'].includes(component.qualifier);\n  const displaySubProject = !component || !['BRC', 'DIR'].includes(component.qualifier);\n\n  const selectedLocation = getSelectedLocation(issue, selectedFlowIndex, selectedLocationIndex);\n  const componentName = selectedLocation ? selectedLocation.componentName : issue.componentLongName;\n\n  return (\n    <div className=\"component-name text-ellipsis\">\n      <QualifierIcon className=\"spacer-right\" qualifier={issue.componentQualifier} />\n\n      {displayProject && (\n        <span title={issue.projectName}>\n          {limitComponentName(issue.projectName)}\n          <span className=\"slash-separator\" />\n        </span>\n      )}\n\n      {displaySubProject && issue.subProject !== undefined && issue.subProjectName !== undefined && (\n        <span title={issue.subProjectName}>\n          {limitComponentName(issue.subProjectName)}\n          <span className=\"slash-separator\" />\n        </span>\n      )}\n\n      <span title={componentName}>{collapsePath(componentName || '')}</span>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Issue from '../../../components/issue/Issue';\nimport { BranchLike } from '../../../types/branch-like';\nimport { Query } from '../utils';\nimport ComponentBreadcrumbs from './ComponentBreadcrumbs';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  checked: boolean;\n  component: T.Component | undefined;\n  issue: T.Issue;\n  onChange: (issue: T.Issue) => void;\n  onCheck: ((issueKey: string) => void) | undefined;\n  onClick: (issueKey: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup: string | undefined;\n  previousIssue: T.Issue | undefined;\n  selected: boolean;\n}\n\nexport default class ListItem extends React.PureComponent<Props> {\n  handleFilter = (property: string, issue: T.Issue) => {\n    const { onFilterChange } = this.props;\n\n    const issuesReset = { issues: [] };\n\n    if (property.startsWith('tag###')) {\n      const tag = property.substr(6);\n      onFilterChange({ ...issuesReset, tags: [tag] });\n    } else {\n      switch (property) {\n        case 'type':\n          onFilterChange({ ...issuesReset, types: [issue.type] });\n          break;\n        case 'severity':\n          onFilterChange({ ...issuesReset, severities: [issue.severity] });\n          break;\n        case 'status':\n          onFilterChange({ ...issuesReset, statuses: [issue.status] });\n          break;\n        case 'resolution':\n          if (issue.resolution) {\n            onFilterChange({ ...issuesReset, resolved: true, resolutions: [issue.resolution] });\n          } else {\n            onFilterChange({ ...issuesReset, resolved: false, resolutions: [] });\n          }\n          break;\n        case 'assignee':\n          if (issue.assignee) {\n            onFilterChange({ ...issuesReset, assigned: true, assignees: [issue.assignee] });\n          } else {\n            onFilterChange({ ...issuesReset, assigned: false, assignees: [] });\n          }\n          break;\n        case 'rule':\n          onFilterChange({ ...issuesReset, rules: [issue.rule] });\n          break;\n        case 'project':\n          onFilterChange({ ...issuesReset, projects: [issue.projectKey] });\n          break;\n        case 'module':\n          if (issue.subProjectUuid) {\n            onFilterChange({ ...issuesReset, modules: [issue.subProjectUuid] });\n          }\n          break;\n        case 'file':\n          onFilterChange({ ...issuesReset, files: [issue.componentUuid] });\n      }\n    }\n  };\n\n  render() {\n    const { branchLike, component, issue, previousIssue } = this.props;\n\n    const displayComponent = !previousIssue || previousIssue.component !== issue.component;\n\n    return (\n      <div className=\"issues-workspace-list-item\">\n        {displayComponent && (\n          <div className=\"issues-workspace-list-component note\">\n            <ComponentBreadcrumbs component={component} issue={this.props.issue} />\n          </div>\n        )}\n        <Issue\n          branchLike={branchLike}\n          checked={this.props.checked}\n          issue={issue}\n          onChange={this.props.onChange}\n          onCheck={this.props.onCheck}\n          onClick={this.props.onClick}\n          onFilter={this.handleFilter}\n          onPopupToggle={this.props.onPopupToggle}\n          openPopup={this.props.openPopup}\n          selected={this.props.selected}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { BranchLike } from '../../../types/branch-like';\nimport { Query, scrollToIssue } from '../utils';\nimport ListItem from './ListItem';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  checked: string[];\n  component: T.Component | undefined;\n  issues: T.Issue[];\n  onFilterChange: (changes: Partial<Query>) => void;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssueCheck: ((issueKey: string) => void) | undefined;\n  onIssueClick: (issueKey: string) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup: { issue: string; name: string } | undefined;\n  selectedIssue: T.Issue | undefined;\n}\n\ninterface State {\n  prerender: boolean;\n}\n\nexport default class IssuesList extends React.PureComponent<Props, State> {\n  state: State = {\n    prerender: true\n  };\n\n  componentDidMount() {\n    // ! \\\\ This prerender state variable is to enable the page to be displayed\n    //      immediately, displaying a loader before attempting to render the\n    //      list of issues. See https://jira.sonarsource.com/browse/SONAR-11681\n    setTimeout(() => {\n      this.setState({ prerender: false });\n      if (this.props.selectedIssue) {\n        scrollToIssue(this.props.selectedIssue.key, false);\n      }\n    }, 42);\n  }\n\n  render() {\n    const { branchLike, checked, component, issues, openPopup, selectedIssue } = this.props;\n    const { prerender } = this.state;\n\n    if (prerender) {\n      return (\n        <div>\n          <i className=\"spinner\" />\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        {issues.map((issue, index) => (\n          <ListItem\n            branchLike={branchLike}\n            checked={checked.includes(issue.key)}\n            component={component}\n            issue={issue}\n            key={issue.key}\n            onChange={this.props.onIssueChange}\n            onCheck={this.props.onIssueCheck}\n            onClick={this.props.onIssueClick}\n            onFilterChange={this.props.onFilterChange}\n            onPopupToggle={this.props.onPopupToggle}\n            openPopup={openPopup && openPopup.issue === issue.key ? openPopup.name : undefined}\n            previousIssue={index > 0 ? issues[index - 1] : undefined}\n            selected={selectedIssue != null && selectedIssue.key === issue.key}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\n\nconst CrossComponentSourceViewer = lazyLoadComponent(\n  () => import(/* webpackPrefetch: true */ './CrossComponentSourceViewerWrapper'),\n  'CrossComponentSourceViewer'\n);\n\nexport default CrossComponentSourceViewer;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\nimport { BranchLike } from '../../../types/branch-like';\nimport CrossComponentSourceViewer from '../crossComponentSourceViewer/CrossComponentSourceViewer';\nimport { getLocations, getSelectedLocation } from '../utils';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  issues: T.Issue[];\n  loadIssues: (component: string, from: number, to: number) => Promise<T.Issue[]>;\n  locationsNavigator: boolean;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: (index: number) => void;\n  openIssue: T.Issue;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class IssuesSourceViewer extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidUpdate(prevProps: Props) {\n    const { openIssue, selectedLocationIndex } = this.props;\n\n    // Scroll back to the issue when the selected location is set to -1\n    const shouldScrollBackToIssue =\n      selectedLocationIndex === -1 && selectedLocationIndex !== prevProps.selectedLocationIndex;\n    if (\n      prevProps.openIssue.component === openIssue.component &&\n      (prevProps.openIssue !== openIssue || shouldScrollBackToIssue)\n    ) {\n      this.scrollToIssue();\n    }\n  }\n\n  scrollToIssue = (smooth = true) => {\n    if (this.node) {\n      const element = this.node.querySelector(`[data-issue=\"${this.props.openIssue.key}\"]`);\n      if (element) {\n        this.handleScroll(element, undefined, smooth);\n      }\n    }\n  };\n\n  handleScroll = (element: Element, offset = window.innerHeight / 2, smooth = true) => {\n    scrollToElement(element, { topOffset: offset - 100, bottomOffset: offset, smooth });\n  };\n\n  handleLoaded = () => {\n    this.scrollToIssue(false);\n  };\n\n  render() {\n    const { openIssue, selectedFlowIndex, selectedLocationIndex } = this.props;\n\n    const locations = getLocations(openIssue, selectedFlowIndex).map((loc, index) => {\n      loc.index = index;\n      return loc;\n    });\n    const selectedLocation = getSelectedLocation(\n      openIssue,\n      selectedFlowIndex,\n      selectedLocationIndex\n    );\n\n    const highlightedLocationMessage =\n      this.props.locationsNavigator && selectedLocationIndex !== undefined\n        ? selectedLocation && { index: selectedLocationIndex, text: selectedLocation.msg }\n        : undefined;\n\n    if (locations.length > 0) {\n      return (\n        <div ref={node => (this.node = node)}>\n          <CrossComponentSourceViewer\n            branchLike={this.props.branchLike}\n            highlightedLocationMessage={highlightedLocationMessage}\n            issue={openIssue}\n            issues={this.props.issues}\n            locations={locations}\n            onIssueChange={this.props.onIssueChange}\n            onLoaded={this.handleLoaded}\n            onLocationSelect={this.props.onLocationSelect}\n            scroll={this.handleScroll}\n            selectedFlowIndex={selectedFlowIndex}\n          />\n        </div>\n      );\n    } else {\n      // if location is selected, show (and load) code around it\n      // otherwise show code around the open issue\n      const aroundLine = selectedLocation\n        ? selectedLocation.textRange.startLine\n        : openIssue.textRange && openIssue.textRange.endLine;\n\n      const component = selectedLocation ? selectedLocation.component : openIssue.component;\n      const allMessagesEmpty =\n        locations !== undefined && locations.every(location => !location.msg);\n\n      const highlightedLocations = locations.filter(location => location.component === component);\n\n      // do not load issues when open another file for a location\n      const loadIssues =\n        component === openIssue.component ? this.props.loadIssues : () => Promise.resolve([]);\n      const selectedIssue = component === openIssue.component ? openIssue.key : undefined;\n\n      return (\n        <div ref={node => (this.node = node)}>\n          <SourceViewer\n            aroundLine={aroundLine}\n            branchLike={this.props.branchLike}\n            component={component}\n            displayAllIssues={true}\n            displayIssueLocationsCount={true}\n            displayIssueLocationsLink={false}\n            displayLocationMarkers={!allMessagesEmpty}\n            highlightedLocationMessage={highlightedLocationMessage}\n            highlightedLocations={highlightedLocations}\n            loadIssues={loadIssues}\n            onIssueChange={this.props.onIssueChange}\n            onIssueSelect={this.props.onIssueSelect}\n            onLoaded={this.handleLoaded}\n            onLocationSelect={this.props.onLocationSelect}\n            scroll={this.handleScroll}\n            selectedIssue={selectedIssue}\n            slimHeader={true}\n          />\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  myIssues: boolean;\n  onMyIssuesChange: (myIssues: boolean) => void;\n}\n\nexport default class MyIssuesFilter extends React.PureComponent<Props> {\n  handleClick = (myIssues: boolean) => () => {\n    this.props.onMyIssuesChange(myIssues);\n  };\n\n  render() {\n    const { myIssues } = this.props;\n\n    return (\n      <div className=\"issues-my-issues-filter\">\n        <div className=\"button-group\">\n          <Button\n            className={myIssues ? 'button-active' : undefined}\n            onClick={this.handleClick(true)}>\n            {translate('issues.my_issues')}\n          </Button>\n          <Button\n            className={myIssues ? undefined : 'button-active'}\n            onClick={this.handleClick(false)}>\n            {translate('all')}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport '../../../components/common/EmptySearch.css';\n\nexport default function NoIssues() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('issues.no_issues')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport '../../../components/common/EmptySearch.css';\n\nexport default function NoMyIssues() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('issues.no_my_issues')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\nexport default function TotalEffort({ effort }: { effort: number }) {\n  return (\n    <div className=\"display-inline-block bordered-left spacer-left\">\n      <div className=\"spacer-left\">\n        <FormattedMessage\n          defaultMessage={translate('issue.x_effort')}\n          id=\"issue.x_effort\"\n          values={{ 0: <strong>{formatMeasure(effort, 'WORK_DUR')}</strong> }}\n        />\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ReloadButton from 'sonar-ui-common/components/controls/ReloadButton';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport HomePageSelect from '../../../components/controls/HomePageSelect';\nimport { isSonarCloud } from '../../../helpers/system';\nimport IssuesCounter from './IssuesCounter';\nimport TotalEffort from './TotalEffort';\n\ninterface Props {\n  canSetHome: boolean;\n  effortTotal: number | undefined;\n  onReload: () => void;\n  paging: T.Paging | undefined;\n  selectedIndex: number | undefined;\n}\n\nexport default class PageActions extends React.PureComponent<Props> {\n  renderShortcuts() {\n    return (\n      <span className=\"note big-spacer-right\">\n        <span className=\"big-spacer-right\">\n          <span className=\"shortcut-button little-spacer-right\"></span>\n          <span className=\"shortcut-button little-spacer-right\"></span>\n          {translate('issues.to_select_issues')}\n        </span>\n\n        <span>\n          <span className=\"shortcut-button little-spacer-right\"></span>\n          <span className=\"shortcut-button little-spacer-right\"></span>\n          {translate('issues.to_navigate')}\n        </span>\n      </span>\n    );\n  }\n\n  render() {\n    const { effortTotal, paging, selectedIndex } = this.props;\n\n    return (\n      <div className=\"pull-right\">\n        {this.renderShortcuts()}\n\n        <div className=\"issues-page-actions\">\n          <ReloadButton onClick={this.props.onReload} />\n          {paging != null && <IssuesCounter current={selectedIndex} total={paging.total} />}\n          {effortTotal !== undefined && <TotalEffort effort={effortTotal} />}\n        </div>\n\n        {this.props.canSetHome && (\n          <HomePageSelect\n            className=\"huge-spacer-left\"\n            currentPage={isSonarCloud() ? { type: 'MY_ISSUES' } : { type: 'ISSUES' }}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport { debounce, keyBy, omit, without } from 'lodash';\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { FormattedMessage } from 'react-intl';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport handleRequiredAuthentication from 'sonar-ui-common/helpers/handleRequiredAuthentication';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport {\n  addSideBarClass,\n  addWhitePageClass,\n  removeSideBarClass,\n  removeWhitePageClass\n} from 'sonar-ui-common/helpers/pages';\nimport { serializeDate } from 'sonar-ui-common/helpers/query';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport EmptySearch from '../../../components/common/EmptySearch';\nimport FiltersHeader from '../../../components/common/FiltersHeader';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport { Location, Router } from '../../../components/hoc/withRouter';\nimport '../../../components/search-navigator.css';\nimport {\n  fillBranchLike,\n  getBranchLikeQuery,\n  isPullRequest,\n  isSameBranchLike\n} from '../../../helpers/branch-like';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { BranchLike } from '../../../types/branch-like';\nimport {\n  Facet,\n  FetchIssuesPromise,\n  ReferencedComponent,\n  ReferencedLanguage,\n  ReferencedRule\n} from '../../../types/issues';\nimport { SecurityStandard } from '../../../types/security';\nimport * as actions from '../actions';\nimport ConciseIssuesList from '../conciseIssuesList/ConciseIssuesList';\nimport ConciseIssuesListHeader from '../conciseIssuesList/ConciseIssuesListHeader';\nimport Sidebar from '../sidebar/Sidebar';\nimport '../styles.css';\nimport {\n  areMyIssuesSelected,\n  areQueriesEqual,\n  getOpen,\n  mapFacet,\n  parseFacets,\n  parseQuery,\n  Query,\n  saveMyIssues,\n  scrollToIssue,\n  serializeQuery,\n  shouldOpenSonarSourceSecurityFacet,\n  shouldOpenStandardsChildFacet,\n  shouldOpenStandardsFacet,\n  STANDARDS\n} from '../utils';\nimport BulkChangeModal, { MAX_PAGE_SIZE } from './BulkChangeModal';\nimport IssuesList from './IssuesList';\nimport IssuesSourceViewer from './IssuesSourceViewer';\nimport MyIssuesFilter from './MyIssuesFilter';\nimport NoIssues from './NoIssues';\nimport NoMyIssues from './NoMyIssues';\nimport PageActions from './PageActions';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component?: T.Component;\n  currentUser: T.CurrentUser;\n  fetchBranchStatus: (branchLike: BranchLike, projectKey: string) => void;\n  fetchIssues: (query: T.RawQuery) => Promise<FetchIssuesPromise>;\n  location: Location;\n  onBranchesChange?: () => void;\n  router: Pick<Router, 'push' | 'replace'>;\n}\n\nexport interface State {\n  bulkChangeModal: boolean;\n  cannotShowOpenIssue?: boolean;\n  checkAll?: boolean;\n  checked: string[];\n  effortTotal?: number;\n  facets: T.Dict<Facet>;\n  issues: T.Issue[];\n  loading: boolean;\n  loadingFacets: T.Dict<boolean>;\n  loadingMore: boolean;\n  locationsNavigator: boolean;\n  myIssues: boolean;\n  openFacets: T.Dict<boolean>;\n  openIssue?: T.Issue;\n  openPopup?: { issue: string; name: string };\n  paging?: T.Paging;\n  query: Query;\n  referencedComponentsById: T.Dict<ReferencedComponent>;\n  referencedComponentsByKey: T.Dict<ReferencedComponent>;\n  referencedLanguages: T.Dict<ReferencedLanguage>;\n  referencedRules: T.Dict<ReferencedRule>;\n  referencedUsers: T.Dict<T.UserBase>;\n  selected?: string;\n  selectedFlowIndex?: number;\n  selectedLocationIndex?: number;\n}\n\nconst DEFAULT_QUERY = { resolved: 'false' };\nconst MAX_INITAL_FETCH = 1000;\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const query = parseQuery(props.location.query);\n    this.state = {\n      bulkChangeModal: false,\n      checked: [],\n      facets: {},\n      issues: [],\n      loading: true,\n      loadingFacets: {},\n      loadingMore: false,\n      locationsNavigator: false,\n      myIssues: areMyIssuesSelected(props.location.query),\n      openFacets: {\n        owaspTop10: shouldOpenStandardsChildFacet({}, query, SecurityStandard.OWASP_TOP10),\n        sansTop25: shouldOpenStandardsChildFacet({}, query, SecurityStandard.SANS_TOP25),\n        severities: true,\n        sonarsourceSecurity: shouldOpenSonarSourceSecurityFacet({}, query),\n        standards: shouldOpenStandardsFacet({}, query),\n        types: true\n      },\n      query,\n      referencedComponentsById: {},\n      referencedComponentsByKey: {},\n      referencedLanguages: {},\n      referencedRules: {},\n      referencedUsers: {},\n      selected: getOpen(props.location.query)\n    };\n    this.refreshBranchStatus = debounce(this.refreshBranchStatus, 1000);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    if (this.state.myIssues && !this.props.currentUser.isLoggedIn) {\n      handleRequiredAuthentication();\n      return;\n    }\n\n    addWhitePageClass();\n    addSideBarClass();\n    this.attachShortcuts();\n    this.fetchFirstIssues();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    const { issues, selected } = this.state;\n    const openIssue = this.getOpenIssue(nextProps, issues);\n\n    if (openIssue && openIssue.key !== selected) {\n      this.setState({\n        locationsNavigator: false,\n        selected: openIssue.key,\n        selectedFlowIndex: undefined,\n        selectedLocationIndex: undefined\n      });\n    }\n\n    if (!openIssue) {\n      this.setState({ selectedFlowIndex: undefined, selectedLocationIndex: undefined });\n    }\n\n    this.setState({\n      myIssues: areMyIssuesSelected(nextProps.location.query),\n      openIssue,\n      query: parseQuery(nextProps.location.query)\n    });\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    const { query } = this.props.location;\n    const { query: prevQuery } = prevProps.location;\n    if (\n      prevProps.component !== this.props.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      !areQueriesEqual(prevQuery, query) ||\n      areMyIssuesSelected(prevQuery) !== areMyIssuesSelected(query)\n    ) {\n      this.fetchFirstIssues();\n      this.setState({ checkAll: false });\n    } else if (\n      !this.state.openIssue &&\n      (prevState.selected !== this.state.selected || prevState.openIssue)\n    ) {\n      // if user simply selected another issue\n      // or if he went from the source code back to the list of issues\n      this.scrollToSelectedIssue();\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n    this.mounted = false;\n    removeWhitePageClass();\n    removeSideBarClass();\n  }\n\n  attachShortcuts() {\n    key.setScope('issues');\n    key('up', 'issues', () => {\n      this.selectPreviousIssue();\n      return false;\n    });\n    key('down', 'issues', () => {\n      this.selectNextIssue();\n      return false;\n    });\n    key('right', 'issues', () => {\n      this.openSelectedIssue();\n      return false;\n    });\n    key('left', 'issues', () => {\n      if (this.state.query.issues.length !== 1) {\n        this.closeIssue();\n      }\n      return false;\n    });\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('keyup', this.handleKeyUp);\n  }\n\n  detachShortcuts() {\n    key.deleteScope('issues');\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  handleKeyDown = (event: KeyboardEvent) => {\n    if (key.getScope() !== 'issues') {\n      return;\n    }\n    if (event.keyCode === 18) {\n      // alt\n      event.preventDefault();\n      this.setState(actions.enableLocationsNavigator);\n    } else if (event.keyCode === 40 && event.altKey) {\n      // alt + down\n      event.preventDefault();\n      this.selectNextLocation();\n    } else if (event.keyCode === 38 && event.altKey) {\n      // alt + up\n      event.preventDefault();\n      this.selectPreviousLocation();\n    } else if (event.keyCode === 37 && event.altKey) {\n      // alt + left\n      event.preventDefault();\n      this.selectPreviousFlow();\n    } else if (event.keyCode === 39 && event.altKey) {\n      // alt + right\n      event.preventDefault();\n      this.selectNextFlow();\n    }\n  };\n\n  handleKeyUp = (event: KeyboardEvent) => {\n    if (key.getScope() !== 'issues') {\n      return;\n    }\n    if (event.keyCode === 18) {\n      // alt\n      this.setState(actions.disableLocationsNavigator);\n    }\n  };\n\n  getSelectedIndex() {\n    const { issues = [], selected } = this.state;\n    const index = issues.findIndex(issue => issue.key === selected);\n    return index !== -1 ? index : undefined;\n  }\n\n  getOpenIssue = (props: Props, issues: T.Issue[]) => {\n    const open = getOpen(props.location.query);\n    return open ? issues.find(issue => issue.key === open) : undefined;\n  };\n\n  selectNextIssue = () => {\n    const { issues } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined && selectedIndex < issues.length - 1) {\n      if (this.state.openIssue) {\n        this.openIssue(issues[selectedIndex + 1].key);\n      } else {\n        this.setState({\n          selected: issues[selectedIndex + 1].key,\n          selectedFlowIndex: undefined,\n          selectedLocationIndex: undefined\n        });\n      }\n    }\n  };\n\n  selectPreviousIssue = () => {\n    const { issues } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined && selectedIndex > 0) {\n      if (this.state.openIssue) {\n        this.openIssue(issues[selectedIndex - 1].key);\n      } else {\n        this.setState({\n          selected: issues[selectedIndex - 1].key,\n          selectedFlowIndex: undefined,\n          selectedLocationIndex: undefined\n        });\n      }\n    }\n  };\n\n  openIssue = (issueKey: string) => {\n    const path = {\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery(this.state.query),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined,\n        open: issueKey\n      }\n    };\n    if (this.state.openIssue) {\n      if (path.query.open && path.query.open === this.state.openIssue.key) {\n        this.setState(\n          {\n            locationsNavigator: false,\n            selectedFlowIndex: undefined,\n            selectedLocationIndex: undefined\n          },\n          this.scrollToSelectedIssue\n        );\n      } else {\n        this.props.router.replace(path);\n      }\n    } else {\n      this.props.router.push(path);\n    }\n  };\n\n  closeIssue = () => {\n    if (this.state.query) {\n      this.props.router.push({\n        pathname: this.props.location.pathname,\n        query: {\n          ...serializeQuery(this.state.query),\n          ...getBranchLikeQuery(this.props.branchLike),\n          id: this.props.component && this.props.component.key,\n          myIssues: this.state.myIssues ? 'true' : undefined,\n          open: undefined\n        }\n      });\n    }\n  };\n\n  openSelectedIssue = () => {\n    const { selected } = this.state;\n    if (selected) {\n      this.openIssue(selected);\n    }\n  };\n\n  scrollToSelectedIssue = (smooth = true) => {\n    const { selected } = this.state;\n    if (selected) {\n      scrollToIssue(selected, smooth);\n    }\n  };\n\n  createdAfterIncludesTime = () => Boolean(this.props.location.query.createdAfter?.includes('T'));\n\n  fetchIssues = (additional: T.RawQuery, requestFacets = false): Promise<FetchIssuesPromise> => {\n    const { component } = this.props;\n    const { myIssues, openFacets, query } = this.state;\n\n    const facets = requestFacets\n      ? Object.keys(openFacets)\n          .filter(facet => facet !== STANDARDS)\n          .map(mapFacet)\n          .join(',')\n      : undefined;\n\n    const parameters: T.Dict<string | undefined> = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      componentKeys: component && component.key,\n      s: 'FILE_LINE',\n      ...serializeQuery(query),\n      ps: '100',\n      facets,\n      ...additional\n    };\n\n    if (query.createdAfter !== undefined && this.createdAfterIncludesTime()) {\n      parameters.createdAfter = serializeDate(query.createdAfter);\n    }\n\n    // only sorting by CREATION_DATE is allowed, so let's sort DESC\n    if (query.sort) {\n      Object.assign(parameters, { asc: 'false' });\n    }\n\n    if (myIssues) {\n      Object.assign(parameters, { assignees: '__me__' });\n    }\n\n    return this.props.fetchIssues(parameters);\n  };\n\n  fetchFirstIssues() {\n    const prevQuery = this.props.location.query;\n    const openIssueKey = getOpen(this.props.location.query);\n    let fetchPromise;\n\n    this.setState({ checked: [], loading: true });\n    if (openIssueKey !== undefined) {\n      fetchPromise = this.fetchIssuesUntil(1, (pageIssues: T.Issue[], paging: T.Paging) => {\n        if (\n          paging.total <= paging.pageIndex * paging.pageSize ||\n          paging.pageIndex * paging.pageSize >= MAX_INITAL_FETCH\n        ) {\n          return true;\n        }\n        return pageIssues.some(issue => issue.key === openIssueKey);\n      });\n    } else {\n      fetchPromise = this.fetchIssues({}, true);\n    }\n\n    return fetchPromise.then(\n      ({ effortTotal, facets, issues, paging, ...other }) => {\n        if (this.mounted && areQueriesEqual(prevQuery, this.props.location.query)) {\n          const openIssue = this.getOpenIssue(this.props, issues);\n          let selected: string | undefined = undefined;\n          if (issues.length > 0) {\n            selected = openIssue ? openIssue.key : issues[0].key;\n          }\n          this.setState(state => ({\n            cannotShowOpenIssue: Boolean(openIssueKey && !openIssue),\n            effortTotal,\n            facets: { ...state.facets, ...parseFacets(facets) },\n            loading: false,\n            issues,\n            openIssue,\n            paging,\n            referencedComponentsById: keyBy(other.components, 'uuid'),\n            referencedComponentsByKey: keyBy(other.components, 'key'),\n            referencedLanguages: keyBy(other.languages, 'key'),\n            referencedRules: keyBy(other.rules, 'key'),\n            referencedUsers: keyBy(other.users, 'login'),\n            selected,\n            selectedFlowIndex: undefined,\n            selectedLocationIndex: undefined\n          }));\n        }\n        return issues;\n      },\n      () => {\n        if (this.mounted && areQueriesEqual(prevQuery, this.props.location.query)) {\n          this.setState({ loading: false });\n        }\n        return [];\n      }\n    );\n  }\n\n  fetchIssuesPage = (p: number) => {\n    return this.fetchIssues({ p });\n  };\n\n  fetchIssuesUntil = (\n    p: number,\n    done: (pageIssues: T.Issue[], paging: T.Paging) => boolean\n  ): Promise<FetchIssuesPromise> => {\n    const recursiveFetch = (p: number, prevIssues: T.Issue[]): Promise<FetchIssuesPromise> => {\n      return this.fetchIssuesPage(p).then(({ issues: pageIssues, paging, ...other }) => {\n        const issues = [...prevIssues, ...pageIssues];\n        return done(pageIssues, paging)\n          ? { issues, paging, ...other }\n          : recursiveFetch(p + 1, issues);\n      });\n    };\n\n    return recursiveFetch(p, []);\n  };\n\n  fetchMoreIssues = () => {\n    const { paging } = this.state;\n\n    if (!paging) {\n      return Promise.reject();\n    }\n\n    const p = paging.pageIndex + 1;\n\n    this.setState({ checkAll: false, loadingMore: true });\n    return this.fetchIssuesPage(p).then(\n      response => {\n        if (this.mounted) {\n          this.setState(state => ({\n            loadingMore: false,\n            issues: [...state.issues, ...response.issues],\n            paging: response.paging\n          }));\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loadingMore: false });\n        }\n      }\n    );\n  };\n\n  fetchIssuesForComponent = (_component: string, _from: number, to: number) => {\n    const { issues, openIssue, paging } = this.state;\n\n    if (!openIssue || !paging) {\n      return Promise.reject(undefined);\n    }\n\n    const isSameComponent = (issue: T.Issue) => issue.component === openIssue.component;\n\n    const done = (pageIssues: T.Issue[], paging: T.Paging) => {\n      const lastIssue = pageIssues[pageIssues.length - 1];\n      if (paging.total <= paging.pageIndex * paging.pageSize) {\n        return true;\n      }\n      if (lastIssue.component !== openIssue.component) {\n        return true;\n      }\n      return lastIssue.textRange !== undefined && lastIssue.textRange.endLine > to;\n    };\n\n    if (done(issues, paging)) {\n      return Promise.resolve(issues.filter(isSameComponent));\n    }\n\n    this.setState({ loading: true });\n    return this.fetchIssuesUntil(paging.pageIndex + 1, done).then(\n      response => {\n        const nextIssues = [...issues, ...response.issues];\n        if (this.mounted) {\n          this.setState({\n            issues: nextIssues,\n            loading: false,\n            paging: response.paging\n          });\n        }\n        return nextIssues.filter(isSameComponent);\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n        return [];\n      }\n    );\n  };\n\n  fetchFacet = (facet: string) => {\n    return this.fetchIssues({ ps: 1, facets: mapFacet(facet) }, false).then(\n      ({ facets, ...other }) => {\n        if (this.mounted) {\n          this.setState(state => ({\n            facets: { ...state.facets, ...parseFacets(facets) },\n            loadingFacets: omit(state.loadingFacets, facet),\n            referencedComponentsById: {\n              ...state.referencedComponentsById,\n              ...keyBy(other.components, 'uuid')\n            },\n            referencedComponentsByKey: {\n              ...state.referencedComponentsByKey,\n              ...keyBy(other.components, 'key')\n            },\n            referencedLanguages: {\n              ...state.referencedLanguages,\n              ...keyBy(other.languages, 'key')\n            },\n            referencedRules: { ...state.referencedRules, ...keyBy(other.rules, 'key') },\n            referencedUsers: { ...state.referencedUsers, ...keyBy(other.users, 'login') }\n          }));\n        }\n      },\n      () => {\n        /* Do nothing */\n      }\n    );\n  };\n\n  isFiltered = () => {\n    const serialized = serializeQuery(this.state.query);\n    return !areQueriesEqual(serialized, DEFAULT_QUERY);\n  };\n\n  getCheckedIssues = () => {\n    const issues = this.state.checked\n      .map(checked => this.state.issues.find(issue => issue.key === checked))\n      .filter((issue): issue is T.Issue => issue !== undefined);\n    const paging = { pageIndex: 1, pageSize: issues.length, total: issues.length };\n    return Promise.resolve({ issues, paging });\n  };\n\n  getButtonLabel = (checked: string[], checkAll?: boolean, paging?: T.Paging) => {\n    if (checked.length > 0) {\n      let count;\n      if (checkAll && paging) {\n        count = paging.total > MAX_PAGE_SIZE ? MAX_PAGE_SIZE : paging.total;\n      } else {\n        count = Math.min(checked.length, MAX_PAGE_SIZE);\n      }\n\n      return translateWithParameters('issues.bulk_change_X_issues', count);\n    } else {\n      return translate('bulk_change');\n    }\n  };\n\n  handleFilterChange = (changes: Partial<Query>) => {\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery({ ...this.state.query, ...changes }),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined\n      }\n    });\n    this.setState(({ openFacets }) => ({\n      openFacets: {\n        ...openFacets,\n        sonarsourceSecurity: shouldOpenSonarSourceSecurityFacet(openFacets, changes),\n        standards: shouldOpenStandardsFacet(openFacets, changes)\n      }\n    }));\n  };\n\n  handleMyIssuesChange = (myIssues: boolean) => {\n    this.closeFacet('assignees');\n    if (!this.props.component) {\n      saveMyIssues(myIssues);\n    }\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery({ ...this.state.query, assigned: true, assignees: [] }),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  loadSearchResultCount = (property: string, changes: Partial<Query>) => {\n    const { component } = this.props;\n    const { myIssues, query } = this.state;\n\n    const parameters = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      componentKeys: component && component.key,\n      facets: mapFacet(property),\n      s: 'FILE_LINE',\n      ...serializeQuery({ ...query, ...changes }),\n      ps: 1\n    };\n\n    if (myIssues) {\n      Object.assign(parameters, { assignees: '__me__' });\n    }\n\n    return this.props.fetchIssues(parameters).then(({ facets }) => parseFacets(facets)[property]);\n  };\n\n  closeFacet = (property: string) => {\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [property]: false }\n    }));\n  };\n\n  handleFacetToggle = (property: string) => {\n    this.setState(state => {\n      const willOpenProperty = !state.openFacets[property];\n      const newState = {\n        loadingFacets: state.loadingFacets,\n        openFacets: { ...state.openFacets, [property]: willOpenProperty }\n      };\n\n      // Try to open sonarsource security \"subfacet\" by default if the standard facet is open\n      if (willOpenProperty && property === STANDARDS) {\n        newState.openFacets.sonarsourceSecurity = shouldOpenSonarSourceSecurityFacet(\n          newState.openFacets,\n          state.query\n        );\n        // Force loading of sonarsource security facet data\n        property = newState.openFacets.sonarsourceSecurity ? 'sonarsourceSecurity' : property;\n      }\n\n      // No need to load facets data for standard facet\n      if (property !== STANDARDS && !state.facets[property]) {\n        newState.loadingFacets[property] = true;\n        this.fetchFacet(property);\n      }\n\n      return newState;\n    });\n  };\n\n  handleReset = () => {\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...DEFAULT_QUERY,\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  handlePopupToggle = (issue: string, popupName: string, open?: boolean) => {\n    this.setState((state: State) => {\n      const { openPopup } = state;\n      const samePopup = openPopup && openPopup.name === popupName && openPopup.issue === issue;\n\n      if (open !== false && !samePopup) {\n        return { ...state, openPopup: { issue, name: popupName } };\n      } else if (open !== true && samePopup) {\n        return { ...state, openPopup: undefined };\n      }\n\n      return state;\n    });\n  };\n\n  handleIssueCheck = (issue: string) => {\n    this.setState(state => ({\n      checkAll: false,\n      checked: state.checked.includes(issue)\n        ? without(state.checked, issue)\n        : [...state.checked, issue]\n    }));\n  };\n\n  handleIssueChange = (issue: T.Issue) => {\n    this.refreshBranchStatus();\n    this.setState(state => ({\n      issues: state.issues.map(candidate => (candidate.key === issue.key ? issue : candidate)),\n      openIssue: state.openIssue && state.openIssue.key === issue.key ? issue : state.openIssue\n    }));\n  };\n\n  handleOpenBulkChange = () => {\n    key.setScope('issues-bulk-change');\n    this.setState({ bulkChangeModal: true });\n  };\n\n  handleCloseBulkChange = () => {\n    key.setScope('issues');\n    this.setState({ bulkChangeModal: false });\n  };\n\n  handleBulkChangeDone = () => {\n    this.setState({ checkAll: false });\n    this.refreshBranchStatus();\n    this.fetchFirstIssues();\n    this.handleCloseBulkChange();\n  };\n\n  handleReload = () => {\n    this.fetchFirstIssues();\n    this.refreshBranchStatus();\n    const { branchLike, onBranchesChange } = this.props;\n    if (onBranchesChange && isPullRequest(branchLike)) {\n      onBranchesChange();\n    }\n  };\n\n  handleReloadAndOpenFirst = () => {\n    this.fetchFirstIssues().then(\n      (issues: T.Issue[]) => {\n        if (issues.length > 0) {\n          this.openIssue(issues[0].key);\n        }\n      },\n      () => {}\n    );\n  };\n\n  selectLocation = (index: number) => {\n    this.setState(actions.selectLocation(index));\n  };\n\n  selectNextLocation = () => {\n    this.setState(actions.selectNextLocation);\n  };\n\n  selectPreviousLocation = () => {\n    this.setState(actions.selectPreviousLocation);\n  };\n\n  handleCheckAll = (checked: boolean) => {\n    if (checked) {\n      this.setState(state => ({\n        checkAll: true,\n        checked: state.issues.map(issue => issue.key)\n      }));\n    } else {\n      this.setState({ checkAll: false, checked: [] });\n    }\n  };\n\n  selectFlow = (index?: number) => {\n    this.setState(actions.selectFlow(index));\n  };\n\n  selectNextFlow = () => {\n    this.setState(actions.selectNextFlow);\n  };\n\n  selectPreviousFlow = () => {\n    this.setState(actions.selectPreviousFlow);\n  };\n\n  refreshBranchStatus = () => {\n    const { branchLike, component } = this.props;\n    if (branchLike && component && isPullRequest(branchLike)) {\n      this.props.fetchBranchStatus(branchLike, component.key);\n    }\n  };\n\n  renderBulkChange() {\n    const { component, currentUser } = this.props;\n    const { checkAll, bulkChangeModal, checked, issues, paging } = this.state;\n\n    const isAllChecked = checked.length > 0 && issues.length === checked.length;\n    const thirdState = checked.length > 0 && !isAllChecked;\n    const isChecked = isAllChecked || thirdState;\n\n    if (!currentUser.isLoggedIn) {\n      return null;\n    }\n\n    return (\n      <div className=\"pull-left\">\n        <Checkbox\n          checked={isChecked}\n          className=\"spacer-right text-middle\"\n          disabled={issues.length === 0}\n          id=\"issues-selection\"\n          onCheck={this.handleCheckAll}\n          thirdState={thirdState}\n          title={translate('issues.select_all_issues')}\n        />\n        <Button\n          disabled={checked.length === 0}\n          id=\"issues-bulk-change\"\n          onClick={this.handleOpenBulkChange}>\n          {this.getButtonLabel(checked, checkAll, paging)}\n        </Button>\n\n        {bulkChangeModal && (\n          <BulkChangeModal\n            component={component}\n            currentUser={currentUser}\n            fetchIssues={checkAll ? this.fetchIssues : this.getCheckedIssues}\n            onClose={this.handleCloseBulkChange}\n            onDone={this.handleBulkChangeDone}\n          />\n        )}\n      </div>\n    );\n  }\n\n  renderFacets() {\n    const { component, currentUser, branchLike } = this.props;\n    const { query } = this.state;\n\n    return (\n      <div className=\"layout-page-filters\">\n        {currentUser.isLoggedIn && !isSonarCloud() && (\n          <MyIssuesFilter\n            myIssues={this.state.myIssues}\n            onMyIssuesChange={this.handleMyIssuesChange}\n          />\n        )}\n        <FiltersHeader displayReset={this.isFiltered()} onReset={this.handleReset} />\n        <Sidebar\n          branchLike={branchLike}\n          component={component}\n          createdAfterIncludesTime={this.createdAfterIncludesTime()}\n          facets={this.state.facets}\n          loadSearchResultCount={this.loadSearchResultCount}\n          loadingFacets={this.state.loadingFacets}\n          myIssues={this.state.myIssues}\n          onFacetToggle={this.handleFacetToggle}\n          onFilterChange={this.handleFilterChange}\n          openFacets={this.state.openFacets}\n          query={query}\n          referencedComponentsById={this.state.referencedComponentsById}\n          referencedComponentsByKey={this.state.referencedComponentsByKey}\n          referencedLanguages={this.state.referencedLanguages}\n          referencedRules={this.state.referencedRules}\n          referencedUsers={this.state.referencedUsers}\n        />\n      </div>\n    );\n  }\n\n  renderConciseIssuesList() {\n    const { issues, loadingMore, paging, query } = this.state;\n\n    return (\n      <div className=\"layout-page-filters\">\n        <ConciseIssuesListHeader\n          displayBackButton={query.issues.length !== 1}\n          loading={this.state.loading}\n          onBackClick={this.closeIssue}\n          onReload={this.handleReloadAndOpenFirst}\n          paging={paging}\n          selectedIndex={this.getSelectedIndex()}\n        />\n        <ConciseIssuesList\n          issues={issues}\n          onFlowSelect={this.selectFlow}\n          onIssueSelect={this.openIssue}\n          onLocationSelect={this.selectLocation}\n          selected={this.state.selected}\n          selectedFlowIndex={this.state.selectedFlowIndex}\n          selectedLocationIndex={this.state.selectedLocationIndex}\n        />\n        {paging && paging.total > 0 && (\n          <ListFooter\n            count={issues.length}\n            loadMore={this.fetchMoreIssues}\n            loading={loadingMore}\n            total={paging.total}\n          />\n        )}\n      </div>\n    );\n  }\n\n  renderSide(openIssue: T.Issue | undefined) {\n    return (\n      <ScreenPositionHelper className=\"layout-page-side-outer\">\n        {({ top }) => (\n          <div className=\"layout-page-side\" style={{ top }}>\n            <div className=\"layout-page-side-inner\">\n              <A11ySkipTarget\n                anchor=\"issues_sidebar\"\n                label={\n                  openIssue ? translate('issues.skip_to_list') : translate('issues.skip_to_filters')\n                }\n                weight={10}\n              />\n              {openIssue ? this.renderConciseIssuesList() : this.renderFacets()}\n            </div>\n          </div>\n        )}\n      </ScreenPositionHelper>\n    );\n  }\n\n  renderList() {\n    const { branchLike, component, currentUser } = this.props;\n    const { issues, loading, loadingMore, openIssue, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    const selectedIssue = selectedIndex !== undefined ? issues[selectedIndex] : undefined;\n\n    if (!paging || openIssue) {\n      return null;\n    }\n\n    let noIssuesMessage = null;\n    if (paging.total === 0 && !loading) {\n      if (this.isFiltered()) {\n        noIssuesMessage = <EmptySearch />;\n      } else if (this.state.myIssues) {\n        noIssuesMessage = <NoMyIssues />;\n      } else {\n        noIssuesMessage = <NoIssues />;\n      }\n    }\n\n    return (\n      <div>\n        {paging.total > 0 && (\n          <IssuesList\n            branchLike={branchLike}\n            checked={this.state.checked}\n            component={component}\n            issues={issues}\n            onFilterChange={this.handleFilterChange}\n            onIssueChange={this.handleIssueChange}\n            onIssueCheck={currentUser.isLoggedIn ? this.handleIssueCheck : undefined}\n            onIssueClick={this.openIssue}\n            onPopupToggle={this.handlePopupToggle}\n            openPopup={this.state.openPopup}\n            selectedIssue={selectedIssue}\n          />\n        )}\n\n        {paging.total > 0 && (\n          <ListFooter\n            count={issues.length}\n            loadMore={this.fetchMoreIssues}\n            loading={loadingMore}\n            total={paging.total}\n          />\n        )}\n\n        {noIssuesMessage}\n      </div>\n    );\n  }\n\n  renderHeader({\n    openIssue,\n    paging,\n    selectedIndex\n  }: {\n    openIssue: T.Issue | undefined;\n    paging: T.Paging | undefined;\n    selectedIndex: number | undefined;\n  }) {\n    return openIssue ? (\n      <A11ySkipTarget anchor=\"issues_main\" />\n    ) : (\n      <div className=\"layout-page-header-panel layout-page-main-header issues-main-header\">\n        <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n          <div className=\"layout-page-main-inner\">\n            <A11ySkipTarget anchor=\"issues_main\" />\n\n            {this.renderBulkChange()}\n            <PageActions\n              canSetHome={!this.props.component}\n              effortTotal={this.state.effortTotal}\n              onReload={this.handleReload}\n              paging={paging}\n              selectedIndex={selectedIndex}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderPage() {\n    const { cannotShowOpenIssue, checkAll, issues, loading, openIssue, paging } = this.state;\n    return (\n      <div className=\"layout-page-main-inner\">\n        {openIssue ? (\n          <IssuesSourceViewer\n            branchLike={fillBranchLike(openIssue.branch, openIssue.pullRequest)}\n            issues={issues}\n            loadIssues={this.fetchIssuesForComponent}\n            locationsNavigator={this.state.locationsNavigator}\n            onIssueChange={this.handleIssueChange}\n            onIssueSelect={this.openIssue}\n            onLocationSelect={this.selectLocation}\n            openIssue={openIssue}\n            selectedFlowIndex={this.state.selectedFlowIndex}\n            selectedLocationIndex={this.state.selectedLocationIndex}\n          />\n        ) : (\n          <DeferredSpinner loading={loading}>\n            {checkAll && paging && paging.total > MAX_PAGE_SIZE && (\n              <Alert className=\"big-spacer-bottom\" variant=\"warning\">\n                <FormattedMessage\n                  defaultMessage={translate('issue_bulk_change.max_issues_reached')}\n                  id=\"issue_bulk_change.max_issues_reached\"\n                  values={{ max: <strong>{MAX_PAGE_SIZE}</strong> }}\n                />\n              </Alert>\n            )}\n            {cannotShowOpenIssue && (!paging || paging.total > 0) && (\n              <Alert className=\"big-spacer-bottom\" variant=\"warning\">\n                {translateWithParameters(\n                  'issues.cannot_open_issue_max_initial_X_fetched',\n                  MAX_INITAL_FETCH\n                )}\n              </Alert>\n            )}\n            {this.renderList()}\n          </DeferredSpinner>\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    const { openIssue, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    return (\n      <div className=\"layout-page issues\" id=\"issues-page\">\n        <Suggestions suggestions=\"issues\" />\n        <Helmet defer={false} title={openIssue ? openIssue.message : translate('issues.page')} />\n\n        {this.renderSide(openIssue)}\n\n        <div className=\"layout-page-main\">\n          {this.renderHeader({ openIssue, paging, selectedIndex })}\n\n          {this.renderPage()}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nvar qualifierIcons = {\n    app: ApplicationIcon,\n    brc: SubProjectIcon,\n    dev: DeveloperIcon,\n    dir: DirectoryIcon,\n    fil: FileIcon,\n    svw: SubPortfolioIcon,\n    trk: ProjectIcon,\n    uts: UnitTestIcon,\n    vw: PortfolioIcon,\n    cla: UnitTestIcon,\n    dev_prj: ProjectIcon,\n    lib: LibraryIcon,\n    pac: DirectoryIcon,\n};\nfunction QualifierIcon(props) {\n    if (!props.qualifier) {\n        return null;\n    }\n    var qualifier = props.qualifier.toLowerCase();\n    var FoundIcon = qualifierIcons[qualifier];\n    return FoundIcon ? React.createElement(FoundIcon, { className: props.className, fill: props.fill }) : null;\n}\nexports.default = QualifierIcon;\nfunction ApplicationIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction DeveloperIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction DirectoryIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\", style: { fill: fill || theme.colors.orange } }));\n    }));\n}\nfunction FileIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction LibraryIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction PortfolioIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction ProjectIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction SubPortfolioIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction SubProjectIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction UnitTestIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\n//# sourceMappingURL=QualifierIcon.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar measures_1 = require(\"../../helpers/measures\");\nvar DeferredSpinner_1 = require(\"../ui/DeferredSpinner\");\nvar buttons_1 = require(\"./buttons\");\nfunction ListFooter(props) {\n    var className = props.className, count = props.count, loading = props.loading, needReload = props.needReload, total = props.total, _a = props.ready, ready = _a === void 0 ? true : _a;\n    var hasMore = total && total > count;\n    var button;\n    if (needReload && props.reload) {\n        button = (React.createElement(buttons_1.Button, { className: \"spacer-left\", \"data-test\": \"reload\", disabled: loading, onClick: props.reload }, l10n_1.translate('reload')));\n    }\n    else if (hasMore && props.loadMore) {\n        button = (React.createElement(buttons_1.Button, { className: \"spacer-left\", disabled: loading, \"data-test\": \"show-more\", onClick: props.loadMore }, l10n_1.translate('show_more')));\n    }\n    return (React.createElement(\"footer\", { className: classNames('spacer-top note text-center', { 'new-loading': !ready }, className) },\n        l10n_1.translateWithParameters('x_of_y_shown', measures_1.formatMeasure(count, 'INT', null), measures_1.formatMeasure(total, 'INT', null)),\n        button,\n        loading && React.createElement(DeferredSpinner_1.default, { className: \"text-bottom spacer-left position-absolute\" })));\n}\nexports.default = ListFooter;\n//# sourceMappingURL=ListFooter.js.map","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { A11yContext } from './A11yContext';\n\ninterface Props {\n  anchor: string;\n  label?: string;\n  weight?: number;\n}\n\nexport default function A11ySkipTarget(props: Props) {\n  return (\n    <A11yContext.Consumer>\n      {({ addA11ySkipLink, removeA11ySkipLink }) => (\n        <A11ySkipTargetInner\n          addA11ySkipLink={addA11ySkipLink}\n          removeA11ySkipLink={removeA11ySkipLink}\n          {...props}\n        />\n      )}\n    </A11yContext.Consumer>\n  );\n}\n\ninterface InnerProps {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n}\n\nexport class A11ySkipTargetInner extends React.PureComponent<Props & InnerProps> {\n  componentDidMount() {\n    this.props.addA11ySkipLink(this.getLink());\n  }\n\n  componentWillUnmount() {\n    this.props.removeA11ySkipLink(this.getLink());\n  }\n\n  getLink = (): T.A11ySkipLink => {\n    const { anchor: key, label = translate('skip_to_content'), weight } = this.props;\n    return { key, label, weight };\n  };\n\n  render() {\n    const { anchor } = this.props;\n    return <span id={`a11y_target__${anchor}`} />;\n  }\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nrequire(\"./Radio.css\");\nvar Radio = (function (_super) {\n    __extends(Radio, _super);\n    function Radio() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            if (!_this.props.disabled) {\n                _this.props.onCheck(_this.props.value);\n            }\n        };\n        return _this;\n    }\n    Radio.prototype.render = function () {\n        var _a = this.props, className = _a.className, checked = _a.checked, children = _a.children, disabled = _a.disabled;\n        return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames('display-inline-flex-center link-radio', className, { disabled: disabled }), href: \"#\", onClick: this.handleClick, role: \"radio\" },\n            React.createElement(\"i\", { className: classNames('icon-radio', 'spacer-right', { 'is-checked': checked }) }),\n            children));\n    };\n    return Radio;\n}(React.PureComponent));\nexports.default = Radio;\n//# sourceMappingURL=Radio.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SeverityIcon from 'sonar-ui-common/components/icons/SeverityIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  severity: string;\n}\n\nexport default function SeverityHelper({ className, severity }: Props) {\n  if (!severity) {\n    return null;\n  }\n  return (\n    <span className={className}>\n      <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n      {translate('severity', severity)}\n    </span>\n  );\n}\n","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Radio.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".icon-radio{position:relative;display:inline-block;vertical-align:top;width:14px;height:14px;margin:1px;border:1px solid #cdcdcd;border-radius:12px;box-sizing:border-box;transition:border-color .3s ease;flex-shrink:0}.icon-radio:after{position:absolute;top:2px;left:2px;display:block;width:8px;height:8px;border-radius:8px;background-color:#236a97;content:\\\"\\\";opacity:0;transition:opacity .3s ease}.link-radio .icon-radio.is-checked:after{opacity:1}.link-radio{border-bottom:none}.link-radio,.link-radio:not(.disabled):active,.link-radio:not(.disabled):focus,.link-radio:not(.disabled):hover{color:inherit}.link-radio:not(.disabled):hover>.icon-radio{border-color:#4b9fd5}.link-radio.disabled,.link-radio.disabled:hover,.link-radio.disabled label{color:#bbb;cursor:not-allowed}.link-radio.disabled .icon-radio:after{background-color:#ebebeb}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ChevronDownIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\", style: { fill: fill } })));\n}\nexports.default = ChevronDownIcon;\n//# sourceMappingURL=ChevronDownIcon.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CLASS_SIDEBAR_PAGE = 'sidebar-page';\nvar CLASS_WHITE_PAGE = 'white-page';\nvar CLASS_NO_FOOTER_PAGE = 'no-footer-page';\nfunction addSideBarClass() {\n    toggleBodyClass(CLASS_SIDEBAR_PAGE, true);\n}\nexports.addSideBarClass = addSideBarClass;\nfunction addWhitePageClass() {\n    toggleBodyClass(CLASS_WHITE_PAGE, true);\n}\nexports.addWhitePageClass = addWhitePageClass;\nfunction addNoFooterPageClass() {\n    console.warn('DEPRECATED: addNoFooterPageClass() was deprecated.');\n    toggleBodyClass(CLASS_NO_FOOTER_PAGE, true);\n}\nexports.addNoFooterPageClass = addNoFooterPageClass;\nfunction removeSideBarClass() {\n    toggleBodyClass(CLASS_SIDEBAR_PAGE, false);\n}\nexports.removeSideBarClass = removeSideBarClass;\nfunction removeWhitePageClass() {\n    toggleBodyClass(CLASS_WHITE_PAGE, false);\n}\nexports.removeWhitePageClass = removeWhitePageClass;\nfunction removeNoFooterPageClass() {\n    console.warn('DEPRECATED: removeNoFooterPageClass() was deprecated.');\n    toggleBodyClass(CLASS_NO_FOOTER_PAGE, false);\n}\nexports.removeNoFooterPageClass = removeNoFooterPageClass;\nfunction toggleBodyClass(className, force) {\n    document.body.classList.toggle(className, force);\n    if (document.documentElement) {\n        document.documentElement.classList.toggle(className, force);\n    }\n}\n//# sourceMappingURL=pages.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { debounce } from 'lodash';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ChevronDownIcon_1 = require(\"./ChevronDownIcon\");\nvar ChevronRightIcon_1 = require(\"./ChevronRightIcon\");\nfunction OpenCloseIcon(_a) {\n    var open = _a.open, iconProps = __rest(_a, [\"open\"]);\n    return open ? React.createElement(ChevronDownIcon_1.default, __assign({}, iconProps)) : React.createElement(ChevronRightIcon_1.default, __assign({}, iconProps));\n}\nexports.default = OpenCloseIcon;\n//# sourceMappingURL=OpenCloseIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  property: string;\n}\n\nexport default function FacetBox(props: Props) {\n  return (\n    <div\n      className={classNames('search-navigator-facet-box', props.className)}\n      data-property={props.property}>\n      {props.children}\n    </div>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    basePickBy = require('./_basePickBy'),\n    getAllKeysIn = require('./_getAllKeysIn');\n\n/**\n * Creates an object composed of the `object` properties `predicate` returns\n * truthy for. The predicate is invoked with two arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Function} [predicate=_.identity] The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pickBy(object, _.isNumber);\n * // => { 'a': 1, 'c': 3 }\n */\nfunction pickBy(object, predicate) {\n  if (object == null) {\n    return {};\n  }\n  var props = arrayMap(getAllKeysIn(object), function(prop) {\n    return [prop];\n  });\n  predicate = baseIteratee(predicate);\n  return basePickBy(object, props, function(value, path) {\n    return predicate(value, path[0]);\n  });\n}\n\nmodule.exports = pickBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport OpenCloseIcon from 'sonar-ui-common/components/icons/OpenCloseIcon';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  fetching?: boolean;\n  helper?: string;\n  name: React.ReactNode;\n  onClear?: () => void;\n  onClick?: () => void;\n  open: boolean;\n  values?: string[];\n}\n\nexport default class FacetHeader extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  renderHelper() {\n    if (!this.props.helper) {\n      return null;\n    }\n    return <HelpTooltip className=\"spacer-left\" overlay={this.props.helper} />;\n  }\n\n  renderValueIndicator() {\n    const { values } = this.props;\n    if (!values || !values.length) {\n      return null;\n    }\n    const value =\n      values.length === 1 ? values[0] : translateWithParameters('x_selected', values.length);\n    return (\n      <span className=\"badge text-ellipsis\" title={value}>\n        {value}\n      </span>\n    );\n  }\n\n  render() {\n    const showClearButton =\n      this.props.values != null && this.props.values.length > 0 && this.props.onClear != null;\n\n    return (\n      <div className=\"search-navigator-facet-header-wrapper display-flex-center\">\n        {this.props.onClick ? (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            <a href=\"#\" onClick={this.handleClick}>\n              <OpenCloseIcon className=\"little-spacer-right\" open={this.props.open} />\n              {this.props.name}\n            </a>\n            {this.renderHelper()}\n          </span>\n        ) : (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            {this.props.name}\n            {this.renderHelper()}\n          </span>\n        )}\n\n        {this.props.children}\n\n        <span className=\"search-navigator-facet-header-value spacer-left spacer-right \">\n          {this.renderValueIndicator()}\n        </span>\n\n        {this.props.fetching && (\n          <span className=\"little-spacer-right\">\n            <DeferredSpinner />\n          </span>\n        )}\n\n        {showClearButton && (\n          <Button\n            className=\"search-navigator-facet-header-button button-small button-red\"\n            onClick={this.props.onClear}>\n            {translate('clear')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\nexport interface Props {\n  active?: boolean;\n  className?: string;\n  disabled?: boolean;\n  halfWidth?: boolean;\n  name: React.ReactNode;\n  onClick: (x: string, multiple?: boolean) => void;\n  stat?: React.ReactNode;\n  /** Textual version of `name` */\n  tooltip?: string;\n  value: string;\n}\n\nexport default class FacetItem extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    halfWidth: false,\n    loading: false\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.value, event.ctrlKey || event.metaKey);\n  };\n\n  renderValue() {\n    if (this.props.stat == null) {\n      return null;\n    }\n\n    return <span className=\"facet-stat\">{this.props.stat}</span>;\n  }\n\n  render() {\n    const { name } = this.props;\n    const className = classNames('search-navigator-facet', this.props.className, {\n      active: this.props.active,\n      'search-navigator-facet-half': this.props.halfWidth\n    });\n\n    return this.props.disabled ? (\n      <span className={className} data-facet={this.props.value} title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </span>\n    ) : (\n      <a\n        className={className}\n        data-facet={this.props.value}\n        href=\"#\"\n        onClick={this.handleClick}\n        title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n  title?: string;\n}\n\nexport default function FacetItemsList({ children, title }: Props) {\n  return (\n    <div className=\"search-navigator-facet-list\">\n      {title && <div className=\"search-navigator-facet-list-title\">{title}</div>}\n      {children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport DetachIcon from 'sonar-ui-common/components/icons/DetachIcon';\nimport { isWebUri } from 'valid-url';\n\nexport interface DocumentationTooltipProps {\n  children?: React.ReactNode;\n  className?: string;\n  content?: React.ReactNode;\n  links?: Array<{ href: string; label: string; inPlace?: boolean }>;\n  title?: string;\n}\n\nexport default function DocumentationTooltip(props: DocumentationTooltipProps) {\n  const { className, content, links, title } = props;\n\n  return (\n    <HelpTooltip\n      className={className}\n      overlay={\n        <div className=\"big-padded-top big-padded-bottom\">\n          {title && (\n            <div className=\"spacer-bottom\">\n              <strong>{title}</strong>\n            </div>\n          )}\n\n          {content && <p>{content}</p>}\n\n          {links && (\n            <>\n              <hr className=\"big-spacer-top big-spacer-bottom\" />\n\n              {links.map(({ href, label, inPlace }) => (\n                <div className=\"little-spacer-bottom\" key={label}>\n                  {inPlace ? (\n                    <Link to={href}>\n                      <span>{label}</span>\n                    </Link>\n                  ) : (\n                    <a\n                      className=\"display-inline-flex-center link-with-icon\"\n                      href={href}\n                      rel=\"noopener noreferrer\"\n                      target=\"_blank\">\n                      {isWebUri(href) && <DetachIcon size={14} className=\"spacer-right\" />}\n                      <span>{label}</span>\n                    </a>\n                  )}\n                </div>\n              ))}\n            </>\n          )}\n        </div>\n      }>\n      {props.children}\n    </HelpTooltip>\n  );\n}\n","var createRange = require('./_createRange');\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","var baseRange = require('./_baseRange'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nmodule.exports = createRange;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nmodule.exports = baseRange;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ChevronLeftIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M4.404 8.28l4.604 4.602a.382.382 0 0 0 .279.118c.108 0 .2-.04.279-.118l1.03-1.03a.382.382 0 0 0 .117-.278.382.382 0 0 0-.117-.28L7.3 8l3.295-3.294a.382.382 0 0 0 .117-.28.382.382 0 0 0-.117-.279l-1.03-1.03A.382.382 0 0 0 9.286 3a.382.382 0 0 0-.278.118L4.404 7.72A.382.382 0 0 0 4.287 8c0 .108.04.201.117.28z\", style: { fill: fill } })));\n}\nexports.default = ChevronLeftIcon;\n//# sourceMappingURL=ChevronLeftIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  className?: string;\n  count: number;\n  showMore: () => void;\n  showLess: (() => void) | undefined;\n  total: number;\n}\n\nexport default class ListStyleFacetFooter extends React.PureComponent<Props> {\n  handleShowMoreClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.showMore();\n  };\n\n  handleShowLessClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.showLess) {\n      this.props.showLess();\n    }\n  };\n\n  render() {\n    const { count, total } = this.props;\n    const hasMore = total > count;\n    const allShown = Boolean(total && total === count);\n\n    return (\n      <footer className=\"note spacer-top spacer-bottom text-center\">\n        {translateWithParameters('x_show', formatMeasure(count, 'INT', null))}\n\n        {hasMore && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowMoreClick}>\n            {translate('show_more')}\n          </a>\n        )}\n\n        {this.props.showLess && allShown && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowLessClick}>\n            {translate('show_less')}\n          </a>\n        )}\n      </footer>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { sortBy, without } from 'lodash';\nimport * as React from 'react';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { queriesEqual } from 'sonar-ui-common/helpers/query';\nimport FacetBox from './FacetBox';\nimport FacetHeader from './FacetHeader';\nimport FacetItem from './FacetItem';\nimport FacetItemsList from './FacetItemsList';\nimport ListStyleFacetFooter from './ListStyleFacetFooter';\nimport MultipleSelectionHint from './MultipleSelectionHint';\n\ninterface SearchResponse<S> {\n  maxResults?: boolean;\n  results: S[];\n  paging?: T.Paging;\n}\n\nexport interface Props<S> {\n  className?: string;\n  disabled?: boolean;\n  disabledHelper?: string;\n  facetHeader: string;\n  fetching: boolean;\n  getFacetItemText: (item: string) => string;\n  getSearchResultKey: (result: S) => string;\n  getSearchResultText: (result: S) => string;\n  loadSearchResultCount?: (result: S[]) => Promise<T.Dict<number>>;\n  maxInitialItems: number;\n  maxItems: number;\n  minSearchLength: number;\n  onChange: (changes: T.Dict<string | string[]>) => void;\n  onClear?: () => void;\n  onItemClick?: (itemValue: string, multiple: boolean) => void;\n  onSearch: (query: string, page?: number) => Promise<SearchResponse<S>>;\n  onToggle: (property: string) => void;\n  open: boolean;\n  property: string;\n  query?: T.RawQuery;\n  renderFacetItem: (item: string) => React.ReactNode;\n  renderSearchResult: (result: S, query: string) => React.ReactNode;\n  searchPlaceholder: string;\n  getSortedItems?: () => string[];\n  stats: T.Dict<number> | undefined;\n  values: string[];\n}\n\ninterface State<S> {\n  autoFocus: boolean;\n  query: string;\n  searching: boolean;\n  searchMaxResults?: boolean;\n  searchPaging?: T.Paging;\n  searchResults?: S[];\n  searchResultsCounts: T.Dict<number>;\n  showFullList: boolean;\n}\n\nexport default class ListStyleFacet<S> extends React.Component<Props<S>, State<S>> {\n  mounted = false;\n\n  static defaultProps = {\n    maxInitialItems: 15,\n    maxItems: 100,\n    minSearchLength: 2\n  };\n\n  state: State<S> = {\n    autoFocus: false,\n    query: '',\n    searching: false,\n    searchResultsCounts: {},\n    showFullList: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(prevProps: Props<S>) {\n    if (!prevProps.open && this.props.open) {\n      // focus search field *only* if it was manually open\n      this.setState({ autoFocus: true });\n    } else if (\n      (prevProps.open && !this.props.open) ||\n      !queriesEqual(prevProps.query || {}, this.props.query || {})\n    ) {\n      // reset state when closing the facet, or when query changes\n      this.setState({\n        query: '',\n        searchMaxResults: undefined,\n        searchResults: undefined,\n        searching: false,\n        searchResultsCounts: {},\n        showFullList: false\n      });\n    } else if (\n      prevProps.stats !== this.props.stats &&\n      Object.keys(this.props.stats || {}).length < this.props.maxInitialItems\n    ) {\n      // show limited list if `stats` changed and there are less than 15 items\n      this.setState({ showFullList: false });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    if (this.props.onItemClick) {\n      this.props.onItemClick(itemValue, multiple);\n    } else {\n      const { values } = this.props;\n      if (multiple) {\n        const newValue = sortBy(\n          values.includes(itemValue) ? without(values, itemValue) : [...values, itemValue]\n        );\n        this.props.onChange({ [this.props.property]: newValue });\n      } else {\n        this.props.onChange({\n          [this.props.property]: values.includes(itemValue) && values.length < 2 ? [] : [itemValue]\n        });\n      }\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.props.property);\n  };\n\n  handleClear = () => {\n    if (this.props.onClear) {\n      this.props.onClear();\n    } else {\n      this.props.onChange({ [this.props.property]: [] });\n    }\n  };\n\n  stopSearching = () => {\n    if (this.mounted) {\n      this.setState({ searching: false });\n    }\n  };\n\n  search = (query: string) => {\n    if (query.length >= this.props.minSearchLength) {\n      this.setState({ query, searching: true });\n      this.props\n        .onSearch(query)\n        .then(this.loadCountsForSearchResults)\n        .then(({ maxResults, paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchMaxResults: maxResults,\n              searchResults: results,\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    } else {\n      this.setState({ query, searching: false, searchResults: [] });\n    }\n  };\n\n  searchMore = () => {\n    const { query, searchPaging, searchResults } = this.state;\n    if (query && searchResults && searchPaging) {\n      this.setState({ searching: true });\n      this.props\n        .onSearch(query, searchPaging.pageIndex + 1)\n        .then(this.loadCountsForSearchResults)\n        .then(({ paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchResults: [...searchResults, ...results],\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    }\n  };\n\n  loadCountsForSearchResults = (response: SearchResponse<S>) => {\n    const { loadSearchResultCount = () => Promise.resolve({}) } = this.props;\n    const resultsToLoad = response.results.filter(result => {\n      const key = this.props.getSearchResultKey(result);\n      return this.getStat(key) === undefined && this.state.searchResultsCounts[key] === undefined;\n    });\n    if (resultsToLoad.length > 0) {\n      return loadSearchResultCount(resultsToLoad).then(stats => ({ ...response, stats }));\n    } else {\n      return { ...response, stats: {} };\n    }\n  };\n\n  getStat(item: string) {\n    const { stats } = this.props;\n    return stats && stats[item] !== undefined ? stats && stats[item] : undefined;\n  }\n\n  showFullList = () => {\n    this.setState({ showFullList: true });\n  };\n\n  hideFullList = () => {\n    this.setState({ showFullList: false });\n  };\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const sortedItems = this.props.getSortedItems\n      ? this.props.getSortedItems()\n      : sortBy(\n          Object.keys(stats),\n          key => -stats[key],\n          key => this.props.getFacetItemText(key)\n        );\n\n    const limitedList = this.state.showFullList\n      ? sortedItems\n      : sortedItems.slice(0, this.props.maxInitialItems);\n\n    // make sure all selected items are displayed\n    const selectedBelowLimit = this.state.showFullList\n      ? []\n      : sortedItems\n          .slice(this.props.maxInitialItems)\n          .filter(item => this.props.values.includes(item));\n\n    const mightHaveMoreResults = sortedItems.length >= this.props.maxItems;\n\n    return (\n      <>\n        <FacetItemsList>\n          {limitedList.map(item => (\n            <FacetItem\n              active={this.props.values.includes(item)}\n              key={item}\n              name={this.props.renderFacetItem(item)}\n              onClick={this.handleItemClick}\n              stat={formatFacetStat(this.getStat(item))}\n              tooltip={this.props.getFacetItemText(item)}\n              value={item}\n            />\n          ))}\n        </FacetItemsList>\n        {selectedBelowLimit.length > 0 && (\n          <>\n            <div className=\"note spacer-bottom text-center\"></div>\n            <FacetItemsList>\n              {selectedBelowLimit.map(item => (\n                <FacetItem\n                  active={true}\n                  key={item}\n                  name={this.props.renderFacetItem(item)}\n                  onClick={this.handleItemClick}\n                  stat={formatFacetStat(this.getStat(item))}\n                  tooltip={this.props.getFacetItemText(item)}\n                  value={item}\n                />\n              ))}\n            </FacetItemsList>\n          </>\n        )}\n        <ListStyleFacetFooter\n          count={limitedList.length + selectedBelowLimit.length}\n          showLess={this.state.showFullList ? this.hideFullList : undefined}\n          showMore={this.showFullList}\n          total={sortedItems.length}\n        />\n        {mightHaveMoreResults && this.state.showFullList && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n      </>\n    );\n  }\n\n  renderSearch() {\n    return (\n      <SearchBox\n        autoFocus={this.state.autoFocus}\n        className=\"little-spacer-top spacer-bottom\"\n        loading={this.state.searching}\n        minLength={this.props.minSearchLength}\n        onChange={this.search}\n        placeholder={this.props.searchPlaceholder}\n        value={this.state.query}\n      />\n    );\n  }\n\n  renderSearchResults() {\n    const { searching, searchMaxResults, searchResults, searchPaging } = this.state;\n\n    if (!searching && (!searchResults || !searchResults.length)) {\n      return <div className=\"note spacer-bottom\">{translate('no_results')}</div>;\n    }\n\n    if (!searchResults) {\n      // initial search\n      return null;\n    }\n\n    return (\n      <>\n        <FacetItemsList>\n          {searchResults.map(result => this.renderSearchResult(result))}\n        </FacetItemsList>\n        {searchMaxResults && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n        {searchPaging && (\n          <ListFooter\n            className=\"spacer-bottom\"\n            count={searchResults.length}\n            loadMore={this.searchMore}\n            ready={!searching}\n            total={searchPaging.total}\n          />\n        )}\n      </>\n    );\n  }\n\n  renderSearchResult(result: S) {\n    const key = this.props.getSearchResultKey(result);\n    const active = this.props.values.includes(key);\n    const stat = this.getStat(key) || this.state.searchResultsCounts[key];\n    return (\n      <FacetItem\n        active={active}\n        key={key}\n        name={this.props.renderSearchResult(result, this.state.query)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.props.getSearchResultText(result)}\n        value={key}\n      />\n    );\n  }\n\n  render() {\n    const { disabled, stats = {} } = this.props;\n    const { query, searching, searchResults } = this.state;\n    const values = this.props.values.map(item => this.props.getFacetItemText(item));\n    const loadingResults =\n      query !== '' && searching && (searchResults === undefined || searchResults.length === 0);\n    const showList = !query || loadingResults;\n    return (\n      <FacetBox\n        className={classNames(this.props.className, {\n          'search-navigator-facet-box-forbidden': disabled\n        })}\n        property={this.props.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={\n            <Tooltip overlay={disabled ? this.props.disabledHelper : undefined}>\n              <span>{this.props.facetHeader}</span>\n            </Tooltip>\n          }\n          onClear={this.handleClear}\n          onClick={disabled ? undefined : this.handleHeaderClick}\n          open={this.props.open && !disabled}\n          values={values}\n        />\n\n        {this.props.open && !disabled && (\n          <>\n            {this.renderSearch()}\n            {showList ? this.renderList() : this.renderSearchResults()}\n            <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n\nfunction formatFacetStat(stat: number | undefined) {\n  return stat && formatMeasure(stat, 'SHORT_INT');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface MultiSelectOptionProps {\n  active?: boolean;\n  custom?: boolean;\n  disabled?: boolean;\n  element: string;\n  onHover: (element: string) => void;\n  onSelectChange: (selected: boolean, element: string) => void;\n  renderLabel: (element: string) => React.ReactNode;\n  selected?: boolean;\n}\n\nexport default function MultiSelectOption(props: MultiSelectOptionProps) {\n  const { active, custom, disabled, element, selected } = props;\n  const onHover = () => props.onHover(element);\n  const className = classNames({ active, disabled });\n  const label = props.renderLabel(element);\n\n  return (\n    <li onFocus={onHover} onMouseOver={onHover}>\n      <Checkbox\n        checked={Boolean(selected)}\n        className={className}\n        disabled={disabled}\n        id={element}\n        onCheck={props.onSelectChange}>\n        {custom ? (\n          <span\n            aria-label={`${translate('create_new_element')}: ${label}`}\n            className=\"little-spacer-left\">\n            <span aria-hidden={true} className=\"little-spacer-right\">\n              +\n            </span>\n            {label}\n          </span>\n        ) : (\n          <span className=\"little-spacer-left\">{label}</span>\n        )}\n      </Checkbox>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { difference } from 'lodash';\nimport * as React from 'react';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelectOption from './MultiSelectOption';\n\ninterface Props {\n  allowNewElements?: boolean;\n  allowSelection?: boolean;\n  elements: string[];\n  filterSelected?: (query: string, selectedElements: string[]) => string[];\n  footerNode?: React.ReactNode;\n  listSize?: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  placeholder: string;\n  renderLabel?: (element: string) => React.ReactNode;\n  selectedElements: string[];\n  validateSearchInput?: (value: string) => string;\n}\n\ninterface State {\n  activeIdx: number;\n  loading: boolean;\n  query: string;\n  selectedElements: string[];\n  unselectedElements: string[];\n}\n\ninterface DefaultProps {\n  filterSelected: (query: string, selectedElements: string[]) => string[];\n  listSize: number;\n  renderLabel: (element: string) => React.ReactNode;\n  validateSearchInput: (value: string) => string;\n}\n\ntype PropsWithDefault = Props & DefaultProps;\n\nexport default class MultiSelect extends React.PureComponent<Props, State> {\n  container?: HTMLDivElement | null;\n  searchInput?: HTMLInputElement | null;\n  mounted = false;\n\n  static defaultProps: DefaultProps = {\n    filterSelected: (query: string, selectedElements: string[]) =>\n      selectedElements.filter(elem => elem.includes(query)),\n    listSize: 0,\n    renderLabel: (element: string) => element,\n    validateSearchInput: (value: string) => value\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      activeIdx: 0,\n      loading: true,\n      query: '',\n      selectedElements: [],\n      unselectedElements: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.onSearchQuery('');\n    this.updateSelectedElements(this.props as PropsWithDefault);\n    this.updateUnselectedElements(this.props as PropsWithDefault);\n    if (this.container) {\n      this.container.addEventListener('keydown', this.handleKeyboard, true);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: PropsWithDefault) {\n    if (\n      this.props.elements !== nextProps.elements ||\n      this.props.selectedElements !== nextProps.selectedElements\n    ) {\n      this.updateSelectedElements(nextProps);\n      this.updateUnselectedElements(nextProps);\n\n      const totalElements = this.getAllElements(nextProps, this.state).length;\n      if (this.state.activeIdx >= totalElements) {\n        this.setState({ activeIdx: totalElements - 1 });\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.searchInput) {\n      this.searchInput.focus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    if (this.container) {\n      this.container.removeEventListener('keydown', this.handleKeyboard);\n    }\n  }\n\n  handleSelectChange = (selected: boolean, item: string) => {\n    if (selected) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  handleSearchChange = (value: string) => {\n    this.onSearchQuery((this.props as PropsWithDefault).validateSearchInput(value));\n  };\n\n  handleElementHover = (element: string) => {\n    this.setState((prevState, props) => {\n      return { activeIdx: this.getAllElements(props, prevState).indexOf(element) };\n    });\n  };\n\n  handleKeyboard = (evt: KeyboardEvent) => {\n    switch (evt.keyCode) {\n      case 40: // down\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectNextElement);\n        break;\n      case 38: // up\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectPreviousElement);\n        break;\n      case 37: // left\n      case 39: // right\n        evt.stopPropagation();\n        break;\n      case 13: // enter\n        if (this.state.activeIdx >= 0) {\n          this.toggleSelect(this.getAllElements(this.props, this.state)[this.state.activeIdx]);\n        }\n        break;\n    }\n  };\n\n  onSearchQuery = (query: string) => {\n    this.setState({ activeIdx: 0, loading: true, query });\n    this.props.onSearch(query).then(this.stopLoading, this.stopLoading);\n  };\n\n  onSelectItem = (item: string) => {\n    if (this.isNewElement(item, this.props)) {\n      this.onSearchQuery('');\n    }\n    this.props.onSelect(item);\n  };\n\n  onUnselectItem = (item: string) => this.props.onUnselect(item);\n\n  isNewElement = (elem: string, { selectedElements, elements }: Props) =>\n    elem.length > 0 && selectedElements.indexOf(elem) === -1 && elements.indexOf(elem) === -1;\n\n  updateSelectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (state.query) {\n        return {\n          selectedElements: props.filterSelected(state.query, props.selectedElements)\n        };\n      } else {\n        return { selectedElements: [...props.selectedElements] };\n      }\n    });\n  };\n\n  updateUnselectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (props.listSize === 0) {\n        return { unselectedElements: difference(props.elements, props.selectedElements) };\n      } else if (props.listSize < state.selectedElements.length) {\n        return { unselectedElements: [] };\n      } else {\n        return {\n          unselectedElements: difference(props.elements, props.selectedElements).slice(\n            0,\n            props.listSize - state.selectedElements.length\n          )\n        };\n      }\n    });\n  };\n\n  getAllElements = (props: Props, state: State) => {\n    if (this.isNewElement(state.query, props)) {\n      return [...state.selectedElements, ...state.unselectedElements, state.query];\n    } else {\n      return [...state.selectedElements, ...state.unselectedElements];\n    }\n  };\n\n  setElementActive = (idx: number) => this.setState({ activeIdx: idx });\n\n  selectNextElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx < 0 || activeIdx >= allElements.length - 1) {\n      return { activeIdx: 0 };\n    } else {\n      return { activeIdx: activeIdx + 1 };\n    }\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx <= 0) {\n      const lastIdx = allElements.length - 1;\n      return { activeIdx: lastIdx };\n    } else {\n      return { activeIdx: activeIdx - 1 };\n    }\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  toggleSelect = (item: string) => {\n    if (this.props.selectedElements.indexOf(item) === -1) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  render() {\n    const { allowSelection = true, allowNewElements = true, footerNode = '' } = this.props;\n    const { renderLabel } = this.props as PropsWithDefault;\n    const { query, activeIdx, selectedElements, unselectedElements } = this.state;\n    const activeElement = this.getAllElements(this.props, this.state)[activeIdx];\n    const showNewElement = allowNewElements && this.isNewElement(query, this.props);\n    const infiniteList = this.props.listSize === 0;\n    const listClasses = classNames('menu', {\n      'menu-vertically-limited': infiniteList,\n      'spacer-top': infiniteList,\n      'with-top-separator': infiniteList,\n      'with-bottom-separator': Boolean(footerNode)\n    });\n\n    return (\n      <div className=\"multi-select\" ref={div => (this.container = div)}>\n        <div className=\"menu-search\">\n          <SearchBox\n            autoFocus={true}\n            className=\"little-spacer-top\"\n            loading={this.state.loading}\n            onChange={this.handleSearchChange}\n            placeholder={this.props.placeholder}\n            value={query}\n          />\n        </div>\n        <ul className={listClasses}>\n          {selectedElements.length > 0 &&\n            selectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n                selected={true}\n              />\n            ))}\n          {unselectedElements.length > 0 &&\n            unselectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                disabled={!allowSelection}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n              />\n            ))}\n          {showNewElement && (\n            <MultiSelectOption\n              active={activeElement === query}\n              custom={true}\n              element={query}\n              key={query}\n              onHover={this.handleElementHover}\n              onSelectChange={this.handleSelectChange}\n              renderLabel={renderLabel}\n            />\n          )}\n          {!showNewElement && selectedElements.length < 1 && unselectedElements.length < 1 && (\n            <li className=\"spacer-left\">{translateWithParameters('no_results_for_x', query)}</li>\n          )}\n        </ul>\n        {footerNode}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport './TagsList.css';\n\ninterface Props {\n  allowUpdate?: boolean;\n  className?: string;\n  tags: string[];\n}\n\nexport default function TagsList({ allowUpdate = false, className, tags }: Props) {\n  return (\n    <span\n      aria-label={translateWithParameters('tags_list_x', tags.join(', '))}\n      className={classNames('tags-list', className)}>\n      <TagsIcon className=\"text-middle\" />\n      <span aria-hidden={true} className=\"text-ellipsis text-middle\" title={tags.join(', ')}>\n        {tags.join(', ')}\n      </span>\n      {allowUpdate && <DropdownIcon className=\"text-middle\" />}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getFormattingHelpUrl } from '../../helpers/urls';\n\ninterface Props {\n  className?: string;\n}\n\nexport default class FormattingTips extends React.PureComponent<Props> {\n  handleClick(evt: React.SyntheticEvent<HTMLAnchorElement>) {\n    evt.preventDefault();\n    window.open(\n      getFormattingHelpUrl(),\n      'Formatting',\n      'height=300,width=600,scrollbars=1,resizable=1'\n    );\n  }\n\n  render() {\n    return (\n      <div className={classNames('markdown-tips', this.props.className)}>\n        <a className=\"little-spacer-right\" href=\"#\" onClick={this.handleClick}>\n          {translate('formatting.helplink')}\n        </a>\n        {':'}\n        <span className=\"spacer-left\">*{translate('bold')}*</span>\n        <span className=\"spacer-left\">\n          ``\n          {translate('code')}\n          ``\n        </span>\n        <span className=\"spacer-left\">* {translate('bulleted_point')}</span>\n      </div>\n    );\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nfunction highlightTerm(str, term) {\n    var pos = str.toLowerCase().indexOf(term.toLowerCase());\n    return pos !== -1 ? (React.createElement(React.Fragment, null,\n        pos > 0 && str.substring(0, pos),\n        React.createElement(\"mark\", null, str.substr(pos, term.length)),\n        pos + term.length < str.length && str.substring(pos + term.length))) : (str);\n}\nexports.highlightTerm = highlightTerm;\n//# sourceMappingURL=search.js.map","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".tags-list{white-space:nowrap;line-height:16px}.tags-list i:before{font-size:12px}.tags-list span{display:inline-block;vertical-align:middle;text-align:left;max-width:220px;padding-left:4px;padding-right:4px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as addMonths from 'date-fns/add_months';\nimport * as setMonth from 'date-fns/set_month';\nimport * as setYear from 'date-fns/set_year';\nimport * as subMonths from 'date-fns/sub_months';\nimport { range } from 'lodash';\nimport * as React from 'react';\nimport { DayModifiers, Modifier, Modifiers } from 'react-day-picker';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport { ButtonIcon, ClearButton } from 'sonar-ui-common/components/controls/buttons';\nimport OutsideClickHandler from 'sonar-ui-common/components/controls/OutsideClickHandler';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport CalendarIcon from 'sonar-ui-common/components/icons/CalendarIcon';\nimport ChevronLeftIcon from 'sonar-ui-common/components/icons/ChevronLeftIcon';\nimport ChevronRightIcon from 'sonar-ui-common/components/icons/ChevronRightIcon';\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\nimport {\n  getShortMonthName,\n  getShortWeekDayName,\n  getWeekDayName\n} from 'sonar-ui-common/helpers/l10n';\nimport './DayPicker.css';\nimport './styles.css';\n\nconst DayPicker = lazyLoadComponent(() => import('react-day-picker'), 'DayPicker');\n\ninterface Props {\n  className?: string;\n  currentMonth?: Date;\n  highlightFrom?: Date;\n  highlightTo?: Date;\n  inputClassName?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  name?: string;\n  onChange: (date: Date | undefined) => void;\n  placeholder: string;\n  value?: Date;\n}\n\ninterface State {\n  currentMonth: Date;\n  open: boolean;\n  lastHovered?: Date;\n}\n\ntype Week = [string, string, string, string, string, string, string];\n\nexport default class DateInput extends React.PureComponent<Props, State> {\n  input?: HTMLInputElement | null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { currentMonth: props.value || props.currentMonth || new Date(), open: false };\n  }\n\n  focus = () => {\n    if (this.input) {\n      this.input.focus();\n    }\n    this.openCalendar();\n  };\n\n  handleResetClick = () => {\n    this.closeCalendar();\n    this.props.onChange(undefined);\n  };\n\n  openCalendar = () => {\n    this.setState({\n      currentMonth: this.props.value || this.props.currentMonth || new Date(),\n      lastHovered: undefined,\n      open: true\n    });\n  };\n\n  closeCalendar = () => {\n    this.setState({ open: false });\n  };\n\n  handleDayClick = (day: Date, modifiers: DayModifiers) => {\n    if (!modifiers.disabled) {\n      this.closeCalendar();\n      this.props.onChange(day);\n    }\n  };\n\n  handleDayMouseEnter = (day: Date, modifiers: DayModifiers) => {\n    this.setState({ lastHovered: modifiers.disabled ? undefined : day });\n  };\n\n  handleCurrentMonthChange = ({ value }: { value: number }) => {\n    this.setState((state: State) => ({ currentMonth: setMonth(state.currentMonth, value) }));\n  };\n\n  handleCurrentYearChange = ({ value }: { value: number }) => {\n    this.setState(state => ({ currentMonth: setYear(state.currentMonth, value) }));\n  };\n\n  handlePreviousMonthClick = () => {\n    this.setState(state => ({ currentMonth: subMonths(state.currentMonth, 1) }));\n  };\n\n  handleNextMonthClick = () => {\n    this.setState(state => ({ currentMonth: addMonths(state.currentMonth, 1) }));\n  };\n\n  render() {\n    const { highlightFrom, highlightTo, minDate, value } = this.props;\n    const { lastHovered } = this.state;\n\n    const after = this.props.maxDate || new Date();\n\n    const months = range(12);\n    const years = range(new Date().getFullYear() - 10, new Date().getFullYear() + 1);\n\n    const selectedDays: Modifier[] = value ? [value] : [];\n    let modifiers: Partial<Modifiers> | undefined;\n    const lastHoveredOrValue = lastHovered || value;\n\n    if (highlightFrom && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: highlightFrom, to: lastHoveredOrValue } };\n      selectedDays.push(highlightFrom);\n    }\n    if (highlightTo && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: lastHoveredOrValue, to: highlightTo } };\n      selectedDays.push(highlightTo);\n    }\n\n    const weekdaysLong = range(7).map(getWeekDayName) as Week;\n    const weekdaysShort = range(7).map(getShortWeekDayName) as Week;\n\n    return (\n      <OutsideClickHandler onClickOutside={this.closeCalendar}>\n        <span className={classNames('date-input-control', this.props.className)}>\n          <InputWrapper\n            className={classNames('date-input-control-input', this.props.inputClassName, {\n              'is-filled': this.props.value !== undefined\n            })}\n            innerRef={node => (this.input = node)}\n            name={this.props.name}\n            onFocus={this.openCalendar}\n            placeholder={this.props.placeholder}\n            readOnly={true}\n            type=\"text\"\n            value={value}\n          />\n          <CalendarIcon className=\"date-input-control-icon\" fill=\"\" />\n          {this.props.value !== undefined && (\n            <ClearButton\n              className=\"button-tiny date-input-control-reset\"\n              iconProps={{ size: 12 }}\n              onClick={this.handleResetClick}\n            />\n          )}\n          {this.state.open && (\n            <div className=\"date-input-calendar\">\n              <nav className=\"date-input-calendar-nav\">\n                <ButtonIcon className=\"button-small\" onClick={this.handlePreviousMonthClick}>\n                  <ChevronLeftIcon />\n                </ButtonIcon>\n                <div className=\"date-input-calender-month\">\n                  <Select\n                    className=\"date-input-calender-month-select\"\n                    onChange={this.handleCurrentMonthChange}\n                    options={months.map(month => ({\n                      label: getShortMonthName(month),\n                      value: month\n                    }))}\n                    value={this.state.currentMonth.getMonth()}\n                  />\n                  <Select\n                    className=\"date-input-calender-month-select spacer-left\"\n                    onChange={this.handleCurrentYearChange}\n                    options={years.map(year => ({ label: String(year), value: year }))}\n                    value={this.state.currentMonth.getFullYear()}\n                  />\n                </div>\n                <ButtonIcon className=\"button-small\" onClick={this.handleNextMonthClick}>\n                  <ChevronRightIcon />\n                </ButtonIcon>\n              </nav>\n              <DayPicker\n                captionElement={<NullComponent />}\n                disabledDays={{ after, before: minDate }}\n                firstDayOfWeek={1}\n                modifiers={modifiers}\n                month={this.state.currentMonth}\n                navbarElement={<NullComponent />}\n                onDayClick={this.handleDayClick}\n                onDayMouseEnter={this.handleDayMouseEnter}\n                selectedDays={selectedDays}\n                weekdaysLong={weekdaysLong}\n                weekdaysShort={weekdaysShort}\n              />\n            </div>\n          )}\n        </span>\n      </OutsideClickHandler>\n    );\n  }\n}\n\nfunction NullComponent() {\n  return null;\n}\n\ntype InputWrapperProps = T.Omit<React.InputHTMLAttributes<HTMLInputElement>, 'value'> &\n  InjectedIntlProps & {\n    innerRef: React.Ref<HTMLInputElement>;\n    value: Date | undefined;\n  };\n\nconst InputWrapper = injectIntl(({ innerRef, intl, value, ...other }: InputWrapperProps) => {\n  const formattedValue =\n    value && intl.formatDate(value, { year: 'numeric', month: 'short', day: 'numeric' });\n  return <input {...other} ref={innerRef} value={formattedValue || ''} />;\n});\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction CalendarIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M2 14h2.25v-2.25H2V14zm2.75 0h2.5v-2.25h-2.5V14zM2 11.25h2.25v-2.5H2v2.5zm2.75 0h2.5v-2.5h-2.5v2.5zM2 8.25h2.25V6H2v2.25zM7.75 14h2.5v-2.25h-2.5V14zm-3-5.75h2.5V6h-2.5v2.25zm6 5.75H13v-2.25h-2.25V14zm-3-2.75h2.5v-2.5h-2.5v2.5zM5 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 4.75 2h-.5a.24.24 0 0 0-.176.074A.24.24 0 0 0 4 2.25V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 5 4.5zm5.75 6.75H13v-2.5h-2.25v2.5zm-3-3h2.5V6h-2.5v2.25zm3 0H13V6h-2.25v2.25zM11 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 10.75 2h-.5a.24.24 0 0 0-.176.074.24.24 0 0 0-.074.176V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 11 4.5zm3-.5v10c0 .27-.099.505-.297.703A.961.961 0 0 1 13 15H2a.961.961 0 0 1-.703-.297A.961.961 0 0 1 1 14V4c0-.27.099-.505.297-.703A.961.961 0 0 1 2 3h1v-.75c0-.344.122-.638.367-.883S3.907 1 4.25 1h.5c.344 0 .638.122.883.367S6 1.907 6 2.25V3h3v-.75c0-.344.122-.638.367-.883S9.907 1 10.25 1h.5c.344 0 .638.122.883.367s.367.54.367.883V3h1c.27 0 .505.099.703.297A.961.961 0 0 1 14 4z\", style: { fill: fill } })));\n}\nexports.default = CalendarIcon;\n//# sourceMappingURL=CalendarIcon.js.map","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DayPicker.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none;padding-bottom:8px;flex-direction:row}.DayPicker-Months{display:flex;flex-wrap:wrap;justify-content:center}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;margin:8px 8px 0}.DayPicker-Weekdays{display:table-header-group}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:8px;font-size:12px;text-align:center;color:#999}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day{display:table-cell;line-height:15px;padding:8px;text-align:center;cursor:pointer;vertical-align:top;outline:none}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:8px}.DayPicker-Day--today{font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#cdcdcd;cursor:not-allowed}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#4b9fd5;color:#fff}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--highlighted):not(.DayPicker-Day--outside):hover{background-color:#f3f3f3}.DayPicker-Day--highlighted:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside){background-color:#cae3f2}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".date-input-control{position:relative;display:inline-block;cursor:pointer}.date-input-control-input{width:130px;padding-left:24px!important;cursor:pointer}.date-input-control-input.is-filled{padding-right:16px!important}.date-input-control-icon{position:absolute;top:4px;left:4px}.date-input-control-icon path{fill:#cdcdcd;transition:fill .3s ease}.date-input-control-input:focus+.date-input-control-icon path{fill:#4b9fd5}.date-input-control-reset{position:absolute;top:4px;right:4px;border:none}.date-input-calendar{position:absolute;z-index:7500;top:100%;left:0;border:1px solid #e6e6e6;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.date-input-calendar-nav{display:flex;justify-content:space-between;align-items:center;padding-top:8px;padding-left:8px;padding-right:8px}.date-input-calender-month-select{width:70px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport './MultipleSelectionHint.css';\n\ninterface Props {\n  options: number;\n  values: number;\n}\n\nexport default function MultipleSelectionHint({ options, values }: Props) {\n  // do not render if nothing is selected or there are less than 2 possible options\n  if (values === 0 || options < 2) {\n    return null;\n  }\n\n  return (\n    <div className=\"multiple-selection-hint\">\n      <div className=\"multiple-selection-hint-inner\">\n        {translate(\n          isOnMac()\n            ? 'shortcuts.section.global.facets.multiselection.mac'\n            : 'shortcuts.section.global.facets.multiselection'\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction isOnMac() {\n  return navigator.userAgent.indexOf('Mac OS X') !== -1;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelect from '../common/MultiSelect';\nimport './TagsList.css';\n\ninterface Props {\n  listSize: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  selectedTags: string[];\n  tags: string[];\n}\n\nexport default function TagsSelector(props: Props) {\n  return (\n    <MultiSelect\n      elements={props.tags}\n      listSize={props.listSize}\n      onSearch={props.onSearch}\n      onSelect={props.onSelect}\n      onUnselect={props.onUnselect}\n      placeholder={translate('search.search_for_tags')}\n      selectedElements={props.selectedTags}\n      validateSearchInput={validateTag}\n    />\n  );\n}\n\nexport function validateTag(value: string) {\n  // Allow only a-z, 0-9, '+', '-', '#', '.'\n  return value.toLowerCase().replace(/[^-a-z0-9+#.]/gi, '');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './LocationIndex.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  leading?: boolean;\n  onClick?: () => void;\n  selected?: boolean;\n  [x: string]: any;\n}\n\nexport default function LocationIndex(props: Props) {\n  const { children, leading, onClick, selected, ...other } = props;\n  const clickAttributes = onClick ? { onClick, role: 'button', tabIndex: 0 } : {};\n  // put {...others} because Tooltip sets some event handlers\n  return (\n    <div\n      className={classNames('location-index', {\n        'is-leading': leading,\n        selected\n      })}\n      {...clickAttributes}\n      {...other}>\n      {children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport StatusIcon from 'sonar-ui-common/components/icons/StatusIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  resolution: string | undefined;\n  status: string;\n}\n\nexport default function StatusHelper(props: Props) {\n  const resolution = props.resolution && ` (${translate('issue.resolution', props.resolution)})`;\n  return (\n    <span className={props.className}>\n      <StatusIcon className=\"little-spacer-right\" status={props.status} />\n      {translate('issue.status', props.status)}\n      {resolution}\n    </span>\n  );\n}\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".search-navigator.sticky .search-navigator-workspace-header{position:fixed;z-index:50;top:0;left:300px;right:0}.search-navigator.sticky .search-navigator-workspace-details,.search-navigator.sticky .search-navigator-workspace-list{padding-top:43px}.search-navigator-facet-box{background-color:#f3f3f3;font-size:13px}.search-navigator-facet-box.leak-facet-box{background-color:#fbf3d5;border:1px solid #f1e8cb}.search-navigator-facet-box.is-inner{margin-left:8px;padding-left:12px;border-left:1px solid #e6e6e6}.search-navigator-facet-box.is-inner .search-navigator-facet-header{padding-top:6px;padding-bottom:6px}.leak-facet-box:not(.hidden)+.leak-facet-box{border-top:none}.search-navigator-facet-box-forbidden{background-color:transparent;opacity:.5}.search-navigator-facet-box-forbidden .search-navigator-facet-container,.search-navigator-facet-box-forbidden .search-navigator-facet-empty,.search-navigator-facet-box-forbidden .search-navigator-facet-list{display:none}.search-navigator-facet-box-forbidden .search-navigator-facet-header{color:#777}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#4b9fd5}.search-navigator-facet-box-forbidden .search-navigator-facet-header{cursor:default}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#777}.search-navigator-facet{position:relative;display:inline-flex;justify-content:space-between;align-items:center;width:100%;height:24px;margin:0 0 1px;padding:0 6px;border:1px solid transparent;border-radius:2px;box-sizing:border-box;white-space:normal;opacity:.3;cursor:not-allowed;transition:none}a.search-navigator-facet{opacity:1;cursor:pointer}a.search-navigator-facet .facet-name{color:#444}.search-navigator-facet.active,a.search-navigator-facet:focus,a.search-navigator-facet:hover{border-color:#4b9fd5}.search-navigator-facet.facet-category{opacity:1;cursor:default}.search-navigator-facet.facet-category .facet-name{color:#777}.search-navigator-facet .facet-name{flex:1 1 auto;min-width:0;line-height:16px;padding:1px 0;color:#777;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.search-navigator-facet .facet-stat{display:flex;align-items:center;margin-left:8px;color:#777;font-size:12px}.search-navigator-facet .facet-toggle{display:none;float:left;height:16px;line-height:16px;margin-top:-1px;padding:0 5px;border-radius:2px;font-size:11px;text-transform:lowercase}.search-navigator-facet .facet-toggle:hover{color:#444}.search-navigator-facet .facet-toggle-active.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet .facet-toggle-active.facet-toggle-red{background-color:#d4333f;color:#fff}.leak-facet-box .search-navigator-facet .facet-name,.leak-facet-box .search-navigator-facet .facet-stat{background-color:#fbf3d5}.leak-facet-box .search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,rgba(251,243,213,0),#fbf3d5 75%)}.search-navigator-facet.active{background-color:#cae3f2;text-decoration:none}.search-navigator-facet.active .facet-toggle{display:inline}.search-navigator-facet.compare .facet-toggle{cursor:not-allowed;opacity:.5}.search-navigator-facet.compare .facet-toggle.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet.compare .facet-toggle.facet-toggle-red{background-color:transparent;color:#777}.search-navigator-facet-half{width:45%}.search-navigator-facet-half:nth-child(odd){margin-right:10%}.search-navigator-facet-highlight-under-container{margin-bottom:1px}.search-navigator-facet-highlight-under-container .search-navigator-facet{margin-bottom:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover{border-bottom:none;padding-bottom:1px;border-radius:2px 2px 0 0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet{border-top:none;border-bottom:none;border-left-color:#4b9fd5;border-right-color:#4b9fd5;border-radius:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:0 0 2px 2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet{background-color:#cae3f2;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet.active{border-top:1px solid #4b9fd5}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet{background-color:#a1cde8;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-toggle,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-header{display:block;flex-shrink:0;padding:8px 0;color:#444;font-weight:600;overflow:hidden;white-space:nowrap}.search-navigator-facet-header>a{border-bottom:none;color:#444}.search-navigator-facet-header>a:focus,.search-navigator-facet-header>a:hover{color:#4b9fd5}.search-navigator-facet-header>.note{font-weight:400}.search-navigator-facet-header-value{display:block;overflow:hidden}.search-navigator-facet-header-value>.badge{display:block}.search-navigator-facet-header-button{flex-shrink:0;margin-left:auto}.search-navigator-facet-header-wrapper{display:flex;align-items:center}.search-navigator-facet-list{padding-bottom:8px;font-size:0}.search-navigator-facet-list-title{margin:0 8px 4px;font-size:12px;font-weight:700}.search-navigator-facet-list+.search-navigator-facet-list>.search-navigator-facet-list-title{border-top:1px solid #e6e6e6;padding-top:8px}.search-navigator-facet-empty{margin:0;padding:0 10px 10px;color:#444;font-size:12px;white-space:nowrap}.search-navigator-facet-footer{display:block;padding-bottom:8px;border-bottom:none}.search-navigator-facet-container{margin-top:6px;padding:0 10px 16px}.search-navigator-date-facet-selection{position:relative;padding-left:8px;font-size:12px}.search-navigator-date-facet-selection:after,.search-navigator-date-facet-selection:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-date-facet-selection:after{clear:both}.search-navigator-date-facet-selection .date-input-control-input{width:115px!important}.search-navigator-date-facet-selection-dropdown-left{float:left;border-bottom:none}.search-navigator-date-facet-selection-dropdown-right{float:right;border-bottom:none}.search-navigator-date-facet-selection-input-left{position:absolute;left:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection-input-right{position:absolute;right:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection .date-input-control:not(:first-of-type) .date-input-calendar{left:auto;right:0}.search-navigator-filters{position:relative;padding:5px 10px;background-color:#f3f3f3}.search-navigator-filters:after,.search-navigator-filters:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-filters:after{clear:both}.search-navigator-filters-header{margin-bottom:12px;padding-bottom:11px;border-bottom:1px solid #e6e6e6}.search-navigator-intro{width:500px;margin:0 auto;padding-top:100px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Standards } from '../types/security';\n\nexport function getStandards(): Promise<Standards> {\n  return import('./standards.json').then(x => x.default);\n}\n\nexport function renderCWECategory(standards: Standards, category: string): string {\n  const record = standards.cwe[category];\n  if (!record) {\n    return `CWE-${category}`;\n  } else if (category === 'unknown') {\n    return record.title;\n  } else {\n    return `CWE-${category} - ${record.title}`;\n  }\n}\n\nexport function renderOwaspTop10Category(\n  standards: Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.owaspTop10[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'OWASP', withPrefix);\n  } else {\n    return addPrefix(`${category.toUpperCase()} - ${record.title}`, 'OWASP', withPrefix);\n  }\n}\n\nexport function renderSansTop25Category(\n  standards: Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sansTop25[category];\n  return addPrefix(record ? record.title : category, 'SANS', withPrefix);\n}\n\nexport function renderSonarSourceSecurityCategory(\n  standards: Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sonarsourceSecurity[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'SONAR', withPrefix);\n  } else if (category === 'others') {\n    return record.title;\n  } else {\n    return addPrefix(record.title, 'SONAR', withPrefix);\n  }\n}\n\nfunction addPrefix(title: string, prefix: string, withPrefix: boolean) {\n  return withPrefix ? `${prefix} ${title}` : title;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\n\nconst SourceViewer = lazyLoadComponent(\n  () => import(/* webpackPrefetch: true */ './SourceViewerBase'),\n  'SourceViewer'\n);\nexport default SourceViewer;\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport HomeIcon from 'sonar-ui-common/components/icons/HomeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isLoggedIn } from '../../helpers/users';\nimport { getCurrentUser, Store } from '../../store/rootReducer';\nimport { setHomePage } from '../../store/users';\n\ninterface StateProps {\n  currentUser: T.CurrentUser;\n}\n\ninterface DispatchProps {\n  setHomePage: (homepage: T.HomePage) => void;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  className?: string;\n  currentPage: T.HomePage;\n}\n\nexport const DEFAULT_HOMEPAGE: T.HomePage = { type: 'PROJECTS' };\n\nexport class HomePageSelect extends React.PureComponent<Props> {\n  handleClick = () => {\n    this.props.setHomePage(this.props.currentPage);\n  };\n\n  handleReset = () => {\n    this.props.setHomePage(DEFAULT_HOMEPAGE);\n  };\n\n  render() {\n    const { currentPage, currentUser } = this.props;\n\n    if (!isLoggedIn(currentUser)) {\n      return null;\n    }\n\n    const { homepage } = currentUser;\n    const isChecked = homepage !== undefined && isSameHomePage(homepage, currentPage);\n    const isDefault = isChecked && isSameHomePage(currentPage, DEFAULT_HOMEPAGE);\n    const tooltip = isChecked\n      ? translate(isDefault ? 'homepage.current.is_default' : 'homepage.current')\n      : translate('homepage.check');\n\n    return (\n      <Tooltip overlay={tooltip}>\n        {isDefault ? (\n          <span\n            aria-label={tooltip}\n            className={classNames('display-inline-block', this.props.className)}>\n            <HomeIcon filled={isChecked} />\n          </span>\n        ) : (\n          <ButtonLink\n            aria-label={tooltip}\n            className={classNames('link-no-underline', 'set-homepage-link', this.props.className)}\n            onClick={isChecked ? this.handleReset : this.handleClick}>\n            <HomeIcon filled={isChecked} />\n          </ButtonLink>\n        )}\n      </Tooltip>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  currentUser: getCurrentUser(state)\n});\n\nconst mapDispatchToProps: DispatchProps = { setHomePage };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePageSelect);\n\nfunction isSameHomePage(a: T.HomePage, b: T.HomePage) {\n  return (\n    a.type === b.type &&\n    (a as any).branch === (b as any).branch &&\n    (a as any).component === (b as any).component\n  );\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar theme_1 = require(\"../theme\");\nvar Icon_1 = require(\"./Icon\");\nfunction HomeIcon(_a) {\n    var className = _a.className, fill = _a.fill, _b = _a.filled, filled = _b === void 0 ? false : _b, iconProps = __rest(_a, [\"className\", \"fill\", \"filled\"]);\n    return (React.createElement(theme_1.ThemeConsumer, null, function (theme) { return (React.createElement(Icon_1.default, __assign({ className: classNames(className, 'icon-outline', { 'is-filled': filled }), style: { color: fill || theme.colors.orange } }, iconProps),\n        React.createElement(\"g\", { transform: \"matrix(0.870918,0,0,0.870918,0.978227,0.978227)\" },\n            React.createElement(\"path\", { d: \"M15.9,7.8L8.2,0.1C8.1,0 7.9,0 7.8,0.1L0.1,7.8C0,7.9 0,8.1 0.1,8.2C0.2,8.3 0.2,8.3 0.3,8.3L2.2,8.3L2.2,15.8C2.2,15.9 2.2,15.9 2.3,16C2.3,16 2.4,16.1 2.5,16.1L6.2,16.1C6.3,16.1 6.5,16 6.5,15.8L6.5,10.5L9.7,10.5L9.7,15.8C9.7,15.9 9.8,16.1 10,16.1L13.7,16.1C13.8,16.1 14,16 14,15.8L14,8.2L15.9,8.2C16,8.2 16,8.2 16.1,8.1C16,8 16.1,7.9 15.9,7.8Z\" })))); }));\n}\nexports.default = HomeIcon;\n//# sourceMappingURL=HomeIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport DateInput from './DateInput';\n\ntype DateRange = { from?: Date; to?: Date };\n\ninterface Props {\n  className?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  onChange: (date: DateRange) => void;\n  value?: DateRange;\n}\n\nexport default class DateRangeInput extends React.PureComponent<Props> {\n  toDateInput?: DateInput | null;\n\n  get from() {\n    return this.props.value && this.props.value.from;\n  }\n\n  get to() {\n    return this.props.value && this.props.value.to;\n  }\n\n  handleFromChange = (from: Date | undefined) => {\n    this.props.onChange({ from, to: this.to });\n\n    // use `setTimeout` to work around the immediate closing of the `toDateInput`\n    setTimeout(() => {\n      if (from && !this.to && this.toDateInput) {\n        this.toDateInput.focus();\n      }\n    }, 0);\n  };\n\n  handleToChange = (to: Date | undefined) => {\n    this.props.onChange({ from: this.from, to });\n  };\n\n  render() {\n    return (\n      <div className={classNames('display-inline-flex-center', this.props.className)}>\n        <DateInput\n          currentMonth={this.to}\n          data-test=\"from\"\n          highlightTo={this.to}\n          maxDate={this.to}\n          onChange={this.handleFromChange}\n          placeholder={translate('start_date')}\n          value={this.from}\n        />\n        <span className=\"note little-spacer-left little-spacer-right\">{translate('to_')}</span>\n        <DateInput\n          currentMonth={this.from}\n          data-test=\"to\"\n          highlightFrom={this.from}\n          minDate={this.from}\n          onChange={this.handleToChange}\n          placeholder={translate('end_date')}\n          ref={element => (this.toDateInput = element)}\n          value={this.to}\n        />\n      </div>\n    );\n  }\n}\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar lodash_1 = require(\"lodash\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar Select_1 = require(\"./Select\");\nvar SearchSelect = (function (_super) {\n    __extends(SearchSelect, _super);\n    function SearchSelect(props) {\n        var _this = _super.call(this, props) || this;\n        _this.mounted = false;\n        _this.handleSearch = function (query) {\n            var currentQuery = query;\n            _this.props.onSearch(currentQuery).then(function (options) {\n                if (_this.mounted) {\n                    _this.setState(function (state) { return ({\n                        loading: false,\n                        options: state.query === currentQuery ? options : state.options,\n                    }); });\n                }\n            }, function () {\n                if (_this.mounted) {\n                    _this.setState({ loading: false });\n                }\n            });\n        };\n        _this.handleChange = function (option) {\n            if (Array.isArray(option)) {\n                if (_this.props.onMultiSelect) {\n                    _this.props.onMultiSelect(option);\n                }\n            }\n            else if (_this.props.onSelect) {\n                _this.props.onSelect(option);\n            }\n        };\n        _this.handleInputChange = function (query) {\n            if (query.length >= _this.minimumQueryLength) {\n                _this.setState({ loading: true, query: query });\n                _this.handleSearch(query);\n            }\n            else {\n                var options = (query.length === 0 && _this.props.defaultOptions) || [];\n                _this.setState({ options: options, query: query });\n            }\n        };\n        _this.handleFilterOption = function () { return true; };\n        _this.state = { loading: false, options: props.defaultOptions || [], query: '' };\n        _this.handleSearch = lodash_1.debounce(_this.handleSearch, 250);\n        return _this;\n    }\n    SearchSelect.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    SearchSelect.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    Object.defineProperty(SearchSelect.prototype, \"autofocus\", {\n        get: function () {\n            return this.props.autofocus !== undefined ? this.props.autofocus : true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SearchSelect.prototype, \"minimumQueryLength\", {\n        get: function () {\n            return this.props.minimumQueryLength !== undefined ? this.props.minimumQueryLength : 2;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SearchSelect.prototype, \"resetOnBlur\", {\n        get: function () {\n            return this.props.resetOnBlur !== undefined ? this.props.resetOnBlur : true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SearchSelect.prototype.render = function () {\n        var Component = this.props.canCreate ? Select_1.Creatable : Select_1.default;\n        return (React.createElement(Component, { autoFocus: this.autofocus, className: this.props.className, clearable: this.props.clearable, escapeClearsValue: false, filterOption: this.handleFilterOption, isLoading: this.state.loading, multi: this.props.multi, noResultsText: this.state.query.length < this.minimumQueryLength\n                ? l10n_1.translateWithParameters('select2.tooShort', this.minimumQueryLength)\n                : l10n_1.translate('select2.noMatches'), onBlurResetsInput: this.resetOnBlur, onChange: this.handleChange, onInputChange: this.handleInputChange, optionRenderer: this.props.renderOption, options: this.state.options, placeholder: l10n_1.translate('search_verb'), promptTextCreator: this.props.promptTextCreator, searchable: true, value: this.props.value, valueRenderer: this.props.renderOption }));\n    };\n    return SearchSelect;\n}(React.PureComponent));\nexports.default = SearchSelect;\n//# sourceMappingURL=SearchSelect.js.map"],"sourceRoot":""}