{"version":3,"sources":["webpack:///./src/main/js/apps/quality-profiles/home/EvolutionDeprecated.tsx","webpack:///./src/main/js/apps/quality-profiles/home/EvolutionRules.tsx","webpack:///./src/main/js/apps/quality-profiles/home/EvolutionStagnant.tsx","webpack:///./src/main/js/apps/quality-profiles/home/Evolution.tsx","webpack:///./src/main/js/apps/quality-profiles/home/CreateProfileForm.tsx","webpack:///./src/main/js/apps/quality-profiles/home/RestoreProfileForm.tsx","webpack:///./src/main/js/apps/quality-profiles/home/PageHeader.tsx","webpack:///./src/main/js/apps/quality-profiles/home/ProfilesListHeader.tsx","webpack:///./src/main/js/apps/quality-profiles/home/ProfilesListRow.tsx","webpack:///./src/main/js/apps/quality-profiles/home/ProfilesList.tsx","webpack:///./src/main/js/apps/quality-profiles/home/HomeContainer.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/HelpTooltip.js","webpack:///./node_modules/sonar-ui-common/components/controls/HelpTooltip.css?2512","webpack:///./node_modules/sonar-ui-common/components/controls/HelpTooltip.css","webpack:///./node_modules/sonar-ui-common/components/intl/DateFormatter.js","webpack:///./node_modules/lodash/groupBy.js"],"names":["getDeprecatedRulesInheritanceChain","profile","profilesWithDeprecations","rules","count","activeDeprecatedRuleCount","parentKey","parentProfile","find","p","key","parentRules","length","reduce","n","rule","concat","push","from","renderInheritedInfo","map","className","name","render","this","props","profiles","filter","sortedProfiles","ProfileLink","language","languageName","to","qprofile","parseRules","actives","activations","mounted","state","startDate","Date","setFullYear","getFullYear","periodStartDate","componentDidMount","loadLatestRules","componentWillUnmount","data","asc","available_since","f","ps","s","then","total","setState","latestRules","latestRulesTotal","newRulesUrl","rule_key","langName","EvolutionStagnant","outdated","isBuiltIn","rulesUpdatedAt","date","long","formattedDate","Evolution","importers","loading","preloading","handleNameChange","event","currentTarget","value","handleLanguageChange","option","handleParentChange","parent","undefined","handleFormSubmit","preventDefault","FormData","onCreate","fetchImporters","header","languageQueryFilter","location","query","languages","selectedLanguage","importer","includes","languageProfiles","label","contentLabel","onRequestClose","onClose","size","id","onSubmit","htmlFor","autoFocus","maxLength","onChange","required","type","clearable","options","l","disabled","onClick","response","ruleFailures","ruleSuccesses","onRestore","renderAlert","Alert","variant","createFormOpen","restoreFormOpen","handleCreateClick","handleCreate","updateProfiles","router","closeCreateForm","handleRestoreClick","closeRestoreForm","actions","create","target","pathname","withRouter","handleChange","replace","currentFilter","currentLanguage","offset","depth","activeRulesUrl","activation","deprecatedRulesUrl","statuses","style","paddingLeft","BuiltInQualityProfileBadge","isDefault","overlay","projectCount","activeRuleCount","lastUsed","ProfileActions","fromList","renderLanguage","languageKey","renderHeader","renderProfiles","profilesCount","languagesToShow","profilesIndex","profilesToShow","Object","keys","HomeContainer","__assign","assign","t","i","arguments","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","defineProperty","exports","classNames","React","HelpIcon_1","theme_1","Tooltip_1","HelpTooltip","_a","_b","createElement","default","mouseLeaveDelay","onShow","placement","children","ThemeConsumer","theme","fill","colors","gray71","DarkHelpTooltip","transparentBlack","fillInner","white","api","content","__esModule","module","exported","locals","___CSS_LOADER_API_IMPORT___","react_intl_1","dates_1","formatterOption","year","month","day","longFormatterOption","FormattedDate","parseDate","baseAssignValue","createAggregator","groupBy","result"],"mappings":"8hBAoCA,uE,OACE,EAAAA,mCAAqC,SAACC,EAAkBC,GACtD,IAAIC,EAA8B,GAC9BC,EAAQH,EAAQI,0BAEpB,GAAc,IAAVD,EACF,OAAOD,EAGT,GAAIF,EAAQK,UAAW,CACrB,IAAMC,EAAgBL,EAAyBM,MAAK,SAAAC,GAAK,OAAAA,EAAEC,MAAQT,EAAV,aACzD,GAAIM,EAAe,CACjB,IAAMI,EAAc,EAAKX,mCACvBO,EACAL,GAEES,EAAYC,SACdR,GAASO,EAAYE,QAAO,SAACC,EAAGC,GAAS,OAAAD,EAAIC,EAAJ,QAAgB,GACzDZ,EAAQA,EAAMa,OAAOL,KAY3B,OAPIP,EAAQ,GACVD,EAAMc,KAAK,CACTb,MAAK,EACLc,KAAMjB,IAIHE,GAGT,EAAAgB,oBAAsB,SAAClB,EAAkBC,GACvC,IAAMC,EAAQ,EAAKH,mCAAmCC,EAASC,GAC/D,OAAIC,EAAMS,OAEN,gCACGT,EAAMiB,KAAI,SAAAL,GACT,OAAIA,EAAKG,KAAKR,MAAQT,EAAQS,IACrB,KAIP,uBAAKW,UAAU,QAAQX,IAAKK,EAAKG,KAAKR,KACnC,IACA,kCACC,sDACAK,EAAKX,MACLW,EAAKG,KAAKI,WAQjB,M,EAuDX,OAhHiD,OA4D/C,YAAAC,OAAA,sBACQrB,EAA2BsB,KAAKC,MAAMC,SAASC,QACnD,SAAA1B,GAAW,OAAAA,EAAQI,0BAAR,KAGb,GAAwC,IAApCH,EAAyBU,OAC3B,OAAO,KAGT,IAAMgB,EAAiB,IAAO1B,GAA0B,SAAAO,GAAK,OAACA,EAAD,6BAE7D,OACE,uBAAKY,UAAU,uEACb,uBAAKA,UAAU,iBACb,8BAAS,oBAAU,uCAErB,uBAAKA,UAAU,iBACZ,kCACC,wDACAnB,EAAyBU,SAG7B,0BACGgB,EAAeR,KAAI,SAAAnB,GAAW,OAC7B,sBAAIoB,UAAU,aAAaX,IAAKT,EAAQS,KACtC,uBAAKW,UAAU,iBACb,gBAACQ,EAAA,EAAW,CACVR,UAAU,oBACVS,SAAU7B,EAAQ6B,SAClBR,KAAMrB,EAAQqB,MACbrB,EAAQqB,OAGb,uBAAKD,UAAU,QACZpB,EAAQ8B,aACR,KACD,gBAAC,IAAI,CACHV,UAAU,aACVW,GAAI,YAA4B,CAAEC,SAAUhC,EAAQS,OACnD,kCACC,0BACAT,EAAQI,4BAGX,EAAKc,oBAAoBlB,EArBD,WA6BzC,EAhHA,CAAiD,iB,2kBCNjD,SAASiC,EAAW/B,EAAiBgC,GACnC,OAAOhC,EAAMiB,KAAI,SAAAL,GACf,IAAMqB,EAAcD,GAAWA,EAAQpB,EAAKL,KAC5C,cAAYK,GAAI,CAAEqB,YAAaA,EAAcA,EAAYxB,OAAS,OAatE,I,EAAA,YAIE,WAAYa,GAAZ,MACE,YAAMA,IAAM,KAHd,EAAAY,SAAU,EAIR,EAAKC,MAAQ,GACb,IAAMC,EAAY,IAAIC,K,OACtBD,EAAUE,YAAYF,EAAUG,cAAgB,GAChD,EAAKC,gBAAkB,gCAAsBJ,G,EAkFjD,OA3F4C,OAY1C,YAAAK,kBAAA,WACEpB,KAAKa,SAAU,EACfb,KAAKqB,mBAGP,YAAAC,qBAAA,WACEtB,KAAKa,SAAU,GAGjB,YAAAQ,gBAAA,sBACQE,EAAO,CACXC,KAAK,EACLC,gBAAiBzB,KAAKmB,gBACtBO,EAAG,wBACHC,GA5Cc,GA6CdC,EAAG,aAGL,YAAYL,GAAMM,MAChB,SAAC,G,IAAElB,EAAO,UAAEhC,EAAK,QAAEmD,EAAK,QAClB,EAAKjB,SACP,EAAKkB,SAAS,CACZC,YAAa,IAAOtB,EAAW/B,EAAOgC,GAAU,YAChDsB,iBAAkBH,OAIxB,gBAMJ,YAAA/B,OAAA,WACE,IAAKC,KAAKc,MAAMmB,mBAAqBjC,KAAKc,MAAMkB,YAC9C,OAAO,KAGT,IAAME,EAAc,YAAY,CAAET,gBAAiBzB,KAAKmB,kBAExD,OACE,uBAAKtB,UAAU,kEACb,uBAAKA,UAAU,YACb,0BAAQA,UAAU,aAAa,oBAAU,uCAE3C,0BACGG,KAAKc,MAAMkB,YAAYpC,KAAI,SAAAL,GAAQ,OAClC,sBAAIM,UAAU,aAAaX,IAAKK,EAAKL,KACnC,uBAAKW,UAAU,iBACb,gBAAC,IAAI,CAACA,UAAU,oBAAoBW,GAAI,YAAY,CAAE2B,SAAU5C,EAAKL,OAClE,IACAK,EAAKO,MAER,uBAAKD,UAAU,QACZN,EAAKqB,YACF,kCACE,8CACArB,EAAK6C,SACL7C,EAAKqB,aAEP,kCACE,kDACArB,EAhBsB,iBAuBrCS,KAAKc,MAAMmB,iBAnGA,IAoGV,uBAAKpC,UAAU,cACb,gBAAC,IAAI,CAACA,UAAU,QAAQW,GAAI0B,GACzB,oBAAU,W,IAAa,wBAAclC,KAAKc,MAAMmB,iBAAkB,YAAa,UAO9F,EA3FA,CAA4C,iB,2BChB9B,SAAUI,EAAkBpC,GACxC,IAAMqC,EAAWrC,EAAMC,SAASC,QAAO,SAAA1B,GAAW,OAACA,EAAQ8D,WAAa,YAAtB,MAElD,OAAwB,IAApBD,EAASlD,OACJ,KAIP,uBAAKS,UAAU,qEACb,uBAAKA,UAAU,iBACb,8BAAS,oBAAU,wCAErB,uBAAKA,UAAU,iBACZ,oBAAU,gDAEb,0BACGyC,EAAS1C,KAAI,SAAAnB,GAAW,OACvB,sBAAIoB,UAAU,aAAaX,IAAKT,EAAQS,KACtC,uBAAKW,UAAU,iBACb,gBAACQ,EAAA,EAAW,CACVR,UAAU,oBACVS,SAAU7B,EAAQ6B,SAClBR,KAAMrB,EAAQqB,MACbrB,EAAQqB,OAGZrB,EAAQ+D,gBACP,gBAAC,IAAa,CAACC,KAAMhE,EAAQ+D,eAAgBE,MAAM,IAChD,SAAAC,GAAiB,OAChB,uBAAK9C,UAAU,QACZ,kCACC,kCACApB,EAAQ8B,aAJI,aC7BpB,SAAUqC,EAAU,G,IAAE1C,EAAQ,WAC1C,OACE,uBAAKL,UAAU,8BACb,gBAAC,EAAmB,CAACK,SAAUA,IAC/B,gBAACmC,EAAiB,CAACnC,SAAUA,IAC7B,gBAAC,EAAc,O,67DCiBrB,uE,OACE,EAAAW,SAAU,EACV,EAAAC,MAAe,CAAE+B,UAAW,GAAIC,SAAS,EAAOhD,KAAM,GAAIiD,YAAY,GA0BtE,EAAAC,iBAAmB,SAACC,GAClB,EAAKlB,SAAS,CAAEjC,KAAMmD,EAAMC,cAAcC,SAG5C,EAAAC,qBAAuB,SAACC,GACtB,EAAKtB,SAAS,CAAEzB,SAAU+C,EAAOF,SAGnC,EAAAG,mBAAqB,SAACD,GACpB,EAAKtB,SAAS,CAAEwB,OAAQF,EAASA,EAAOF,WAAQK,KAGlD,EAAAC,iBAAmB,SAAOR,GAA4C,qC,mEACpEA,EAAMS,iBAEN1D,KAAK+B,SAAS,CAAEe,SAAS,IAEnBvB,EAAO,IAAIoC,SAASV,EAAMC,e,iBAGV,O,sBAAA,GAAM,YAAqB3B,I,cAAvC9C,EAAY,SAAL,SAETM,EAAgBiB,KAAKC,MAAMC,SAASlB,MAAK,SAAAC,GAAK,OAAAA,EAAEC,MAAQ,EAAK4B,MAAf,WAElD,GAAM,YAAoBrC,EAASM,IADjC,M,OACF,S,wBAGFiB,KAAKC,MAAM2D,SAASnF,G,oBAEhBuB,KAAKa,SACPb,KAAK+B,SAAS,CAAEe,SAAS,I,+BAiIjC,OA3L+C,OAI7C,YAAA1B,kBAAA,WACEpB,KAAKa,SAAU,EACfb,KAAK6D,kBAGP,YAAAvC,qBAAA,WACEtB,KAAKa,SAAU,GAGjB,YAAAgD,eAAA,sBACE,cAAehC,MACb,SAAAgB,GACM,EAAKhC,SACP,EAAKkB,SAAS,CAAEc,UAAS,EAAEE,YAAY,OAG3C,WACM,EAAKlC,SACP,EAAKkB,SAAS,CAAEgB,YAAY,QAyCpC,YAAAhD,OAAA,WACE,IAAM+D,EAAS,oBAAU,gCACnBC,EAAsB,gCAAsB/D,KAAKC,MAAM+D,SAASC,MAAM3D,UACtE4D,EAAY,IAAOlE,KAAKC,MAAMiE,UAAW,QAC3ChE,EAAoD,GAElDiE,EAAmBnE,KAAKc,MAAMR,UAAYyD,GAAuBG,EAAU,GAAGhF,IAC9E2D,EAAY7C,KAAKc,MAAM+B,UAAU1C,QAAO,SAAAiE,GAC5C,OAAAA,EAASF,UAAUG,SAASF,MAG9B,GAAIA,EAAkB,CACpB,IAAMG,EAAmBtE,KAAKC,MAAMC,SAASC,QAAO,SAAAlB,GAAK,OAAAA,EAAEqB,WAAF,KACzDJ,EAAW,EAAH,CACN,CAAEqE,MAAO,oBAAU,QAASpB,MAAO,KAChC,IAAOmB,EAAkB,QAAQ1E,KAAI,SAAAnB,GAAW,MAAC,CAClD8F,MAAO9F,EAAQ8D,UACR9D,EAAQqB,KAAI,KAAK,oBAAU,6BAA4B,IAC1DrB,EAAQqB,KACZqD,MAAO1E,EAAQS,SAKrB,OACE,gBAAC,IAAK,CAACsF,aAAcV,EAAQW,eAAgBzE,KAAKC,MAAMyE,QAASC,KAAK,SACpE,wBAAMC,GAAG,sBAAsBC,SAAU7E,KAAKyD,kBAC5C,uBAAK5D,UAAU,cACb,0BAAKiE,IAGN9D,KAAKc,MAAMiC,WACV,uBAAKlD,UAAU,cACb,qBAAGA,UAAU,aAGf,uBAAKA,UAAU,cACb,uBAAKA,UAAU,eACb,yBAAOiF,QAAQ,uBACZ,oBAAU,QACX,sBAAIjF,UAAU,aAAW,MAE3B,yBACEkF,WAAW,EACXH,GAAG,sBACHI,UAAW,IACXlF,KAAK,OACLmF,SAAUjF,KAAKgD,iBACfkC,UAAU,EACVP,KAAM,GACNQ,KAAK,OACLhC,MAAOnD,KAAKc,MAAMhB,QAGtB,uBAAKD,UAAU,eACb,yBAAOiF,QAAQ,2BACZ,oBAAU,YACX,sBAAIjF,UAAU,aAAW,MAE3B,gBAAC,IAAM,CACLuF,WAAW,EACXR,GAAG,0BACH9E,KAAK,WACLmF,SAAUjF,KAAKoD,qBACfiC,QAASnB,EAAUtE,KAAI,SAAA0F,GAAK,MAAC,CAC3Bf,MAAOe,EAAExF,KACTqD,MAAOmC,EAAEpG,QAEXiE,MAAOgB,KAGVA,GAAoBjE,EAASd,QAC5B,uBAAKS,UAAU,eACb,yBAAOiF,QAAQ,yBACZ,oBAAU,4BAEb,gBAAC,IAAM,CACLM,WAAW,EACXR,GAAG,wBACH9E,KAAK,YACLmF,SAAUjF,KAAKsD,mBACf+B,QAASnF,EACTiD,MAAOnD,KAAKc,MAAMyC,QAAU,MAIjCV,EAAUjD,KAAI,SAAAwE,GAAY,OACzB,uBACEvE,UAAU,wCAAuC,WACvCuE,EAASlF,IACnBA,IAAKkF,EAASlF,KACd,yBAAO4F,QAAS,8BAAgCV,EAASlF,KACtDkF,EAAStE,MAEZ,yBACE8E,GAAI,8BAAgCR,EAASlF,IAC7CY,KAAM,UAAYsE,EAASlF,IAC3BiG,KAAK,SAEP,qBAAGtF,UAAU,QACV,oBAdoB,qDAmB3B,yBAAOC,KAAK,aAAaqF,KAAK,SAAShC,MAAM,MAIjD,uBAAKtD,UAAU,cACZG,KAAKc,MAAMgC,SAAW,qBAAGjD,UAAU,0BAClCG,KAAKc,MAAMiC,YACX,gBAAC,eAAY,CAACwC,SAAUvF,KAAKc,MAAMgC,QAAS8B,GAAG,yBAC5C,oBAAU,WAGf,gBAAC,kBAAe,CAACA,GAAG,wBAAwBY,QAASxF,KAAKC,MAAMyE,SAC7D,oBAAU,eAOzB,EA3LA,CAA+C,iB,mWCb/C,uE,OACE,EAAA7D,SAAU,EACV,EAAAC,MAAe,CAAEgC,SAAS,GAU1B,EAAAW,iBAAmB,SAACR,GAClBA,EAAMS,iBAEN,EAAK3B,SAAS,CAAEe,SAAS,IAEzB,IAAMvB,EAAO,IAAIoC,SAASV,EAAMC,eAEhC,YAAsB3B,GAAMM,MAC1B,SAAC4D,GACK,EAAK5E,SACP,EAAKkB,SAAS,CACZe,SAAS,EACTrE,QAASgH,EAAShH,QAClBiH,aAAcD,EAASC,aACvBC,cAAeF,EAASE,gBAG5B,EAAK1F,MAAM2F,eAEb,WACM,EAAK/E,SACP,EAAKkB,SAAS,CAAEe,SAAS,Q,EA0EnC,OA3GgD,OAI9C,YAAA1B,kBAAA,WACEpB,KAAKa,SAAU,GAGjB,YAAAS,qBAAA,WACEtB,KAAKa,SAAU,GA8BjB,YAAAgF,YAAA,SAAYpH,EAA2BiH,EAAkBC,GACvD,YADqC,IAAAD,MAAA,GAC9BA,EACL,gBAACI,EAAA,MAAK,CAACC,QAAQ,WACZ,kCACC,2CACAtH,EAAQqB,KACR6F,EACAD,IAIJ,gBAACI,EAAA,MAAK,CAACC,QAAQ,WACZ,kCACC,2CACAtH,EAAQqB,KACR6F,KAMR,YAAA5F,OAAA,WACE,IAAM+D,EAAS,oBAAU,oCAEnB,EAAoD9D,KAAKc,MAAvDgC,EAAO,UAAErE,EAAO,UAAEiH,EAAY,eAAEC,EAAa,gBAErD,OACE,gBAAC,IAAK,CAACnB,aAAcV,EAAQW,eAAgBzE,KAAKC,MAAMyE,QAASC,KAAK,SACpE,wBAAMC,GAAG,uBAAuBC,SAAU7E,KAAKyD,kBAC7C,uBAAK5D,UAAU,cACb,0BAAKiE,IAGP,uBAAKjE,UAAU,cACD,MAAXpB,GAAoC,MAAjBkH,EAClB3F,KAAK6F,YAAYpH,EAASiH,EAAcC,GAExC,uBAAK9F,UAAU,eACb,yBAAOiF,QAAQ,0BACZ,oBAAU,UACX,sBAAIjF,UAAU,aAAW,MAE3B,yBAAO+E,GAAG,yBAAyB9E,KAAK,SAASoF,UAAU,EAAMC,KAAK,WAK1D,MAAjBQ,EACC,uBAAK9F,UAAU,cACZiD,GAAW,qBAAGjD,UAAU,yBACzB,gBAAC,eAAY,CAAC0F,SAAUzC,EAAS8B,GAAG,0BACjC,oBAAU,YAEb,gBAAC,kBAAe,CAACA,GAAG,yBAAyBY,QAASxF,KAAKC,MAAMyE,SAC9D,oBAAU,YAIf,uBAAK7E,UAAU,cACb,gBAAC,kBAAe,CAAC+E,GAAG,yBAAyBY,QAASxF,KAAKC,MAAMyE,SAC9D,oBAAU,cAQ3B,EA3GA,CAAgD,iB,iWCOhD,yE,OACE,EAAA5D,MAAe,CACbkF,gBAAgB,EAChBC,iBAAiB,GAGnB,EAAAC,kBAAoB,WAClB,EAAKnE,SAAS,CAAEiE,gBAAgB,KAGlC,EAAAG,aAAe,SAAC1H,GACd,EAAKwB,MAAMmG,iBAAiBvE,MAC1B,WACE,EAAK5B,MAAMoG,OAAO5G,KAAK,YAAehB,EAAQqB,KAAMrB,EAAQ6B,cAE9D,gBAIJ,EAAAgG,gBAAkB,WAChB,EAAKvE,SAAS,CAAEiE,gBAAgB,KAGlC,EAAAO,mBAAqB,WACnB,EAAKxE,SAAS,CAAEkE,iBAAiB,KAGnC,EAAAO,iBAAmB,WACjB,EAAKzE,SAAS,CAAEkE,iBAAiB,K,EAgErC,OA5FgC,OA+B9B,YAAAlG,OAAA,WACQ,MAA6CC,KAAKC,MAAhDwG,EAAO,UAAEvC,EAAS,YAAEF,EAAQ,WAAE9D,EAAQ,WAC9C,OACE,0BAAQL,UAAU,eAChB,sBAAIA,UAAU,cAAc,oBAAU,0BAErC4G,EAAQC,QACP,uBAAK7G,UAAU,gBACb,gBAAC,SAAM,CACL0F,SAA+B,IAArBrB,EAAU9E,OACpBwF,GAAG,0BACHY,QAASxF,KAAKkG,mBACb,oBAAU,WAEb,gBAAC,SAAM,CACLrG,UAAU,qBACV+E,GAAG,2BACHY,QAASxF,KAAKuG,oBACb,oBAAU,YAES,IAArBrC,EAAU9E,QACT,gBAAC0G,EAAA,MAAK,CAACjG,UAAU,aAAakG,QAAQ,WACnC,oBAAU,6CAMnB,uBAAKlG,UAAU,6BACZ,oBAAU,2BACX,2BACC,oBAAU,2BACX,gBAAC,IAAI,CACHA,UAAU,cACV8G,OAAO,SACPnG,GAAI,CACFoG,SAAU,6DAEX,oBAAU,gBAId5G,KAAKc,MAAMmF,iBACV,gBAAC,EAAkB,CACjBvB,QAAS1E,KAAKwG,iBACdZ,UAAW5F,KAAKC,MAAMmG,iBAIzBpG,KAAKc,MAAMkF,gBACV,gBAAC,EAAiB,CAChB9B,UAAWA,EACXF,SAAUA,EACVU,QAAS1E,KAAKsG,gBACd1C,SAAU5D,KAAKmG,aACfjG,SAAUA,MAMtB,EA5FA,CAAgC,iBA8FjB,SAAA2G,EAAA,GAAW,G,wZC5G1B,yE,OACE,EAAAC,aAAe,SAACzD,GACK,EAAKpD,MAAV,OAEP8G,QAAS1D,EAAwB,YAA2BA,EAAOF,OAAjD,M,EA6B7B,OAjCwC,OAOtC,YAAApD,OAAA,WACQ,MAA+BC,KAAKC,MAAlC+G,EAAa,gBAAE9C,EAAS,YAChC,GAAIA,EAAU9E,OAAS,EACrB,OAAO,KAGT,IAAMiG,EAAUnB,EAAUtE,KAAI,SAAAU,GAAY,MAAC,CACzCiE,MAAOjE,EAASR,KAChBqD,MAAO7C,EAASpB,QAGZ+H,EAAkBD,GAAiB3B,EAAQrG,MAAK,SAAAsG,GAAK,OAAAA,EAAEnC,QAAF,KAE3D,OACE,0BAAQtD,UAAU,yCAChB,wBAAMA,UAAU,gBAAgB,oBAAU,8BAAsC,KAChF,gBAAC,IAAM,CACLA,UAAU,eACVuF,WAAW,EACXH,SAAUjF,KAAK8G,aACfzB,QAASA,EACTlC,MAAO8D,MAKjB,EAjCA,CAAwC,iBAmCzB,SAAAJ,EAAA,GAAW,G,6DCwCX,eAvET,SAA0B5G,GACtB,IAAAxB,EAAYwB,EAAL,QAETiH,EAAS,IAAMzI,EAAQ0I,MAAQ,GAC/BC,EAAiB,YAAY,CACjC3G,SAAUhC,EAAQS,IAClBmI,WAAY,SAERC,EAAqB,YAAY,CACrC7G,SAAUhC,EAAQS,IAClBmI,WAAY,OACZE,SAAU,eAGZ,OACE,sBACE1H,UAAU,yCAAwC,WACxCpB,EAAQS,IAAG,YACVT,EAAQqB,MACnB,sBAAID,UAAU,2CACZ,uBAAKA,UAAU,sBAAsB2H,MAAO,CAAEC,YAAaP,IACzD,2BACE,gBAAC7G,EAAA,EAAW,CAACC,SAAU7B,EAAQ6B,SAAUR,KAAMrB,EAAQqB,MACpDrB,EAAQqB,OAGZrB,EAAQ8D,WAAa,gBAACmF,GAAA,EAA0B,CAAC7H,UAAU,kBAIhE,sBAAIA,UAAU,sEACXpB,EAAQkJ,UACP,gBAAC,KAAO,CAACC,QAAS,oBAAU,uCAC1B,wBAAM/H,UAAU,SAAS,oBAAU,aAGrC,4BAAOpB,EAAQoJ,eAInB,sBAAIhI,UAAU,mEACZ,2BACGpB,EAAQI,0BAA4B,GACnC,wBAAMgB,UAAU,gBACd,gBAAC,KAAO,CAAC+H,QAAS,oBAAU,sCAC1B,gBAAC,IAAI,CAAC/H,UAAU,oBAAoBW,GAAI8G,GACrC7I,EAAQI,6BAMjB,gBAAC,IAAI,CAAC2B,GAAI4G,GAAiB3I,EAAQqJ,mBAIvC,sBAAIjI,UAAU,kEACZ,gBAAC,KAAW,CAAC4C,KAAMhE,EAAQ+D,kBAG7B,sBAAI3C,UAAU,kEACZ,gBAAC,KAAW,CAAC4C,KAAMhE,EAAQsJ,YAG7B,sBAAIlI,UAAU,qEACZ,gBAACmI,GAAA,EAAc,CAACC,UAAU,EAAMxJ,QAASA,EAAS2H,eAAgBnG,EAAMmG,sB,qWChEhF,uE,OA8CE,EAAA8B,eAAiB,SAACC,EAAqBjI,GACrC,OACE,uBAAKL,UAAU,uDAAuDX,IAAKiJ,GACzE,yBAAOtI,UAAU,yBAAwB,gBAAgBsI,QACzC3E,IAAbtD,GAA0B,EAAKkI,aAAaD,EAAajI,EAASd,QACnE,kCAAqBoE,IAAbtD,GAA0B,EAAKmI,eAAenI,O,EAwChE,OA3F0C,QACxC,YAAAmI,eAAA,SAAenI,GAAf,WACE,OAAOA,EAASN,KAAI,SAAAnB,GAAW,OAC7B,gBAAC,GAAe,CACdS,IAAKT,EAAQS,IACbT,QAASA,EACT2H,eAAgB,EAAKnG,MAJM,qBASjC,YAAAmI,aAAA,SAAaD,EAAqBG,GAChC,IAAMhI,EAAWN,KAAKC,MAAMiE,UAAUlF,MAAK,SAAAsG,GAAK,OAAAA,EAAEpG,MAAF,KAEhD,OAAKoB,EAKH,6BACE,0BACE,0BACGA,EAASR,KACT,KACA,kCAAwB,8BAA+BwI,IAE1D,sBAAIzI,UAAU,qBACX,oBAAU,kCACX,gBAAC,IAAW,CACVA,UAAU,iBACV+H,QACE,uBAAK/H,UAAU,oCACZ,oBAAU,2CAKnB,sBAAIA,UAAU,qBAAqB,oBAAU,gCAC7C,sBAAIA,UAAU,qBAAqB,oBAAU,kCAC7C,sBAAIA,UAAU,qBAAqB,oBAAU,+BAC7C,iCAzBG,MA0CX,YAAAE,OAAA,eAWMwI,EAXN,OACQ,EAA0BvI,KAAKC,MAA7BC,EAAQ,WAAEgE,EAAS,YACnB5D,EAAaN,KAAKC,MAAM+D,SAASC,MAAzB,SAEVuE,EAAmC,IACvCtI,GACA,SAAAzB,GAAW,OAAAA,EAAA,YAGPgK,EAAiBnI,EAAW,IAAKkI,EAAelI,GAAYkI,EASlE,OALED,EADEjI,EACgB4D,EAAUlF,MAAK,SAAC,GAAY,OAAP,QAAesB,KAAY,CAACA,GAAY,GAE7D,IAAO4D,GAAW,SAAC,GAAa,OAAP,UAAatE,KAAI,SAAC,GAAY,OAAP,SAIlE,2BACE,gBAAC,EAAkB,CAACoH,cAAe1G,EAAU4D,UAAWA,IAEhB,IAAvCwE,OAAOC,KAAKF,GAAgBrJ,QAC3B,gBAAC0G,EAAA,MAAK,CAACjG,UAAU,aAAakG,QAAQ,WACnC,oBAAU,eAIdwC,EAAgB3I,KAAI,SAAAuI,GACnB,SAAKD,eAAeC,EAAaM,EAAeN,SAK1D,EA3FA,CAA0C,iB,iNCD5B,SAAUS,GAAc3I,GACpC,OACE,2BACE,gBAAC,EAAU,MAAKA,IAEhB,uBAAKJ,UAAU,qBACb,uBAAKA,UAAU,aACb,gBAAC,GAAY,MAAKI,KAEpB,uBAAKJ,UAAU,gBACb,gBAAC+C,EAAS,MAAK3C,S,iCC5CzB,IAAI4I,EAAY7I,MAAQA,KAAK6I,UAAa,WAStC,OARAA,EAAWH,OAAOI,QAAU,SAASC,GACjC,IAAK,IAAInH,EAAGoH,EAAI,EAAG1J,EAAI2J,UAAU7J,OAAQ4J,EAAI1J,EAAG0J,IAE5C,IAAK,IAAI/J,KADT2C,EAAIqH,UAAUD,GACON,OAAOQ,UAAUC,eAAeC,KAAKxH,EAAG3C,KACzD8J,EAAE9J,GAAK2C,EAAE3C,IAEjB,OAAO8J,IAEKM,MAAMrJ,KAAMiJ,YAE5BK,EAAUtJ,MAAQA,KAAKsJ,QAAW,SAAU1H,EAAG2H,GAC/C,IAAIR,EAAI,GACR,IAAK,IAAI9J,KAAK2C,EAAO8G,OAAOQ,UAAUC,eAAeC,KAAKxH,EAAG3C,IAAMsK,EAAEC,QAAQvK,GAAK,IAC9E8J,EAAE9J,GAAK2C,EAAE3C,IACb,GAAS,MAAL2C,GAAqD,mBAAjC8G,OAAOe,sBACtB,KAAIT,EAAI,EAAb,IAAgB/J,EAAIyJ,OAAOe,sBAAsB7H,GAAIoH,EAAI/J,EAAEG,OAAQ4J,IAC3DO,EAAEC,QAAQvK,EAAE+J,IAAM,GAAKN,OAAOQ,UAAUQ,qBAAqBN,KAAKxH,EAAG3C,EAAE+J,MACvED,EAAE9J,EAAE+J,IAAMpH,EAAE3C,EAAE+J,KAE1B,OAAOD,GAEXL,OAAOiB,eAAeC,EAAS,aAAc,CAAEzG,OAAO,IACtD,IAAI0G,EAAa,EAAQ,KACrBC,EAAQ,EAAQ,IAChBC,EAAa,EAAQ,KACrBC,EAAU,EAAQ,KACtB,EAAQ,KACR,IAAIC,EAAY,EAAQ,KACxB,SAASC,EAAYC,GACjB,IAAIC,EAAKD,EAAGxF,KAAMA,OAAc,IAAPyF,EAAgB,GAAKA,EAAInK,EAAQqJ,EAAOa,EAAI,CAAC,SACtE,OAAQL,EAAMO,cAAc,MAAO,CAAExK,UAAWgK,EAAW,eAAgB5J,EAAMJ,YAC7EiK,EAAMO,cAAcJ,EAAUK,QAAS,CAAEC,gBAAiB,IAAMC,OAAQvK,EAAMuK,OAAQ5C,QAAS3H,EAAM2H,QAAS6C,UAAWxK,EAAMwK,WAC3HX,EAAMO,cAAc,OAAQ,CAAExK,UAAW,8BAAgCI,EAAMyK,UAAaZ,EAAMO,cAAcL,EAAQW,cAAe,MAAM,SAAUC,GAAS,OAAOd,EAAMO,cAAcN,EAAWO,QAAS,CAAEO,KAAMD,EAAME,OAAOC,OAAQpG,KAAMA,UAE9PiF,EAAQU,QAAUJ,EASlBN,EAAQoB,gBARR,SAAyBb,GACrB,IAAIC,EAAKD,EAAGxF,KAAMA,OAAc,IAAPyF,EAAgB,GAAKA,EAAInK,EAAQqJ,EAAOa,EAAI,CAAC,SACtE,OAAQL,EAAMO,cAAcH,EAAarB,EAAS,GAAI5I,GAClD6J,EAAMO,cAAcL,EAAQW,cAAe,MAAM,SAAUR,GACvD,IAAIW,EAASX,EAAGW,OAChB,OAAQhB,EAAMO,cAAcN,EAAWO,QAAS,CAAEO,KAAMC,EAAOG,iBAAkBC,UAAWJ,EAAOK,MAAOxG,KAAMA,U,oBC1C5H,IAAIyG,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQf,QAAUe,KAG/CA,EAAU,CAAC,CAACE,EAAOvC,EAAIqC,EAAS,MAG9C,IAAIhG,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBmG,GAFSJ,EAAIC,EAAShG,GAEXgG,EAAQI,OAASJ,EAAQI,OAAS,IAIjDF,EAAO3B,QAAU4B,G,qBClBjB5B,EADkC,EAAQ,IAChC8B,EAA4B,IAE9BjM,KAAK,CAAC8L,EAAOvC,EAAI,iJAAkJ,KAE3KuC,EAAO3B,QAAUA,G,iCCLjB,IAAIf,EAAY7I,MAAQA,KAAK6I,UAAa,WAStC,OARAA,EAAWH,OAAOI,QAAU,SAASC,GACjC,IAAK,IAAInH,EAAGoH,EAAI,EAAG1J,EAAI2J,UAAU7J,OAAQ4J,EAAI1J,EAAG0J,IAE5C,IAAK,IAAI/J,KADT2C,EAAIqH,UAAUD,GACON,OAAOQ,UAAUC,eAAeC,KAAKxH,EAAG3C,KACzD8J,EAAE9J,GAAK2C,EAAE3C,IAEjB,OAAO8J,IAEKM,MAAMrJ,KAAMiJ,YAEhCP,OAAOiB,eAAeC,EAAS,aAAc,CAAEzG,OAAO,IACtD,IAAI2G,EAAQ,EAAQ,IAChB6B,EAAe,EAAQ,KACvBC,EAAU,EAAQ,KACtBhC,EAAQiC,gBAAkB,CAAEC,KAAM,UAAWC,MAAO,QAASC,IAAK,WAClEpC,EAAQqC,oBAAsB,CAAEH,KAAM,UAAWC,MAAO,OAAQC,IAAK,WAKrEpC,EAAQU,QAJR,SAAuBH,GACnB,IAAIO,EAAWP,EAAGO,SAAUjI,EAAO0H,EAAG1H,KAAMC,EAAOyH,EAAGzH,KACtD,OAAQoH,EAAMO,cAAcsB,EAAaO,cAAerD,EAAS,CAAE1F,MAAOyI,EAAQO,UAAU1J,IAAUC,EAAOkH,EAAQqC,oBAAsBrC,EAAQiC,iBAAmBnB,K,oBCpB1K,IAAI0B,EAAkB,EAAQ,KAC1BC,EAAmB,EAAQ,KAM3BlD,EAHcT,OAAOQ,UAGQC,eAyB7BmD,EAAUD,GAAiB,SAASE,EAAQpJ,EAAOjE,GACjDiK,EAAeC,KAAKmD,EAAQrN,GAC9BqN,EAAOrN,GAAKO,KAAK0D,GAEjBiJ,EAAgBG,EAAQrN,EAAK,CAACiE,OAIlCoI,EAAO3B,QAAU0C","file":"js/333.1613385090031.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getDeprecatedActiveRulesUrl } from '../../../helpers/urls';\nimport ProfileLink from '../components/ProfileLink';\nimport { Profile } from '../types';\n\ninterface Props {\n  profiles: Profile[];\n}\n\ninterface InheritedRulesInfo {\n  count: number;\n  from: Profile;\n}\n\nexport default class EvolutionDeprecated extends React.PureComponent<Props> {\n  getDeprecatedRulesInheritanceChain = (profile: Profile, profilesWithDeprecations: Profile[]) => {\n    let rules: InheritedRulesInfo[] = [];\n    let count = profile.activeDeprecatedRuleCount;\n\n    if (count === 0) {\n      return rules;\n    }\n\n    if (profile.parentKey) {\n      const parentProfile = profilesWithDeprecations.find(p => p.key === profile.parentKey);\n      if (parentProfile) {\n        const parentRules = this.getDeprecatedRulesInheritanceChain(\n          parentProfile,\n          profilesWithDeprecations\n        );\n        if (parentRules.length) {\n          count -= parentRules.reduce((n, rule) => n + rule.count, 0);\n          rules = rules.concat(parentRules);\n        }\n      }\n    }\n\n    if (count > 0) {\n      rules.push({\n        count,\n        from: profile\n      });\n    }\n\n    return rules;\n  };\n\n  renderInheritedInfo = (profile: Profile, profilesWithDeprecations: Profile[]) => {\n    const rules = this.getDeprecatedRulesInheritanceChain(profile, profilesWithDeprecations);\n    if (rules.length) {\n      return (\n        <>\n          {rules.map(rule => {\n            if (rule.from.key === profile.key) {\n              return null;\n            }\n\n            return (\n              <div className=\"muted\" key={rule.from.key}>\n                {' '}\n                {translateWithParameters(\n                  'coding_rules.filters.inheritance.x_inherited_from_y',\n                  rule.count,\n                  rule.from.name\n                )}\n              </div>\n            );\n          })}\n        </>\n      );\n    }\n    return null;\n  };\n\n  render() {\n    const profilesWithDeprecations = this.props.profiles.filter(\n      profile => profile.activeDeprecatedRuleCount > 0\n    );\n\n    if (profilesWithDeprecations.length === 0) {\n      return null;\n    }\n\n    const sortedProfiles = sortBy(profilesWithDeprecations, p => -p.activeDeprecatedRuleCount);\n\n    return (\n      <div className=\"boxed-group boxed-group-inner quality-profiles-evolution-deprecated\">\n        <div className=\"spacer-bottom\">\n          <strong>{translate('quality_profiles.deprecated_rules')}</strong>\n        </div>\n        <div className=\"spacer-bottom\">\n          {translateWithParameters(\n            'quality_profiles.deprecated_rules_are_still_activated',\n            profilesWithDeprecations.length\n          )}\n        </div>\n        <ul>\n          {sortedProfiles.map(profile => (\n            <li className=\"spacer-top\" key={profile.key}>\n              <div className=\"text-ellipsis\">\n                <ProfileLink\n                  className=\"link-no-underline\"\n                  language={profile.language}\n                  name={profile.name}>\n                  {profile.name}\n                </ProfileLink>\n              </div>\n              <div className=\"note\">\n                {profile.languageName}\n                {', '}\n                <Link\n                  className=\"text-muted\"\n                  to={getDeprecatedActiveRulesUrl({ qprofile: profile.key })}>\n                  {translateWithParameters(\n                    'quality_profile.x_rules',\n                    profile.activeDeprecatedRuleCount\n                  )}\n                </Link>\n                {this.renderInheritedInfo(profile, profilesWithDeprecations)}\n              </div>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { toShortNotSoISOString } from 'sonar-ui-common/helpers/dates';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { searchRules } from '../../../api/rules';\nimport { getRulesUrl } from '../../../helpers/urls';\n\nconst RULES_LIMIT = 10;\n\nfunction parseRules(rules: T.Rule[], actives?: T.Dict<T.RuleActivation[]>): ExtendedRule[] {\n  return rules.map(rule => {\n    const activations = actives && actives[rule.key];\n    return { ...rule, activations: activations ? activations.length : 0 };\n  });\n}\n\ninterface ExtendedRule extends T.Rule {\n  activations: number;\n}\n\ninterface State {\n  latestRules?: ExtendedRule[];\n  latestRulesTotal?: number;\n}\n\nexport default class EvolutionRules extends React.PureComponent<{}, State> {\n  periodStartDate: string;\n  mounted = false;\n\n  constructor(props: {}) {\n    super(props);\n    this.state = {};\n    const startDate = new Date();\n    startDate.setFullYear(startDate.getFullYear() - 1);\n    this.periodStartDate = toShortNotSoISOString(startDate);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadLatestRules();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadLatestRules() {\n    const data = {\n      asc: false,\n      available_since: this.periodStartDate,\n      f: 'name,langName,actives',\n      ps: RULES_LIMIT,\n      s: 'createdAt'\n    };\n\n    searchRules(data).then(\n      ({ actives, rules, total }) => {\n        if (this.mounted) {\n          this.setState({\n            latestRules: sortBy(parseRules(rules, actives), 'langName'),\n            latestRulesTotal: total\n          });\n        }\n      },\n      () => {\n        /*noop*/\n      }\n    );\n  }\n\n  render() {\n    if (!this.state.latestRulesTotal || !this.state.latestRules) {\n      return null;\n    }\n\n    const newRulesUrl = getRulesUrl({ available_since: this.periodStartDate });\n\n    return (\n      <div className=\"boxed-group boxed-group-inner quality-profiles-evolution-rules\">\n        <div className=\"clearfix\">\n          <strong className=\"pull-left\">{translate('quality_profiles.latest_new_rules')}</strong>\n        </div>\n        <ul>\n          {this.state.latestRules.map(rule => (\n            <li className=\"spacer-top\" key={rule.key}>\n              <div className=\"text-ellipsis\">\n                <Link className=\"link-no-underline\" to={getRulesUrl({ rule_key: rule.key })}>\n                  {' '}\n                  {rule.name}\n                </Link>\n                <div className=\"note\">\n                  {rule.activations\n                    ? translateWithParameters(\n                        'quality_profiles.latest_new_rules.activated',\n                        rule.langName!,\n                        rule.activations\n                      )\n                    : translateWithParameters(\n                        'quality_profiles.latest_new_rules.not_activated',\n                        rule.langName!\n                      )}\n                </div>\n              </div>\n            </li>\n          ))}\n        </ul>\n        {this.state.latestRulesTotal > RULES_LIMIT && (\n          <div className=\"spacer-top\">\n            <Link className=\"small\" to={newRulesUrl}>\n              {translate('see_all')} {formatMeasure(this.state.latestRulesTotal, 'SHORT_INT', null)}\n            </Link>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DateFormatter from 'sonar-ui-common/components/intl/DateFormatter';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport ProfileLink from '../components/ProfileLink';\nimport { Profile } from '../types';\nimport { isStagnant } from '../utils';\n\ninterface Props {\n  profiles: Profile[];\n}\n\nexport default function EvolutionStagnant(props: Props) {\n  const outdated = props.profiles.filter(profile => !profile.isBuiltIn && isStagnant(profile));\n\n  if (outdated.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"boxed-group boxed-group-inner quality-profiles-evolution-stagnant\">\n      <div className=\"spacer-bottom\">\n        <strong>{translate('quality_profiles.stagnant_profiles')}</strong>\n      </div>\n      <div className=\"spacer-bottom\">\n        {translate('quality_profiles.not_updated_more_than_year')}\n      </div>\n      <ul>\n        {outdated.map(profile => (\n          <li className=\"spacer-top\" key={profile.key}>\n            <div className=\"text-ellipsis\">\n              <ProfileLink\n                className=\"link-no-underline\"\n                language={profile.language}\n                name={profile.name}>\n                {profile.name}\n              </ProfileLink>\n            </div>\n            {profile.rulesUpdatedAt && (\n              <DateFormatter date={profile.rulesUpdatedAt} long={true}>\n                {formattedDate => (\n                  <div className=\"note\">\n                    {translateWithParameters(\n                      'quality_profiles.x_updated_on_y',\n                      profile.languageName,\n                      formattedDate\n                    )}\n                  </div>\n                )}\n              </DateFormatter>\n            )}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Profile } from '../types';\nimport EvolutionDeprecated from './EvolutionDeprecated';\nimport EvolutionRules from './EvolutionRules';\nimport EvolutionStagnant from './EvolutionStagnant';\n\nexport interface EvolutionProps {\n  profiles: Profile[];\n}\n\nexport default function Evolution({ profiles }: EvolutionProps) {\n  return (\n    <div className=\"quality-profiles-evolution\">\n      <EvolutionDeprecated profiles={profiles} />\n      <EvolutionStagnant profiles={profiles} />\n      <EvolutionRules />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { parseAsOptionalString } from 'sonar-ui-common/helpers/query';\nimport {\n  changeProfileParent,\n  createQualityProfile,\n  getImporters\n} from '../../../api/quality-profiles';\nimport { Location } from '../../../components/hoc/withRouter';\nimport { Profile } from '../types';\n\ninterface Props {\n  languages: Array<{ key: string; name: string }>;\n  location: Location;\n  onClose: () => void;\n  onCreate: Function;\n  profiles: Profile[];\n}\n\ninterface State {\n  importers: Array<{ key: string; languages: Array<string>; name: string }>;\n  language?: string;\n  loading: boolean;\n  name: string;\n  parent?: string;\n  preloading: boolean;\n}\n\nexport default class CreateProfileForm extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { importers: [], loading: false, name: '', preloading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchImporters();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchImporters() {\n    getImporters().then(\n      importers => {\n        if (this.mounted) {\n          this.setState({ importers, preloading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ preloading: false });\n        }\n      }\n    );\n  }\n\n  handleNameChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\n    this.setState({ name: event.currentTarget.value });\n  };\n\n  handleLanguageChange = (option: { value: string }) => {\n    this.setState({ language: option.value });\n  };\n\n  handleParentChange = (option: { value: string } | null) => {\n    this.setState({ parent: option ? option.value : undefined });\n  };\n\n  handleFormSubmit = async (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    this.setState({ loading: true });\n\n    const data = new FormData(event.currentTarget);\n\n    try {\n      const { profile } = await createQualityProfile(data);\n\n      const parentProfile = this.props.profiles.find(p => p.key === this.state.parent);\n      if (parentProfile) {\n        await changeProfileParent(profile, parentProfile);\n      }\n\n      this.props.onCreate(profile);\n    } finally {\n      if (this.mounted) {\n        this.setState({ loading: false });\n      }\n    }\n  };\n\n  render() {\n    const header = translate('quality_profiles.new_profile');\n    const languageQueryFilter = parseAsOptionalString(this.props.location.query.language);\n    const languages = sortBy(this.props.languages, 'name');\n    let profiles: Array<{ label: string; value: string }> = [];\n\n    const selectedLanguage = this.state.language || languageQueryFilter || languages[0].key;\n    const importers = this.state.importers.filter(importer =>\n      importer.languages.includes(selectedLanguage)\n    );\n\n    if (selectedLanguage) {\n      const languageProfiles = this.props.profiles.filter(p => p.language === selectedLanguage);\n      profiles = [\n        { label: translate('none'), value: '' },\n        ...sortBy(languageProfiles, 'name').map(profile => ({\n          label: profile.isBuiltIn\n            ? `${profile.name} (${translate('quality_profiles.built_in')})`\n            : profile.name,\n          value: profile.key\n        }))\n      ];\n    }\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose} size=\"small\">\n        <form id=\"create-profile-form\" onSubmit={this.handleFormSubmit}>\n          <div className=\"modal-head\">\n            <h2>{header}</h2>\n          </div>\n\n          {this.state.preloading ? (\n            <div className=\"modal-body\">\n              <i className=\"spinner\" />\n            </div>\n          ) : (\n            <div className=\"modal-body\">\n              <div className=\"modal-field\">\n                <label htmlFor=\"create-profile-name\">\n                  {translate('name')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                <input\n                  autoFocus={true}\n                  id=\"create-profile-name\"\n                  maxLength={100}\n                  name=\"name\"\n                  onChange={this.handleNameChange}\n                  required={true}\n                  size={50}\n                  type=\"text\"\n                  value={this.state.name}\n                />\n              </div>\n              <div className=\"modal-field\">\n                <label htmlFor=\"create-profile-language\">\n                  {translate('language')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                <Select\n                  clearable={false}\n                  id=\"create-profile-language\"\n                  name=\"language\"\n                  onChange={this.handleLanguageChange}\n                  options={languages.map(l => ({\n                    label: l.name,\n                    value: l.key\n                  }))}\n                  value={selectedLanguage}\n                />\n              </div>\n              {selectedLanguage && profiles.length && (\n                <div className=\"modal-field\">\n                  <label htmlFor=\"create-profile-parent\">\n                    {translate('quality_profiles.parent')}\n                  </label>\n                  <Select\n                    clearable={true}\n                    id=\"create-profile-parent\"\n                    name=\"parentKey\"\n                    onChange={this.handleParentChange}\n                    options={profiles}\n                    value={this.state.parent || ''}\n                  />\n                </div>\n              )}\n              {importers.map(importer => (\n                <div\n                  className=\"modal-field spacer-bottom js-importer\"\n                  data-key={importer.key}\n                  key={importer.key}>\n                  <label htmlFor={'create-profile-form-backup-' + importer.key}>\n                    {importer.name}\n                  </label>\n                  <input\n                    id={'create-profile-form-backup-' + importer.key}\n                    name={'backup_' + importer.key}\n                    type=\"file\"\n                  />\n                  <p className=\"note\">\n                    {translate('quality_profiles.optional_configuration_file')}\n                  </p>\n                </div>\n              ))}\n              {/* drop me when we stop supporting ie11 */}\n              <input name=\"hello-ie11\" type=\"hidden\" value=\"\" />\n            </div>\n          )}\n\n          <div className=\"modal-foot\">\n            {this.state.loading && <i className=\"spinner spacer-right\" />}\n            {!this.state.preloading && (\n              <SubmitButton disabled={this.state.loading} id=\"create-profile-submit\">\n                {translate('create')}\n              </SubmitButton>\n            )}\n            <ResetButtonLink id=\"create-profile-cancel\" onClick={this.props.onClose}>\n              {translate('cancel')}\n            </ResetButtonLink>\n          </div>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { restoreQualityProfile } from '../../../api/quality-profiles';\n\ninterface Props {\n  onClose: () => void;\n  onRestore: () => void;\n}\n\ninterface State {\n  loading: boolean;\n  profile?: { name: string };\n  ruleFailures?: number;\n  ruleSuccesses?: number;\n}\n\nexport default class RestoreProfileForm extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    this.setState({ loading: true });\n\n    const data = new FormData(event.currentTarget);\n\n    restoreQualityProfile(data).then(\n      (response: any) => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            profile: response.profile,\n            ruleFailures: response.ruleFailures,\n            ruleSuccesses: response.ruleSuccesses\n          });\n        }\n        this.props.onRestore();\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderAlert(profile: { name: string }, ruleFailures = 0, ruleSuccesses: number): React.ReactNode {\n    return ruleFailures ? (\n      <Alert variant=\"warning\">\n        {translateWithParameters(\n          'quality_profiles.restore_profile.warning',\n          profile.name,\n          ruleSuccesses,\n          ruleFailures\n        )}\n      </Alert>\n    ) : (\n      <Alert variant=\"success\">\n        {translateWithParameters(\n          'quality_profiles.restore_profile.success',\n          profile.name,\n          ruleSuccesses\n        )}\n      </Alert>\n    );\n  }\n\n  render() {\n    const header = translate('quality_profiles.restore_profile');\n\n    const { loading, profile, ruleFailures, ruleSuccesses } = this.state;\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose} size=\"small\">\n        <form id=\"restore-profile-form\" onSubmit={this.handleFormSubmit}>\n          <div className=\"modal-head\">\n            <h2>{header}</h2>\n          </div>\n\n          <div className=\"modal-body\">\n            {profile != null && ruleSuccesses != null ? (\n              this.renderAlert(profile, ruleFailures, ruleSuccesses)\n            ) : (\n              <div className=\"modal-field\">\n                <label htmlFor=\"restore-profile-backup\">\n                  {translate('backup')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                <input id=\"restore-profile-backup\" name=\"backup\" required={true} type=\"file\" />\n              </div>\n            )}\n          </div>\n\n          {ruleSuccesses == null ? (\n            <div className=\"modal-foot\">\n              {loading && <i className=\"spinner spacer-right\" />}\n              <SubmitButton disabled={loading} id=\"restore-profile-submit\">\n                {translate('restore')}\n              </SubmitButton>\n              <ResetButtonLink id=\"restore-profile-cancel\" onClick={this.props.onClose}>\n                {translate('cancel')}\n              </ResetButtonLink>\n            </div>\n          ) : (\n            <div className=\"modal-foot\">\n              <ResetButtonLink id=\"restore-profile-cancel\" onClick={this.props.onClose}>\n                {translate('close')}\n              </ResetButtonLink>\n            </div>\n          )}\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Actions } from '../../../api/quality-profiles';\nimport { Location, Router, withRouter } from '../../../components/hoc/withRouter';\nimport { Profile } from '../types';\nimport { getProfilePath } from '../utils';\nimport CreateProfileForm from './CreateProfileForm';\nimport RestoreProfileForm from './RestoreProfileForm';\n\ninterface Props {\n  actions: Actions;\n  languages: Array<{ key: string; name: string }>;\n  location: Location;\n  profiles: Profile[];\n  router: Pick<Router, 'push'>;\n  updateProfiles: () => Promise<void>;\n}\n\ninterface State {\n  createFormOpen: boolean;\n  restoreFormOpen: boolean;\n}\n\nexport class PageHeader extends React.PureComponent<Props, State> {\n  state: State = {\n    createFormOpen: false,\n    restoreFormOpen: false\n  };\n\n  handleCreateClick = () => {\n    this.setState({ createFormOpen: true });\n  };\n\n  handleCreate = (profile: Profile) => {\n    this.props.updateProfiles().then(\n      () => {\n        this.props.router.push(getProfilePath(profile.name, profile.language));\n      },\n      () => {}\n    );\n  };\n\n  closeCreateForm = () => {\n    this.setState({ createFormOpen: false });\n  };\n\n  handleRestoreClick = () => {\n    this.setState({ restoreFormOpen: true });\n  };\n\n  closeRestoreForm = () => {\n    this.setState({ restoreFormOpen: false });\n  };\n\n  render() {\n    const { actions, languages, location, profiles } = this.props;\n    return (\n      <header className=\"page-header\">\n        <h1 className=\"page-title\">{translate('quality_profiles.page')}</h1>\n\n        {actions.create && (\n          <div className=\"page-actions\">\n            <Button\n              disabled={languages.length === 0}\n              id=\"quality-profiles-create\"\n              onClick={this.handleCreateClick}>\n              {translate('create')}\n            </Button>\n            <Button\n              className=\"little-spacer-left\"\n              id=\"quality-profiles-restore\"\n              onClick={this.handleRestoreClick}>\n              {translate('restore')}\n            </Button>\n            {languages.length === 0 && (\n              <Alert className=\"spacer-top\" variant=\"warning\">\n                {translate('quality_profiles.no_languages_available')}\n              </Alert>\n            )}\n          </div>\n        )}\n\n        <div className=\"page-description markdown\">\n          {translate('quality_profiles.intro1')}\n          <br />\n          {translate('quality_profiles.intro2')}\n          <Link\n            className=\"spacer-left\"\n            target=\"_blank\"\n            to={{\n              pathname: '/documentation/instance-administration/quality-profiles/'\n            }}>\n            {translate('learn_more')}\n          </Link>\n        </div>\n\n        {this.state.restoreFormOpen && (\n          <RestoreProfileForm\n            onClose={this.closeRestoreForm}\n            onRestore={this.props.updateProfiles}\n          />\n        )}\n\n        {this.state.createFormOpen && (\n          <CreateProfileForm\n            languages={languages}\n            location={location}\n            onClose={this.closeCreateForm}\n            onCreate={this.handleCreate}\n            profiles={profiles}\n          />\n        )}\n      </header>\n    );\n  }\n}\n\nexport default withRouter(PageHeader);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Router, withRouter } from '../../../components/hoc/withRouter';\nimport { getProfilesForLanguagePath, PROFILE_PATH } from '../utils';\n\ninterface Props {\n  currentFilter?: string;\n  languages: Array<{ key: string; name: string }>;\n  router: Pick<Router, 'replace'>;\n}\n\nexport class ProfilesListHeader extends React.PureComponent<Props> {\n  handleChange = (option: { value: string } | null) => {\n    const { router } = this.props;\n\n    router.replace(!option ? PROFILE_PATH : getProfilesForLanguagePath(option.value));\n  };\n\n  render() {\n    const { currentFilter, languages } = this.props;\n    if (languages.length < 2) {\n      return null;\n    }\n\n    const options = languages.map(language => ({\n      label: language.name,\n      value: language.key\n    }));\n\n    const currentLanguage = currentFilter && options.find(l => l.value === currentFilter);\n\n    return (\n      <header className=\"quality-profiles-list-header clearfix\">\n        <span className=\"spacer-right\">{translate('quality_profiles.filter_by')}:</span>\n        <Select\n          className=\"input-medium\"\n          clearable={true}\n          onChange={this.handleChange}\n          options={options}\n          value={currentLanguage}\n        />\n      </header>\n    );\n  }\n}\n\nexport default withRouter(ProfilesListHeader);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getRulesUrl } from '../../../helpers/urls';\nimport BuiltInQualityProfileBadge from '../components/BuiltInQualityProfileBadge';\nimport ProfileActions from '../components/ProfileActions';\nimport ProfileLink from '../components/ProfileLink';\nimport { Profile } from '../types';\n\nexport interface ProfilesListRowProps {\n  profile: Profile;\n  updateProfiles: () => Promise<void>;\n}\n\nexport function ProfilesListRow(props: ProfilesListRowProps) {\n  const { profile } = props;\n\n  const offset = 25 * (profile.depth - 1);\n  const activeRulesUrl = getRulesUrl({\n    qprofile: profile.key,\n    activation: 'true'\n  });\n  const deprecatedRulesUrl = getRulesUrl({\n    qprofile: profile.key,\n    activation: 'true',\n    statuses: 'DEPRECATED'\n  });\n\n  return (\n    <tr\n      className=\"quality-profiles-table-row text-middle\"\n      data-key={profile.key}\n      data-name={profile.name}>\n      <td className=\"quality-profiles-table-name text-middle\">\n        <div className=\"display-flex-center\" style={{ paddingLeft: offset }}>\n          <div>\n            <ProfileLink language={profile.language} name={profile.name}>\n              {profile.name}\n            </ProfileLink>\n          </div>\n          {profile.isBuiltIn && <BuiltInQualityProfileBadge className=\"spacer-left\" />}\n        </div>\n      </td>\n\n      <td className=\"quality-profiles-table-projects thin nowrap text-middle text-right\">\n        {profile.isDefault ? (\n          <Tooltip overlay={translate('quality_profiles.list.default.help')}>\n            <span className=\"badge\">{translate('default')}</span>\n          </Tooltip>\n        ) : (\n          <span>{profile.projectCount}</span>\n        )}\n      </td>\n\n      <td className=\"quality-profiles-table-rules thin nowrap text-middle text-right\">\n        <div>\n          {profile.activeDeprecatedRuleCount > 0 && (\n            <span className=\"spacer-right\">\n              <Tooltip overlay={translate('quality_profiles.deprecated_rules')}>\n                <Link className=\"badge badge-error\" to={deprecatedRulesUrl}>\n                  {profile.activeDeprecatedRuleCount}\n                </Link>\n              </Tooltip>\n            </span>\n          )}\n\n          <Link to={activeRulesUrl}>{profile.activeRuleCount}</Link>\n        </div>\n      </td>\n\n      <td className=\"quality-profiles-table-date thin nowrap text-middle text-right\">\n        <DateFromNow date={profile.rulesUpdatedAt} />\n      </td>\n\n      <td className=\"quality-profiles-table-date thin nowrap text-middle text-right\">\n        <DateFromNow date={profile.lastUsed} />\n      </td>\n\n      <td className=\"quality-profiles-table-actions thin nowrap text-middle text-right\">\n        <ProfileActions fromList={true} profile={profile} updateProfiles={props.updateProfiles} />\n      </td>\n    </tr>\n  );\n}\n\nexport default React.memo(ProfilesListRow);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Location } from 'history';\nimport { groupBy, pick, sortBy } from 'lodash';\nimport * as React from 'react';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { Profile } from '../types';\nimport ProfilesListHeader from './ProfilesListHeader';\nimport ProfilesListRow from './ProfilesListRow';\n\ninterface Props {\n  languages: T.Language[];\n  location: Pick<Location, 'query'>;\n  profiles: Profile[];\n  updateProfiles: () => Promise<void>;\n}\n\nexport default class ProfilesList extends React.PureComponent<Props> {\n  renderProfiles(profiles: Profile[]) {\n    return profiles.map(profile => (\n      <ProfilesListRow\n        key={profile.key}\n        profile={profile}\n        updateProfiles={this.props.updateProfiles}\n      />\n    ));\n  }\n\n  renderHeader(languageKey: string, profilesCount: number) {\n    const language = this.props.languages.find(l => l.key === languageKey);\n\n    if (!language) {\n      return null;\n    }\n\n    return (\n      <thead>\n        <tr>\n          <th>\n            {language.name}\n            {', '}\n            {translateWithParameters('quality_profiles.x_profiles', profilesCount)}\n          </th>\n          <th className=\"text-right nowrap\">\n            {translate('quality_profiles.list.projects')}\n            <HelpTooltip\n              className=\"table-cell-doc\"\n              overlay={\n                <div className=\"big-padded-top big-padded-bottom\">\n                  {translate('quality_profiles.list.projects.help')}\n                </div>\n              }\n            />\n          </th>\n          <th className=\"text-right nowrap\">{translate('quality_profiles.list.rules')}</th>\n          <th className=\"text-right nowrap\">{translate('quality_profiles.list.updated')}</th>\n          <th className=\"text-right nowrap\">{translate('quality_profiles.list.used')}</th>\n          <th>&nbsp;</th>\n        </tr>\n      </thead>\n    );\n  }\n\n  renderLanguage = (languageKey: string, profiles: Profile[] | undefined) => {\n    return (\n      <div className=\"boxed-group boxed-group-inner quality-profiles-table\" key={languageKey}>\n        <table className=\"data zebra zebra-hover\" data-language={languageKey}>\n          {profiles !== undefined && this.renderHeader(languageKey, profiles.length)}\n          <tbody>{profiles !== undefined && this.renderProfiles(profiles)}</tbody>\n        </table>\n      </div>\n    );\n  };\n\n  render() {\n    const { profiles, languages } = this.props;\n    const { language } = this.props.location.query;\n\n    const profilesIndex: T.Dict<Profile[]> = groupBy<Profile>(\n      profiles,\n      profile => profile.language\n    );\n\n    const profilesToShow = language ? pick(profilesIndex, language) : profilesIndex;\n\n    let languagesToShow: string[];\n    if (language) {\n      languagesToShow = languages.find(({ key }) => key === language) ? [language] : [];\n    } else {\n      languagesToShow = sortBy(languages, ({ name }) => name).map(({ key }) => key);\n    }\n\n    return (\n      <div>\n        <ProfilesListHeader currentFilter={language} languages={languages} />\n\n        {Object.keys(profilesToShow).length === 0 && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('no_results')}\n          </Alert>\n        )}\n\n        {languagesToShow.map(languageKey =>\n          this.renderLanguage(languageKey, profilesToShow[languageKey])\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Actions } from '../../../api/quality-profiles';\nimport { Location } from '../../../components/hoc/withRouter';\nimport { Profile } from '../types';\nimport Evolution from './Evolution';\nimport PageHeader from './PageHeader';\nimport ProfilesList from './ProfilesList';\n\ninterface Props {\n  actions: Actions;\n  languages: Array<{ key: string; name: string }>;\n  location: Location;\n  profiles: Profile[];\n  updateProfiles: () => Promise<void>;\n}\n\nexport default function HomeContainer(props: Props) {\n  return (\n    <div>\n      <PageHeader {...props} />\n\n      <div className=\"page-with-sidebar\">\n        <div className=\"page-main\">\n          <ProfilesList {...props} />\n        </div>\n        <div className=\"page-sidebar\">\n          <Evolution {...props} />\n        </div>\n      </div>\n    </div>\n  );\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar HelpIcon_1 = require(\"../icons/HelpIcon\");\nvar theme_1 = require(\"../theme\");\nrequire(\"./HelpTooltip.css\");\nvar Tooltip_1 = require(\"./Tooltip\");\nfunction HelpTooltip(_a) {\n    var _b = _a.size, size = _b === void 0 ? 12 : _b, props = __rest(_a, [\"size\"]);\n    return (React.createElement(\"div\", { className: classNames('help-tooltip', props.className) },\n        React.createElement(Tooltip_1.default, { mouseLeaveDelay: 0.25, onShow: props.onShow, overlay: props.overlay, placement: props.placement },\n            React.createElement(\"span\", { className: \"display-inline-flex-center\" }, props.children || (React.createElement(theme_1.ThemeConsumer, null, function (theme) { return React.createElement(HelpIcon_1.default, { fill: theme.colors.gray71, size: size }); }))))));\n}\nexports.default = HelpTooltip;\nfunction DarkHelpTooltip(_a) {\n    var _b = _a.size, size = _b === void 0 ? 12 : _b, props = __rest(_a, [\"size\"]);\n    return (React.createElement(HelpTooltip, __assign({}, props),\n        React.createElement(theme_1.ThemeConsumer, null, function (_a) {\n            var colors = _a.colors;\n            return (React.createElement(HelpIcon_1.default, { fill: colors.transparentBlack, fillInner: colors.white, size: size }));\n        })));\n}\nexports.DarkHelpTooltip = DarkHelpTooltip;\n//# sourceMappingURL=HelpTooltip.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./HelpTooltip.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nexports.formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\nexports.longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\nfunction DateFormatter(_a) {\n    var children = _a.children, date = _a.date, long = _a.long;\n    return (React.createElement(react_intl_1.FormattedDate, __assign({ value: dates_1.parseDate(date) }, (long ? exports.longFormatterOption : exports.formatterOption)), children));\n}\nexports.default = DateFormatter;\n//# sourceMappingURL=DateFormatter.js.map","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n"],"sourceRoot":""}